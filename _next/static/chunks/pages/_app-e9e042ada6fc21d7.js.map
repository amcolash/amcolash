{"version":3,"file":"static/chunks/pages/_app-e9e042ada6fc21d7.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@emotion/memoize/dist/memoize.browser.esm.js","webpack://_N_E/./node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js","webpack://_N_E/./node_modules/focus-group/index.js","webpack://_N_E/./node_modules/focus-trap-react/dist/focus-trap-react.js","webpack://_N_E/./node_modules/focus-trap/dist/focus-trap.esm.js","webpack://_N_E/?267e","webpack://_N_E/./components/Button.jsx","webpack://_N_E/./node_modules/@swc/helpers/src/_object_spread_props.mjs","webpack://_N_E/./components/Link.jsx","webpack://_N_E/./lib/constants.js","webpack://_N_E/./node_modules/next/dist/client/get-domain-locale.js","webpack://_N_E/./node_modules/next/dist/client/link.js","webpack://_N_E/./node_modules/next/dist/client/use-intersection.js","webpack://_N_E/./node_modules/next/dist/shared/lib/app-router-context.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/use-unmount-effect.js","webpack://_N_E/./node_modules/framer-motion/dist/es/context/PresenceContext.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/use-constant.js","webpack://_N_E/./node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.js","webpack://_N_E/./node_modules/framesync/dist/es/on-next-frame.js","webpack://_N_E/./node_modules/framesync/dist/es/index.js","webpack://_N_E/./node_modules/framesync/dist/es/create-render-step.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/noop.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/geometry/index.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/compare-by-depth.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/projection/utils.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/utils/batch-layout.js","webpack://_N_E/./node_modules/framer-motion/dist/es/components/AnimateSharedLayout/types.js","webpack://_N_E/./node_modules/framer-motion/dist/es/components/AnimateSharedLayout/utils/batcher.js","webpack://_N_E/./node_modules/framer-motion/dist/es/context/SharedLayoutContext.js","webpack://_N_E/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/use-force-update.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/features/definitions.js","webpack://_N_E/./node_modules/framer-motion/dist/es/context/LazyContext.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/features/use-features.js","webpack://_N_E/./node_modules/framer-motion/dist/es/context/MotionConfigContext.js","webpack://_N_E/./node_modules/framer-motion/dist/es/context/MotionContext/index.js","webpack://_N_E/./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.js","webpack://_N_E/./node_modules/framer-motion/dist/es/context/LayoutGroupContext.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/is-browser.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/utils/use-visual-element.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/is-ref-object.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/variants.js","webpack://_N_E/./node_modules/framer-motion/dist/es/context/MotionContext/create.js","webpack://_N_E/./node_modules/framer-motion/dist/es/context/MotionContext/utils.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/index.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/motion-proxy.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/svg/lowercase-elements.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/projection/scale-correction.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/html/utils/transform.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.js","webpack://_N_E/./node_modules/framer-motion/dist/es/value/utils/is-motion-value.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/html/utils/build-transform.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.js","webpack://_N_E/./node_modules/style-value-types/dist/es/utils.js","webpack://_N_E/./node_modules/style-value-types/dist/es/numbers/units.js","webpack://_N_E/./node_modules/style-value-types/dist/es/numbers/index.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/value-types/type-int.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/value-types/number.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/html/utils/build-styles.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/html/utils/create-render-state.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/html/use-props.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/utils/valid-prop.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/utils/filter-props.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/svg/utils/path.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/svg/use-props.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/use-render.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/html/utils/render.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/svg/utils/render.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.js","webpack://_N_E/./node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.js","webpack://_N_E/./node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.js","webpack://_N_E/./node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/resolve-value.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/utils/use-visual-state.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/svg/config-motion.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/html/config-motion.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/types.js","webpack://_N_E/./node_modules/framer-motion/dist/es/events/use-dom-event.js","webpack://_N_E/./node_modules/framer-motion/dist/es/gestures/utils/event-type.js","webpack://_N_E/./node_modules/framer-motion/dist/es/events/event-info.js","webpack://_N_E/./node_modules/framer-motion/dist/es/events/use-pointer-event.js","webpack://_N_E/./node_modules/framer-motion/dist/es/events/utils.js","webpack://_N_E/./node_modules/framer-motion/dist/es/gestures/drag/utils/lock.js","webpack://_N_E/./node_modules/framer-motion/dist/es/gestures/use-hover-gesture.js","webpack://_N_E/./node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/pipe.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/utils/make-renderless-component.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/features/gestures.js","webpack://_N_E/./node_modules/framer-motion/dist/es/gestures/use-tap-gesture.js","webpack://_N_E/./node_modules/framer-motion/dist/es/gestures/use-focus-gesture.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/shallow-compare.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/clamp.js","webpack://_N_E/./node_modules/popmotion/dist/es/animations/utils/find-spring.js","webpack://_N_E/./node_modules/popmotion/dist/es/animations/generators/spring.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/progress.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/mix.js","webpack://_N_E/./node_modules/style-value-types/dist/es/color/utils.js","webpack://_N_E/./node_modules/style-value-types/dist/es/color/rgba.js","webpack://_N_E/./node_modules/style-value-types/dist/es/color/hex.js","webpack://_N_E/./node_modules/style-value-types/dist/es/color/hsla.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/mix-color.js","webpack://_N_E/./node_modules/style-value-types/dist/es/color/index.js","webpack://_N_E/./node_modules/style-value-types/dist/es/complex/index.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/inc.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/mix-complex.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/interpolate.js","webpack://_N_E/./node_modules/popmotion/dist/es/easing/utils.js","webpack://_N_E/./node_modules/popmotion/dist/es/easing/index.js","webpack://_N_E/./node_modules/popmotion/dist/es/animations/generators/keyframes.js","webpack://_N_E/./node_modules/popmotion/dist/es/animations/utils/detect-animation-from-options.js","webpack://_N_E/./node_modules/popmotion/dist/es/animations/generators/decay.js","webpack://_N_E/./node_modules/popmotion/dist/es/animations/utils/elapsed.js","webpack://_N_E/./node_modules/popmotion/dist/es/animations/index.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/velocity-per-second.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/time-conversion.js","webpack://_N_E/./node_modules/popmotion/dist/es/easing/cubic-bezier.js","webpack://_N_E/./node_modules/framer-motion/dist/es/animation/utils/easing.js","webpack://_N_E/./node_modules/framer-motion/dist/es/animation/utils/is-animatable.js","webpack://_N_E/./node_modules/framer-motion/dist/es/animation/utils/default-transitions.js","webpack://_N_E/./node_modules/style-value-types/dist/es/complex/filter.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/value-types/defaults.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.js","webpack://_N_E/./node_modules/framer-motion/dist/es/animation/utils/transitions.js","webpack://_N_E/./node_modules/popmotion/dist/es/animations/inertia.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/array.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/subscription-manager.js","webpack://_N_E/./node_modules/framer-motion/dist/es/value/index.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/value-types/test.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/value-types/find.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/setters.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/animation.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/animation-state.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/features/animations.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/is-point.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/is-point-3d.js","webpack://_N_E/./node_modules/popmotion/dist/es/utils/distance.js","webpack://_N_E/./node_modules/framer-motion/dist/es/gestures/PanSession.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/each-axis.js","webpack://_N_E/./node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/projection/measure.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/geometry/delta-calc.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/features/layout/utils.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/is-draggable.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/geometry/delta-apply.js","webpack://_N_E/./node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/projection/convert-to-relative.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/features/drag.js","webpack://_N_E/./node_modules/framer-motion/dist/es/gestures/use-pan-gesture.js","webpack://_N_E/./node_modules/framer-motion/dist/es/gestures/drag/use-drag.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/projection/default-scale-correctors.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/features/layout/Animate.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/features/layout/Measure.js","webpack://_N_E/./node_modules/framer-motion/dist/es/motion/features/layout/index.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/state.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/html/utils/build-projection-transform.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/lifecycles.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/projection.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/flat-tree.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/index.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/utils/motion-values.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/projection/relative-set.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/utils/parse-dom-variant.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/html/visual-element.js","webpack://_N_E/./node_modules/framer-motion/dist/es/utils/is-numerical-string.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/svg/visual-element.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/create-visual-element.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/motion.js","webpack://_N_E/./node_modules/framer-motion/dist/es/render/dom/utils/create-config.js","webpack://_N_E/./node_modules/react-feather/dist/icons/github.js","webpack://_N_E/./node_modules/react-feather/dist/icons/linkedin.js","webpack://_N_E/./node_modules/react-feather/dist/icons/mail.js","webpack://_N_E/./components/Footer.jsx","webpack://_N_E/./components/util.js","webpack://_N_E/./components/GreenSlide.jsx","webpack://_N_E/./node_modules/react-feather/dist/icons/sun.js","webpack://_N_E/./node_modules/react-feather/dist/icons/moon.js","webpack://_N_E/./components/DarkMode.jsx","webpack://_N_E/./node_modules/react-feather/dist/icons/menu.js","webpack://_N_E/./components/NavMenu.jsx","webpack://_N_E/./components/Header.jsx","webpack://_N_E/./components/Main.jsx","webpack://_N_E/./pages/_app.jsx","webpack://_N_E/./node_modules/next/link.js","webpack://_N_E/./node_modules/next/router.js","webpack://_N_E/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://_N_E/./node_modules/prop-types/index.js","webpack://_N_E/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://_N_E/./node_modules/react-aria-menubutton/dist/Button.js","webpack://_N_E/./node_modules/react-aria-menubutton/dist/ManagerContext.js","webpack://_N_E/./node_modules/react-aria-menubutton/dist/Menu.js","webpack://_N_E/./node_modules/react-aria-menubutton/dist/MenuItem.js","webpack://_N_E/./node_modules/react-aria-menubutton/dist/Wrapper.js","webpack://_N_E/./node_modules/react-aria-menubutton/dist/createManager.js","webpack://_N_E/./node_modules/react-aria-menubutton/dist/externalStateControl.js","webpack://_N_E/./node_modules/react-aria-menubutton/dist/index.js","webpack://_N_E/./node_modules/react-aria-menubutton/dist/propTypes.js","webpack://_N_E/./node_modules/react-aria-menubutton/dist/specialAssign.js","webpack://_N_E/./node_modules/tabbable/dist/index.esm.js","webpack://_N_E/./node_modules/teeny-tap/index.js","webpack://_N_E/./node_modules/the-only-react-tooltip/dist/index.js","webpack://_N_E/./node_modules/the-only-react-tooltip/dist/package/Tooltip.components.js","webpack://_N_E/./node_modules/the-only-react-tooltip/dist/package/Tooltip.js","webpack://_N_E/./node_modules/the-only-react-tooltip/dist/package/helpers.js","webpack://_N_E/./node_modules/free-style/dist.es2015/index.js","webpack://_N_E/./node_modules/typestyle/lib.es2015/internal/formatting.js","webpack://_N_E/./node_modules/typestyle/lib.es2015/internal/utilities.js","webpack://_N_E/./node_modules/typestyle/lib.es2015/internal/typestyle.js","webpack://_N_E/./node_modules/typestyle/lib.es2015/index.js","webpack://_N_E/./node_modules/@use-it/event-listener/dist/event-listener.m.js","webpack://_N_E/./node_modules/use-persisted-state/dist/use-persisted-state.m.js","webpack://_N_E/./node_modules/use-dark-mode/dist/use-dark-mode.m.js","webpack://_N_E/./node_modules/@swc/helpers/src/_define_property.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_object_spread.mjs"],"sourcesContent":["function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n","import memoize from '@emotion/memoize';\n\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar index = memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport default index;\n","function FocusGroup(options) {\n  options = options || {};\n  var userKeybindings = options.keybindings || {};\n  this._settings = {\n    keybindings: {\n      next: (userKeybindings.next) || { keyCode: 40 },\n      prev: (userKeybindings.prev) || { keyCode: 38 },\n      first: userKeybindings.first,\n      last: userKeybindings.last,\n    },\n    wrap: options.wrap,\n    stringSearch: options.stringSearch,\n    stringSearchDelay: 800\n  };\n\n  // Construct a keybinding lookup that will be more useful later\n  this._keybindingsLookup = [];\n  var action;\n  var eventMatchers\n  for (action in this._settings.keybindings) {\n    eventMatchers = this._settings.keybindings[action];\n    if (!eventMatchers) continue;\n    [].concat(eventMatchers).forEach(function(eventMatcher) {\n      eventMatcher.metaKey = eventMatcher.metaKey || false;\n      eventMatcher.ctrlKey = eventMatcher.ctrlKey || false;\n      eventMatcher.altKey = eventMatcher.altKey || false;\n      eventMatcher.shiftKey = eventMatcher.shiftKey || false;\n      this._keybindingsLookup.push({\n        action: action,\n        eventMatcher: eventMatcher\n      });\n    }.bind(this));\n  }\n\n  this._searchString = '';\n  this._members = [];\n  if (options.members) this.setMembers(options.members);\n  this._boundHandleKeydownEvent = this._handleKeydownEvent.bind(this);\n}\n\nFocusGroup.prototype.activate = function() {\n  // Use capture in case other libraries might grab it first -- i.e. React\n  document.addEventListener('keydown', this._boundHandleKeydownEvent, true);\n  return this;\n};\n\nFocusGroup.prototype.deactivate = function() {\n  document.removeEventListener('keydown', this._boundHandleKeydownEvent, true);\n  this._clearSearchStringRefreshTimer();\n  return this;\n};\n\nFocusGroup.prototype._handleKeydownEvent = function(event) {\n  // Only respond to keyboard events when\n  // focus is already within the focus-group\n  var activeElementIndex = this._getActiveElementIndex();\n  if (activeElementIndex === -1) return;\n\n  // See if the event matches any registered keybinds\n  var eventBound = false;\n  this._keybindingsLookup.forEach(function(keybinding) {\n    if (!matchesEvent(keybinding.eventMatcher, event)) return;\n    eventBound = true;\n    event.preventDefault();\n    switch (keybinding.action) {\n      case 'next':\n        this.moveFocusForward();\n        break;\n      case 'prev':\n        this.moveFocusBack();\n        break;\n      case 'first':\n        this.moveFocusToFirst();\n        break;\n      case 'last':\n        this.moveFocusToLast();\n        break;\n      default: return;\n    }\n  }.bind(this));\n\n  if (!eventBound) {\n    this._handleUnboundKey(event);\n  }\n};\n\nFocusGroup.prototype.moveFocusForward = function() {\n  var activeElementIndex = this._getActiveElementIndex();\n  var targetIndex;\n  if (activeElementIndex < this._members.length - 1) {\n    targetIndex = activeElementIndex + 1;\n  } else if (this._settings.wrap) {\n    targetIndex = 0;\n  } else {\n    targetIndex = activeElementIndex;\n  }\n  this.focusNodeAtIndex(targetIndex);\n  return targetIndex;\n};\n\nFocusGroup.prototype.moveFocusBack = function() {\n  var activeElementIndex = this._getActiveElementIndex();\n  var targetIndex;\n  if (activeElementIndex > 0) {\n    targetIndex = activeElementIndex - 1;\n  } else if (this._settings.wrap) {\n    targetIndex = this._members.length - 1;\n  } else {\n    targetIndex = activeElementIndex;\n  }\n  this.focusNodeAtIndex(targetIndex);\n  return targetIndex;\n};\n\nFocusGroup.prototype.moveFocusToFirst = function() {\n  this.focusNodeAtIndex(0);\n};\n\nFocusGroup.prototype.moveFocusToLast = function() {\n  this.focusNodeAtIndex(this._members.length - 1);\n};\n\nFocusGroup.prototype._handleUnboundKey = function(event) {\n  if (!this._settings.stringSearch) return;\n\n  // While a string search is underway, ignore spaces\n  // and prevent the default space-key behavior\n  if (this._searchString !== '' && (event.key === ' ' || event.keyCode === 32)) {\n    event.preventDefault();\n    return -1;\n  }\n\n  // Only respond to letter keys\n  if (!isLetterKeyCode(event.keyCode)) return -1;\n\n  // If the letter key is part of a key combo,\n  // let it do whatever it was going to do\n  if (event.ctrlKey || event.metaKey || event.altKey) return -1;\n\n  event.preventDefault();\n\n  this._addToSearchString(String.fromCharCode(event.keyCode));\n  this._runStringSearch();\n};\n\nFocusGroup.prototype._clearSearchString = function() {\n  this._searchString = '';\n};\n\nFocusGroup.prototype._addToSearchString = function(letter) {\n  // Always store the lowercase version of the letter\n  this._searchString += letter.toLowerCase();\n};\n\nFocusGroup.prototype._startSearchStringRefreshTimer = function() {\n  var self = this;\n  this._clearSearchStringRefreshTimer();\n  this._stringSearchTimer = setTimeout(function() {\n    self._clearSearchString();\n  }, this._settings.stringSearchDelay);\n};\n\nFocusGroup.prototype._clearSearchStringRefreshTimer = function() {\n  clearTimeout(this._stringSearchTimer);\n};\n\nFocusGroup.prototype._runStringSearch = function() {\n  this._startSearchStringRefreshTimer();\n  this.moveFocusByString(this._searchString);\n};\n\nFocusGroup.prototype.moveFocusByString = function(str) {\n  var member;\n  for (var i = 0, l = this._members.length; i < l; i++) {\n    member = this._members[i];\n    if (!member.text) continue;\n\n    if (member.text.indexOf(str) === 0) {\n      return focusNode(member.node);\n    }\n  }\n};\n\nFocusGroup.prototype._findIndexOfNode = function(searchNode) {\n  for (var i = 0, l = this._members.length; i < l; i++) {\n    if (this._members[i].node === searchNode) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nFocusGroup.prototype._getActiveElementIndex = function() {\n  return this._findIndexOfNode(document.activeElement);\n};\n\nFocusGroup.prototype.focusNodeAtIndex = function(index) {\n  var member = this._members[index];\n  if (member) focusNode(member.node);\n  return this;\n};\n\nFocusGroup.prototype.addMember = function(memberData, index) {\n  var node = memberData.node || memberData;\n  var nodeText = memberData.text || node.getAttribute('data-focus-group-text') || node.textContent || '';\n\n  this._checkNode(node);\n\n  var cleanedNodeText = nodeText.replace(/[\\W_]/g, '').toLowerCase();\n  var member = {\n    node: node,\n    text: cleanedNodeText,\n  };\n\n  if (index !== null && index !== undefined) {\n    this._members.splice(index, 0, member);\n  } else {\n    this._members.push(member);\n  }\n  return this;\n};\n\nFocusGroup.prototype.removeMember = function(member) {\n  var removalIndex = (typeof member === 'number')\n    ? member\n    : this._findIndexOfNode(member);\n  if (removalIndex === -1) return;\n  this._members.splice(removalIndex, 1);\n  return this;\n};\n\nFocusGroup.prototype.clearMembers = function() {\n  this._members = [];\n  return this;\n};\n\nFocusGroup.prototype.setMembers = function(nextMembers) {\n  this.clearMembers();\n  for (var i = 0, l = nextMembers.length; i < l; i++) {\n    this.addMember(nextMembers[i]);\n  }\n  return this;\n};\n\nFocusGroup.prototype.getMembers = function() {\n  return this._members;\n};\n\nFocusGroup.prototype._checkNode = function(node) {\n  if (!node.nodeType || node.nodeType !== window.Node.ELEMENT_NODE) {\n    throw new Error('focus-group: only DOM nodes allowed');\n  }\n  return node;\n};\n\nfunction matchesEvent(matcher, event) {\n  for (var key in matcher) {\n    if (event[key] !== undefined && matcher[key] !== event[key]) return false;\n  }\n  return true;\n}\n\nfunction isLetterKeyCode(keyCode) {\n  return keyCode >= 65 && keyCode <= 90;\n}\n\nfunction focusNode(node) {\n  if (!node || !node.focus) return;\n  node.focus();\n  if (node.tagName.toLowerCase() === 'input') node.select();\n}\n\nmodule.exports = function createFocusGroup(options) {\n  return new FocusGroup(options);\n};\n","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar React = require('react');\nvar PropTypes = require('prop-types');\nvar _require = require('focus-trap'),\n  createFocusTrap = _require.createFocusTrap;\nvar _require2 = require('tabbable'),\n  isFocusable = _require2.isFocusable;\nvar FocusTrap = /*#__PURE__*/function (_React$Component) {\n  _inherits(FocusTrap, _React$Component);\n  var _super = _createSuper(FocusTrap);\n  function FocusTrap(props) {\n    var _this;\n    _classCallCheck(this, FocusTrap);\n    _this = _super.call(this, props);\n    _defineProperty(_assertThisInitialized(_this), \"getNodeForOption\", function (optionName) {\n      var _this$internalOptions;\n      // use internal options first, falling back to original options\n      var optionValue = (_this$internalOptions = this.internalOptions[optionName]) !== null && _this$internalOptions !== void 0 ? _this$internalOptions : this.originalOptions[optionName];\n      if (typeof optionValue === 'function') {\n        for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          params[_key - 1] = arguments[_key];\n        }\n        optionValue = optionValue.apply(void 0, params);\n      }\n      if (optionValue === true) {\n        optionValue = undefined; // use default value\n      }\n\n      if (!optionValue) {\n        if (optionValue === undefined || optionValue === false) {\n          return optionValue;\n        }\n        // else, empty string (invalid), null (invalid), 0 (invalid)\n\n        throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n      }\n      var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n      if (typeof optionValue === 'string') {\n        var _this$getDocument;\n        node = (_this$getDocument = this.getDocument()) === null || _this$getDocument === void 0 ? void 0 : _this$getDocument.querySelector(optionValue); // resolve to node, or null if fails\n        if (!node) {\n          throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n        }\n      }\n      return node;\n    });\n    _this.handleDeactivate = _this.handleDeactivate.bind(_assertThisInitialized(_this));\n    _this.handlePostDeactivate = _this.handlePostDeactivate.bind(_assertThisInitialized(_this));\n    _this.handleClickOutsideDeactivates = _this.handleClickOutsideDeactivates.bind(_assertThisInitialized(_this));\n\n    // focus-trap options used internally when creating the trap\n    _this.internalOptions = {\n      // We need to hijack the returnFocusOnDeactivate option,\n      // because React can move focus into the element before we arrived at\n      // this lifecycle hook (e.g. with autoFocus inputs). So the component\n      // captures the previouslyFocusedElement in componentWillMount,\n      // then (optionally) returns focus to it in componentWillUnmount.\n      returnFocusOnDeactivate: false,\n      // the rest of these are also related to deactivation of the trap, and we\n      //  need to use them and control them as well\n      checkCanReturnFocus: null,\n      onDeactivate: _this.handleDeactivate,\n      onPostDeactivate: _this.handlePostDeactivate,\n      // we need to special-case this setting as well so that we can know if we should\n      //  NOT return focus if the trap gets auto-deactivated as the result of an\n      //  outside click (otherwise, we'll always think we should return focus because\n      //  of how we manage that flag internally here)\n      clickOutsideDeactivates: _this.handleClickOutsideDeactivates\n    };\n\n    // original options provided by the consumer\n    _this.originalOptions = {\n      // because of the above `internalOptions`, we maintain our own flag for\n      //  this option, and default it to `true` because that's focus-trap's default\n      returnFocusOnDeactivate: true,\n      // because of the above `internalOptions`, we keep these separate since\n      //  they're part of the deactivation process which we configure (internally) to\n      //  be shared between focus-trap and focus-trap-react\n      onDeactivate: null,\n      onPostDeactivate: null,\n      checkCanReturnFocus: null,\n      // the user's setting, defaulted to false since focus-trap defaults this to false\n      clickOutsideDeactivates: false\n    };\n    var focusTrapOptions = props.focusTrapOptions;\n    for (var optionName in focusTrapOptions) {\n      if (!Object.prototype.hasOwnProperty.call(focusTrapOptions, optionName)) {\n        continue;\n      }\n      if (optionName === 'returnFocusOnDeactivate' || optionName === 'onDeactivate' || optionName === 'onPostDeactivate' || optionName === 'checkCanReturnFocus' || optionName === 'clickOutsideDeactivates') {\n        _this.originalOptions[optionName] = focusTrapOptions[optionName];\n        continue; // exclude from internalOptions\n      }\n\n      _this.internalOptions[optionName] = focusTrapOptions[optionName];\n    }\n\n    // if set, `{ target: Node, allowDeactivation: boolean }` where `target` is the outside\n    //  node that was clicked, and `allowDeactivation` is the result of the consumer's\n    //  option (stored in `this.originalOptions.clickOutsideDeactivates`, which may be a\n    //  function) whether to allow or deny auto-deactivation on click on this outside node\n    _this.outsideClick = null;\n\n    // elements from which to create the focus trap on mount; if a child is used\n    //  instead of the `containerElements` prop, we'll get the child's related\n    //  element when the trap renders and then is declared 'mounted'\n    _this.focusTrapElements = props.containerElements || [];\n\n    // now we remember what the currently focused element is, not relying on focus-trap\n    _this.updatePreviousElement();\n    return _this;\n  }\n\n  /**\n   * Gets the configured document.\n   * @returns {Document|undefined} Configured document, falling back to the main\n   *  document, if it exists. During SSR, `undefined` is returned since the\n   *  document doesn't exist.\n   */\n  _createClass(FocusTrap, [{\n    key: \"getDocument\",\n    value: function getDocument() {\n      // SSR: careful to check if `document` exists before accessing it as a variable\n      return this.props.focusTrapOptions.document || (typeof document !== 'undefined' ? document : undefined);\n    }\n\n    /**\n     * Gets the node for the given option, which is expected to be an option that\n     *  can be either a DOM node, a string that is a selector to get a node, `false`\n     *  (if a node is explicitly NOT given), or a function that returns any of these\n     *  values.\n     * @param {string} optionName\n     * @returns {undefined | false | HTMLElement | SVGElement} Returns\n     *  `undefined` if the option is not specified; `false` if the option\n     *  resolved to `false` (node explicitly not given); otherwise, the resolved\n     *  DOM node.\n     * @throws {Error} If the option is set, not `false`, and is not, or does not\n     *  resolve to a node.\n     */\n  }, {\n    key: \"getReturnFocusNode\",\n    value: function getReturnFocusNode() {\n      var node = this.getNodeForOption('setReturnFocus', this.previouslyFocusedElement);\n      return node ? node : node === false ? false : this.previouslyFocusedElement;\n    }\n\n    /** Update the previously focused element with the currently focused element. */\n  }, {\n    key: \"updatePreviousElement\",\n    value: function updatePreviousElement() {\n      var currentDocument = this.getDocument();\n      if (currentDocument) {\n        this.previouslyFocusedElement = currentDocument.activeElement;\n      }\n    }\n  }, {\n    key: \"deactivateTrap\",\n    value: function deactivateTrap() {\n      // NOTE: it's possible the focus trap has already been deactivated without our knowing it,\n      //  especially if the user set the `clickOutsideDeactivates: true` option on the trap,\n      //  and the mouse was clicked on some element outside the trap; at that point, focus-trap\n      //  will initiate its auto-deactivation process, which will call our own\n      //  handleDeactivate(), which will call into this method\n      if (!this.focusTrap || !this.focusTrap.active) {\n        return;\n      }\n      this.focusTrap.deactivate({\n        // NOTE: we never let the trap return the focus since we do that ourselves\n        returnFocus: false,\n        // we'll call this in our own post deactivate handler so make sure the trap doesn't\n        //  do it prematurely\n        checkCanReturnFocus: null,\n        // let it call the user's original deactivate handler, if any, instead of\n        //  our own which calls back into this function\n        onDeactivate: this.originalOptions.onDeactivate\n        // NOTE: for post deactivate, don't specify anything so that it calls the\n        //  onPostDeactivate handler specified on `this.internalOptions`\n        //  which will always be our own `handlePostDeactivate()` handler, which\n        //  will finish things off by calling the user's provided onPostDeactivate\n        //  handler, if any, at the right time\n        // onPostDeactivate: NOTHING\n      });\n    }\n  }, {\n    key: \"handleClickOutsideDeactivates\",\n    value: function handleClickOutsideDeactivates(event) {\n      // use consumer's option (or call their handler) as the permission or denial\n      var allowDeactivation = typeof this.originalOptions.clickOutsideDeactivates === 'function' ? this.originalOptions.clickOutsideDeactivates.call(null, event) // call out of context\n      : this.originalOptions.clickOutsideDeactivates; // boolean\n\n      if (allowDeactivation) {\n        // capture the outside target that was clicked so we can use it in the deactivation\n        //  process since the consumer allowed it to cause auto-deactivation\n        this.outsideClick = {\n          target: event.target,\n          allowDeactivation: allowDeactivation\n        };\n      }\n      return allowDeactivation;\n    }\n  }, {\n    key: \"handleDeactivate\",\n    value: function handleDeactivate() {\n      if (this.originalOptions.onDeactivate) {\n        this.originalOptions.onDeactivate.call(null); // call user's handler out of context\n      }\n\n      this.deactivateTrap();\n    }\n  }, {\n    key: \"handlePostDeactivate\",\n    value: function handlePostDeactivate() {\n      var _this2 = this;\n      var finishDeactivation = function finishDeactivation() {\n        var returnFocusNode = _this2.getReturnFocusNode();\n        var canReturnFocus = !!(\n        // did the consumer allow it?\n\n        _this2.originalOptions.returnFocusOnDeactivate && // can we actually focus the node?\n        returnFocusNode !== null && returnFocusNode !== void 0 && returnFocusNode.focus && (\n        // was there an outside click that allowed deactivation?\n        !_this2.outsideClick ||\n        // did the consumer allow deactivation when the outside node was clicked?\n        _this2.outsideClick.allowDeactivation &&\n        // is the outside node NOT focusable (implying that it did NOT receive focus\n        //  as a result of the click-through) -- in which case do NOT restore focus\n        //  to `returnFocusNode` because focus should remain on the outside node\n        !isFocusable(_this2.outsideClick.target, _this2.internalOptions.tabbableOptions))\n\n        // if no, the restore focus to `returnFocusNode` at this point\n        );\n\n        var _this2$internalOption = _this2.internalOptions.preventScroll,\n          preventScroll = _this2$internalOption === void 0 ? false : _this2$internalOption;\n        if (canReturnFocus) {\n          // return focus to the element that had focus when the trap was activated\n          returnFocusNode.focus({\n            preventScroll: preventScroll\n          });\n        }\n        if (_this2.originalOptions.onPostDeactivate) {\n          _this2.originalOptions.onPostDeactivate.call(null); // don't call it in context of \"this\"\n        }\n\n        _this2.outsideClick = null; // reset: no longer needed\n      };\n\n      if (this.originalOptions.checkCanReturnFocus) {\n        this.originalOptions.checkCanReturnFocus.call(null, this.getReturnFocusNode()) // call out of context\n        .then(finishDeactivation, finishDeactivation);\n      } else {\n        finishDeactivation();\n      }\n    }\n  }, {\n    key: \"setupFocusTrap\",\n    value: function setupFocusTrap() {\n      if (this.focusTrap) {\n        // trap already exists: it's possible we're in StrictMode and we're being remounted,\n        //  in which case, we will have deactivated the trap when we got unmounted (remember,\n        //  StrictMode, in development, purposely unmounts and remounts components after\n        //  mounting them the first time to make sure they have reusable state,\n        //  @see https://reactjs.org/docs/strict-mode.html#ensuring-reusable-state) so now\n        //  we need to restore the state of the trap according to our component state\n        // NOTE: Strict mode __violates__ assumptions about the `componentWillUnmount()` API\n        //  which clearly states -- even for React 18 -- that, \"Once a component instance is\n        //  unmounted, __it will never be mounted again.__\" (emphasis ours). So when we get\n        //  unmounted, we assume we're gone forever and we deactivate the trap. But then\n        //  we get remounted and we're supposed to restore state. But if you had paused,\n        //  we've now deactivated (we don't know we're amount to get remounted again)\n        //  which means we need to reactivate and then pause. Otherwise, do nothing.\n        if (this.props.active && !this.focusTrap.active) {\n          this.focusTrap.activate();\n          if (this.props.paused) {\n            this.focusTrap.pause();\n          }\n        }\n      } else {\n        var nodesExist = this.focusTrapElements.some(Boolean);\n        if (nodesExist) {\n          // eslint-disable-next-line react/prop-types -- _createFocusTrap is an internal prop\n          this.focusTrap = this.props._createFocusTrap(this.focusTrapElements, this.internalOptions);\n          if (this.props.active) {\n            this.focusTrap.activate();\n          }\n          if (this.props.paused) {\n            this.focusTrap.pause();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.active) {\n        this.setupFocusTrap();\n      }\n      // else, wait for later activation in case the `focusTrapOptions` will be updated\n      //  again before the trap is activated (e.g. if waiting to know what the document\n      //  object will be, so the Trap must be rendered, but the consumer is waiting to\n      //  activate until they have obtained the document from a ref)\n      //  @see https://github.com/focus-trap/focus-trap-react/issues/539\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.focusTrap) {\n        if (prevProps.containerElements !== this.props.containerElements) {\n          this.focusTrap.updateContainerElements(this.props.containerElements);\n        }\n        var hasActivated = !prevProps.active && this.props.active;\n        var hasDeactivated = prevProps.active && !this.props.active;\n        var hasPaused = !prevProps.paused && this.props.paused;\n        var hasUnpaused = prevProps.paused && !this.props.paused;\n        if (hasActivated) {\n          this.updatePreviousElement();\n          this.focusTrap.activate();\n        }\n        if (hasDeactivated) {\n          this.deactivateTrap();\n          return; // un/pause does nothing on an inactive trap\n        }\n\n        if (hasPaused) {\n          this.focusTrap.pause();\n        }\n        if (hasUnpaused) {\n          this.focusTrap.unpause();\n        }\n      } else {\n        // NOTE: if we're in `componentDidUpdate` and we don't have a trap yet,\n        //  it either means it shouldn't be active, or it should be but none of\n        //  of given `containerElements` were present in the DOM the last time\n        //  we tried to create the trap\n\n        if (prevProps.containerElements !== this.props.containerElements) {\n          this.focusTrapElements = this.props.containerElements;\n        }\n\n        // don't create the trap unless it should be active in case the consumer\n        //  is still updating `focusTrapOptions`\n        //  @see https://github.com/focus-trap/focus-trap-react/issues/539\n        if (this.props.active) {\n          this.updatePreviousElement();\n          this.setupFocusTrap();\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.deactivateTrap();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var child = this.props.children ? React.Children.only(this.props.children) : undefined;\n      if (child) {\n        if (child.type && child.type === React.Fragment) {\n          throw new Error('A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.');\n        }\n        var callbackRef = function callbackRef(element) {\n          var containerElements = _this3.props.containerElements;\n          if (child) {\n            if (typeof child.ref === 'function') {\n              child.ref(element);\n            } else if (child.ref) {\n              child.ref.current = element;\n            }\n          }\n          _this3.focusTrapElements = containerElements ? containerElements : [element];\n        };\n        var childWithRef = React.cloneElement(child, {\n          ref: callbackRef\n        });\n        return childWithRef;\n      }\n      return null;\n    }\n  }]);\n  return FocusTrap;\n}(React.Component); // support server-side rendering where `Element` will not be defined\nvar ElementType = typeof Element === 'undefined' ? Function : Element;\nFocusTrap.propTypes = {\n  active: PropTypes.bool,\n  paused: PropTypes.bool,\n  focusTrapOptions: PropTypes.shape({\n    document: PropTypes.object,\n    onActivate: PropTypes.func,\n    onPostActivate: PropTypes.func,\n    checkCanFocusTrap: PropTypes.func,\n    onPause: PropTypes.func,\n    onPostPause: PropTypes.func,\n    onUnpause: PropTypes.func,\n    onPostUnpause: PropTypes.func,\n    onDeactivate: PropTypes.func,\n    onPostDeactivate: PropTypes.func,\n    checkCanReturnFocus: PropTypes.func,\n    initialFocus: PropTypes.oneOfType([PropTypes.instanceOf(ElementType), PropTypes.string, PropTypes.bool, PropTypes.func]),\n    fallbackFocus: PropTypes.oneOfType([PropTypes.instanceOf(ElementType), PropTypes.string,\n    // NOTE: does not support `false` as value (or return value from function)\n    PropTypes.func]),\n    escapeDeactivates: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    clickOutsideDeactivates: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    returnFocusOnDeactivate: PropTypes.bool,\n    setReturnFocus: PropTypes.oneOfType([PropTypes.instanceOf(ElementType), PropTypes.string, PropTypes.bool, PropTypes.func]),\n    allowOutsideClick: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    preventScroll: PropTypes.bool,\n    tabbableOptions: PropTypes.shape({\n      displayCheck: PropTypes.oneOf(['full', 'legacy-full', 'non-zero-area', 'none']),\n      getShadowRoot: PropTypes.oneOfType([PropTypes.bool, PropTypes.func])\n    }),\n    trapStack: PropTypes.array,\n    isKeyForward: PropTypes.func,\n    isKeyBackward: PropTypes.func\n  }),\n  containerElements: PropTypes.arrayOf(PropTypes.instanceOf(ElementType)),\n  // DOM element ONLY\n  children: PropTypes.oneOfType([PropTypes.element,\n  // React element\n  PropTypes.instanceOf(ElementType) // DOM element\n  ])\n\n  // NOTE: _createFocusTrap is internal, for testing purposes only, so we don't\n  //  specify it here. It's expected to be set to the function returned from\n  //  require('focus-trap'), or one with a compatible interface.\n};\n\nFocusTrap.defaultProps = {\n  active: true,\n  paused: false,\n  focusTrapOptions: {},\n  _createFocusTrap: createFocusTrap\n};\nmodule.exports = FocusTrap;","/*!\n* focus-trap 7.4.0\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nimport { tabbable, focusable, isTabbable, isFocusable } from 'tabbable';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar activeFocusTraps = {\n  activateTrap: function activateTrap(trapStack, trap) {\n    if (trapStack.length > 0) {\n      var activeTrap = trapStack[trapStack.length - 1];\n      if (activeTrap !== trap) {\n        activeTrap.pause();\n      }\n    }\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex === -1) {\n      trapStack.push(trap);\n    } else {\n      // move this existing trap to the front of the queue\n      trapStack.splice(trapIndex, 1);\n      trapStack.push(trap);\n    }\n  },\n  deactivateTrap: function deactivateTrap(trapStack, trap) {\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex !== -1) {\n      trapStack.splice(trapIndex, 1);\n    }\n    if (trapStack.length > 0) {\n      trapStack[trapStack.length - 1].unpause();\n    }\n  }\n};\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\nvar isTabEvent = function isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\n// checks for TAB by default\nvar isKeyForward = function isKeyForward(e) {\n  return isTabEvent(e) && !e.shiftKey;\n};\n\n// checks for SHIFT+TAB by default\nvar isKeyBackward = function isKeyBackward(e) {\n  return isTabEvent(e) && e.shiftKey;\n};\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nvar valueOrHandler = function valueOrHandler(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n  return typeof value === 'function' ? value.apply(void 0, params) : value;\n};\nvar getActualTarget = function getActualTarget(event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function' ? event.composedPath()[0] : event.target;\n};\n\n// NOTE: this must be _outside_ `createFocusTrap()` to make sure all traps in this\n//  current instance use the same stack if `userOptions.trapStack` isn't specified\nvar internalTrapStack = [];\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n  var trapStack = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.trapStack) || internalTrapStack;\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    isKeyForward: isKeyForward,\n    isKeyBackward: isKeyBackward\n  }, userOptions);\n  var state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [],\n    // same order/length as `containers` list\n\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  /**\n   * Gets a configuration option value.\n   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,\n   *  value will be taken from this object. Otherwise, value will be taken from base configuration.\n   * @param {string} optionName Name of the option whose value is sought.\n   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`\n   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.\n   */\n  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n\n  /**\n   * Finds the index of the container that contains the element.\n   * @param {HTMLElement} element\n   * @returns {number} Index of the container in either `state.containers` or\n   *  `state.containerGroups` (the order/length of these lists are the same); -1\n   *  if the element isn't found.\n   */\n  var findContainerIndex = function findContainerIndex(element) {\n    // NOTE: search `containerGroups` because it's possible a group contains no tabbable\n    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)\n    //  and we still need to find the element in there\n    return state.containerGroups.findIndex(function (_ref) {\n      var container = _ref.container,\n        tabbableNodes = _ref.tabbableNodes;\n      return container.contains(element) ||\n      // fall back to explicit tabbable search which will take into consideration any\n      //  web components if the `tabbableOptions.getShadowRoot` option was used for\n      //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n      //  look inside web components even if open)\n      tabbableNodes.find(function (node) {\n        return node === element;\n      });\n    });\n  };\n\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    if (typeof optionValue === 'function') {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n      optionValue = optionValue.apply(void 0, params);\n    }\n    if (optionValue === true) {\n      optionValue = undefined; // use default value\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      }\n      // else, empty string (invalid), null (invalid), 0 (invalid)\n\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n    var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n      }\n    }\n    return node;\n  };\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node = getNodeForOption('initialFocus');\n\n    // false explicitly indicates we want no initialFocus at all\n    if (node === false) {\n      return false;\n    }\n    if (node === undefined) {\n      // option not specified: use fallback options\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n\n        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n    return node;\n  };\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.containerGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container, config.tabbableOptions);\n\n      // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes\n      var focusableNodes = focusable(container, config.tabbableOptions);\n      return {\n        container: container,\n        tabbableNodes: tabbableNodes,\n        focusableNodes: focusableNodes,\n        firstTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[0] : null,\n        lastTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[tabbableNodes.length - 1] : null,\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode: function nextTabbableNode(node) {\n          var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n          //  from the DOM order), this __will not work__ because the list of focusableNodes,\n          //  while it contains tabbable nodes, does not sort its nodes in any order other\n          //  than DOM order, because it can't: Where would you place focusable (but not\n          //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n          // Support for positive tabindex is already broken and hard to manage (possibly\n          //  not supportable, TBD), so this isn't going to make things worse than they\n          //  already are, and at least makes things better for the majority of cases where\n          //  tabindex is either 0/unset or negative.\n          // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n          var nodeIdx = focusableNodes.findIndex(function (n) {\n            return n === node;\n          });\n          if (nodeIdx < 0) {\n            return undefined;\n          }\n          if (forward) {\n            return focusableNodes.slice(nodeIdx + 1).find(function (n) {\n              return isTabbable(n, config.tabbableOptions);\n            });\n          }\n          return focusableNodes.slice(0, nodeIdx).reverse().find(function (n) {\n            return isTabbable(n, config.tabbableOptions);\n          });\n        }\n      };\n    });\n    state.tabbableGroups = state.containerGroups.filter(function (group) {\n      return group.tabbableNodes.length > 0;\n    });\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n  };\n  var tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n    if (node === doc.activeElement) {\n      return;\n    }\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  var checkPointerDown = function checkPointerDown(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target) >= 0) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked (and if not focusable, to \"nothing\"); by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node), whether the\n        //  outside click was on a focusable node or not\n        returnFocus: config.returnFocusOnDeactivate\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  var checkFocusIn = function checkFocusIn(e) {\n    var target = getActualTarget(e);\n    var targetContained = findContainerIndex(target) >= 0;\n\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  };\n\n  // Hijack key nav events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  var checkKeyNav = function checkKeyNav(event) {\n    var isBackward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var target = getActualTarget(event);\n    updateTabbableNodes();\n    var destinationNode = null;\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      var containerIndex = findContainerIndex(target);\n      var containerGroup = containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back into...\n        if (isBackward) {\n          // ...the last node in the last group\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (isBackward) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {\n          var firstTabbableNode = _ref2.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target, false))) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target, false);\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {\n          var lastTabbableNode = _ref3.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target))) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = _destinationGroup.firstTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target);\n        }\n      }\n    } else {\n      // no groups available\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n    if (destinationNode) {\n      if (isTabEvent(event)) {\n        // since tab natively moves focus, we wouldn't have a destination node unless we\n        //  were on the edge of a container and had to move to the next/previous edge, in\n        //  which case we want to prevent default to keep the browser from moving focus\n        //  to where it normally would\n        event.preventDefault();\n      }\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  var checkKey = function checkKey(event) {\n    if (isEscapeEvent(event) && valueOrHandler(config.escapeDeactivates, event) !== false) {\n      event.preventDefault();\n      trap.deactivate();\n      return;\n    }\n    if (config.isKeyForward(event) || config.isKeyBackward(event)) {\n      checkKeyNav(event, config.isKeyBackward(event));\n    }\n  };\n  var checkClick = function checkClick(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target) >= 0) {\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trapStack, trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    get active() {\n      return state.active;\n    },\n    get paused() {\n      return state.paused;\n    },\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n      var onActivate = getOption(activateOptions, 'onActivate');\n      var onPostActivate = getOption(activateOptions, 'onPostActivate');\n      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n      onActivate === null || onActivate === void 0 ? void 0 : onActivate();\n      var finishActivation = function finishActivation() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        onPostActivate === null || onPostActivate === void 0 ? void 0 : onPostActivate();\n      };\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n      var options = _objectSpread2({\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus\n      }, deactivateOptions);\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n      state.delayInitialFocusTimer = undefined;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      activeFocusTraps.deactivateTrap(trapStack, trap);\n      var onDeactivate = getOption(options, 'onDeactivate');\n      var onPostDeactivate = getOption(options, 'onPostDeactivate');\n      var checkCanReturnFocus = getOption(options, 'checkCanReturnFocus');\n      var returnFocus = getOption(options, 'returnFocus', 'returnFocusOnDeactivate');\n      onDeactivate === null || onDeactivate === void 0 ? void 0 : onDeactivate();\n      var finishDeactivation = function finishDeactivation() {\n        delay(function () {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          onPostDeactivate === null || onPostDeactivate === void 0 ? void 0 : onPostDeactivate();\n        });\n      };\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause(pauseOptions) {\n      if (state.paused || !state.active) {\n        return this;\n      }\n      var onPause = getOption(pauseOptions, 'onPause');\n      var onPostPause = getOption(pauseOptions, 'onPostPause');\n      state.paused = true;\n      onPause === null || onPause === void 0 ? void 0 : onPause();\n      removeListeners();\n      onPostPause === null || onPostPause === void 0 ? void 0 : onPostPause();\n      return this;\n    },\n    unpause: function unpause(unpauseOptions) {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n      var onUnpause = getOption(unpauseOptions, 'onUnpause');\n      var onPostUnpause = getOption(unpauseOptions, 'onPostUnpause');\n      state.paused = false;\n      onUnpause === null || onUnpause === void 0 ? void 0 : onUnpause();\n      updateTabbableNodes();\n      addListeners();\n      onPostUnpause === null || onPostUnpause === void 0 ? void 0 : onPostUnpause();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n      if (state.active) {\n        updateTabbableNodes();\n      }\n      return this;\n    }\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\nexport { createFocusTrap };\n//# sourceMappingURL=focus-trap.esm.js.map\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/_app\",\n      function () {\n        return require(\"private-next-pages/_app.jsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/_app\"])\n      });\n    }\n  ","import Tooltip from 'the-only-react-tooltip';\nimport { style } from 'typestyle';\n\nimport { interactiveStyle } from '../lib/constants';\n\nconst buttonClass = style(interactiveStyle);\n\nexport function Button(props) {\n  const inner = <button className={'button ' + buttonClass} {...props} />;\n\n  return props.title ? <Tooltip body={props.title}>{inner}</Tooltip> : inner;\n}\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\n\nexport default function _objectSpreadProps(target, source) {\n  source = source != null ? source : {}\n  if (Object.getOwnPropertyDescriptors) {\n    Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n  } else {\n    ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(\n        target,\n        key,\n        Object.getOwnPropertyDescriptor(source, key)\n      );\n    });\n  }\n\n  return target;\n}","import NextLink from 'next/link';\nimport Tooltip from 'the-only-react-tooltip';\nimport { cssRule, style } from 'typestyle';\n\nimport { Colors, interactiveStyle } from '../lib/constants';\n\ncssRule('.dark-mode a', {\n  textShadow: `1px 1px 1px ${Colors.Black}`,\n  color: Colors.White,\n});\n\ncssRule('.light-mode a, .dark-mode .resume a', {\n  textShadow: `1px 1px 1px ${Colors.White}`,\n  color: Colors.Black,\n});\n\ncssRule('.dark-mode a:hover, .light-mode a:hover', {\n  color: Colors.Green,\n});\n\nconst buttonLinkClass = style({ ...interactiveStyle });\n\nexport function Link(props) {\n  const inner = props.external ? (\n    <a\n      className={`link ${buttonLinkClass} abutton`}\n      style={{ ...props.style, display: 'flex', color: Colors.Black }}\n      href={props.href}\n      target={props.target}\n    >\n      {props.children}\n    </a>\n  ) : (\n    <NextLink href={props.href}>\n      <a style={{ ...props.style }}>{props.children}</a>\n    </NextLink>\n  );\n\n  return props.title ? <Tooltip body={props.title}>{inner}</Tooltip> : inner;\n}\n","export const EXAMPLE_PATH = 'blog-starter';\nexport const CMS_NAME = 'Markdown';\nexport const HOME_OG_IMAGE_URL =\n  'https://og-image.now.sh/Next.js%20Blog%20Starter%20Example.png?theme=light&md=1&fontSize=100px&images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg';\n\nexport const Colors = {\n  Black: '#222',\n  Charcoal: '#555',\n  Grey: '#999',\n  White: '#eee',\n  Green: '#48c77f',\n};\n\nexport const OuterPadding = '1.5rem';\n\nexport const interactiveStyle = {\n  background: Colors.White,\n  border: `2px solid ${Colors.Black}`,\n  padding: '0.35rem',\n  borderRadius: '0.35rem',\n  cursor: 'pointer',\n\n  $nest: {\n    '&:hover': {\n      background: `${Colors.Green}`,\n    },\n  },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getDomainLocale = getDomainLocale;\nconst basePath = process.env.__NEXT_ROUTER_BASEPATH || '';\nfunction getDomainLocale(path, locale, locales, domainLocales) {\n    if (process.env.__NEXT_I18N_SUPPORT) {\n        const normalizeLocalePath = require('./normalize-locale-path').normalizeLocalePath;\n        const detectDomainLocale = require('./detect-domain-locale').detectDomainLocale;\n        const target = locale || normalizeLocalePath(path, locales).detectedLocale;\n        const domain = detectDomainLocale(domainLocales, undefined, target);\n        if (domain) {\n            const proto = `http${domain.http ? '' : 's'}://`;\n            const finalLocale = target === domain.defaultLocale ? '' : `/${target}`;\n            return `${proto}${domain.domain}${basePath}${finalLocale}${path}`;\n        }\n        return false;\n    } else {\n        return false;\n    }\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=get-domain-locale.js.map","\"client\";\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = void 0;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _object_without_properties_loose = require(\"@swc/helpers/lib/_object_without_properties_loose.js\").default;\nvar _react = _interop_require_default(require(\"react\"));\nvar _router = require(\"../shared/lib/router/router\");\nvar _addLocale = require(\"./add-locale\");\nvar _routerContext = require(\"../shared/lib/router-context\");\nvar _appRouterContext = require(\"../shared/lib/app-router-context\");\nvar _useIntersection = require(\"./use-intersection\");\nvar _getDomainLocale = require(\"./get-domain-locale\");\nvar _addBasePath = require(\"./add-base-path\");\n'client';\nconst prefetched = {};\nfunction prefetch(router, href, as, options) {\n    if (typeof window === 'undefined' || !router) return;\n    if (!(0, _router).isLocalURL(href)) return;\n    // Prefetch the JSON page if asked (only in the client)\n    // We need to handle a prefetch error here since we may be\n    // loading with priority which can reject but we don't\n    // want to force navigation since this is only a prefetch\n    Promise.resolve(router.prefetch(href, as, options)).catch((err)=>{\n        if (process.env.NODE_ENV !== 'production') {\n            // rethrow to show invalid URL errors\n            throw err;\n        }\n    });\n    const curLocale = options && typeof options.locale !== 'undefined' ? options.locale : router && router.locale;\n    // Join on an invalid URI character\n    prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true;\n}\nfunction isModifiedEvent(event) {\n    const { target  } = event.currentTarget;\n    return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || event.nativeEvent && event.nativeEvent.which === 2;\n}\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale, isAppRouter, prefetchEnabled) {\n    const { nodeName  } = e.currentTarget;\n    // anchors inside an svg have a lowercase nodeName\n    const isAnchorNodeName = nodeName.toUpperCase() === 'A';\n    if (isAnchorNodeName && (isModifiedEvent(e) || !(0, _router).isLocalURL(href))) {\n        // ignore click for browser’s default behavior\n        return;\n    }\n    e.preventDefault();\n    const navigate = ()=>{\n        // If the router is an NextRouter instance it will have `beforePopState`\n        if ('beforePopState' in router) {\n            router[replace ? 'replace' : 'push'](href, as, {\n                shallow,\n                locale,\n                scroll\n            });\n        } else {\n            // If `beforePopState` doesn't exist on the router it's the AppRouter.\n            const method = replace ? 'replace' : 'push';\n            router[method](href, {\n                forceOptimisticNavigation: !prefetchEnabled\n            });\n        }\n    };\n    if (isAppRouter) {\n        // @ts-expect-error startTransition exists.\n        _react.default.startTransition(navigate);\n    } else {\n        navigate();\n    }\n}\nconst Link = /*#__PURE__*/ _react.default.forwardRef(function LinkComponent(props, forwardedRef) {\n    if (process.env.NODE_ENV !== 'production') {\n        function createPropError(args) {\n            return new Error(`Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` + (typeof window !== 'undefined' ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n        }\n        // TypeScript trick for type-guarding:\n        const requiredPropsGuard = {\n            href: true\n        };\n        const requiredProps = Object.keys(requiredPropsGuard);\n        requiredProps.forEach((key)=>{\n            if (key === 'href') {\n                if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {\n                    throw createPropError({\n                        key,\n                        expected: '`string` or `object`',\n                        actual: props[key] === null ? 'null' : typeof props[key]\n                    });\n                }\n            } else {\n                // TypeScript trick for type-guarding:\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const _ = key;\n            }\n        });\n        // TypeScript trick for type-guarding:\n        const optionalPropsGuard = {\n            as: true,\n            replace: true,\n            scroll: true,\n            shallow: true,\n            passHref: true,\n            prefetch: true,\n            locale: true,\n            onClick: true,\n            onMouseEnter: true,\n            onTouchStart: true,\n            legacyBehavior: true\n        };\n        const optionalProps = Object.keys(optionalPropsGuard);\n        optionalProps.forEach((key)=>{\n            const valType = typeof props[key];\n            if (key === 'as') {\n                if (props[key] && valType !== 'string' && valType !== 'object') {\n                    throw createPropError({\n                        key,\n                        expected: '`string` or `object`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'locale') {\n                if (props[key] && valType !== 'string') {\n                    throw createPropError({\n                        key,\n                        expected: '`string`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'onClick' || key === 'onMouseEnter' || key === 'onTouchStart') {\n                if (props[key] && valType !== 'function') {\n                    throw createPropError({\n                        key,\n                        expected: '`function`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'prefetch' || key === 'legacyBehavior') {\n                if (props[key] != null && valType !== 'boolean') {\n                    throw createPropError({\n                        key,\n                        expected: '`boolean`',\n                        actual: valType\n                    });\n                }\n            } else {\n                // TypeScript trick for type-guarding:\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const _ = key;\n            }\n        });\n        // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const hasWarned = _react.default.useRef(false);\n        if (props.prefetch && !hasWarned.current) {\n            hasWarned.current = true;\n            console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated');\n        }\n    }\n    let children;\n    const { href: hrefProp , as: asProp , children: childrenProp , prefetch: prefetchProp , passHref , replace , shallow , scroll , locale , onClick , onMouseEnter , onTouchStart , legacyBehavior =Boolean(process.env.__NEXT_NEW_LINK_BEHAVIOR) !== true  } = props, restProps = _object_without_properties_loose(props, [\n        \"href\",\n        \"as\",\n        \"children\",\n        \"prefetch\",\n        \"passHref\",\n        \"replace\",\n        \"shallow\",\n        \"scroll\",\n        \"locale\",\n        \"onClick\",\n        \"onMouseEnter\",\n        \"onTouchStart\",\n        \"legacyBehavior\"\n    ]);\n    children = childrenProp;\n    if (legacyBehavior && (typeof children === 'string' || typeof children === 'number')) {\n        children = /*#__PURE__*/ _react.default.createElement(\"a\", null, children);\n    }\n    const p = prefetchProp !== false;\n    let router = _react.default.useContext(_routerContext.RouterContext);\n    // TODO-APP: type error. Remove `as any`\n    const appRouter = _react.default.useContext(_appRouterContext.AppRouterContext);\n    if (appRouter) {\n        router = appRouter;\n    }\n    const { href , as  } = _react.default.useMemo(()=>{\n        const [resolvedHref, resolvedAs] = (0, _router).resolveHref(router, hrefProp, true);\n        return {\n            href: resolvedHref,\n            as: asProp ? (0, _router).resolveHref(router, asProp) : resolvedAs || resolvedHref\n        };\n    }, [\n        router,\n        hrefProp,\n        asProp\n    ]);\n    const previousHref = _react.default.useRef(href);\n    const previousAs = _react.default.useRef(as);\n    // This will return the first child, if multiple are provided it will throw an error\n    let child;\n    if (legacyBehavior) {\n        if (process.env.NODE_ENV === 'development') {\n            if (onClick) {\n                console.warn(`\"onClick\" was passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but \"legacyBehavior\" was set. The legacy behavior requires onClick be set on the child of next/link`);\n            }\n            if (onMouseEnter) {\n                console.warn(`\"onMouseEnter\" was passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but \"legacyBehavior\" was set. The legacy behavior requires onMouseEnter be set on the child of next/link`);\n            }\n            try {\n                child = _react.default.Children.only(children);\n            } catch (err) {\n                if (!children) {\n                    throw new Error(`No children were passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but one child is required https://nextjs.org/docs/messages/link-no-children`);\n                }\n                throw new Error(`Multiple children were passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children` + (typeof window !== 'undefined' ? \" \\nOpen your browser's console to view the Component stack trace.\" : ''));\n            }\n        } else {\n            child = _react.default.Children.only(children);\n        }\n    }\n    const childRef = legacyBehavior ? child && typeof child === 'object' && child.ref : forwardedRef;\n    const [setIntersectionRef, isVisible, resetVisible] = (0, _useIntersection).useIntersection({\n        rootMargin: '200px'\n    });\n    const setRef = _react.default.useCallback((el)=>{\n        // Before the link getting observed, check if visible state need to be reset\n        if (previousAs.current !== as || previousHref.current !== href) {\n            resetVisible();\n            previousAs.current = as;\n            previousHref.current = href;\n        }\n        setIntersectionRef(el);\n        if (childRef) {\n            if (typeof childRef === 'function') childRef(el);\n            else if (typeof childRef === 'object') {\n                childRef.current = el;\n            }\n        }\n    }, [\n        as,\n        childRef,\n        href,\n        resetVisible,\n        setIntersectionRef\n    ]);\n    _react.default.useEffect(()=>{\n        const shouldPrefetch = isVisible && p && (0, _router).isLocalURL(href);\n        const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n        const isPrefetched = prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')];\n        if (shouldPrefetch && !isPrefetched) {\n            prefetch(router, href, as, {\n                locale: curLocale\n            });\n        }\n    }, [\n        as,\n        href,\n        isVisible,\n        locale,\n        p,\n        router\n    ]);\n    const childProps = {\n        ref: setRef,\n        onClick: (e)=>{\n            if (process.env.NODE_ENV !== 'production') {\n                if (!e) {\n                    throw new Error(`Component rendered inside next/link has to pass click event to \"onClick\" prop.`);\n                }\n            }\n            if (!legacyBehavior && typeof onClick === 'function') {\n                onClick(e);\n            }\n            if (legacyBehavior && child.props && typeof child.props.onClick === 'function') {\n                child.props.onClick(e);\n            }\n            if (!e.defaultPrevented) {\n                linkClicked(e, router, href, as, replace, shallow, scroll, locale, Boolean(appRouter), p);\n            }\n        },\n        onMouseEnter: (e)=>{\n            if (!legacyBehavior && typeof onMouseEnter === 'function') {\n                onMouseEnter(e);\n            }\n            if (legacyBehavior && child.props && typeof child.props.onMouseEnter === 'function') {\n                child.props.onMouseEnter(e);\n            }\n            // Check for not prefetch disabled in page using appRouter\n            if (!(!p && appRouter)) {\n                if ((0, _router).isLocalURL(href)) {\n                    prefetch(router, href, as, {\n                        priority: true\n                    });\n                }\n            }\n        },\n        onTouchStart: (e)=>{\n            if (!legacyBehavior && typeof onTouchStart === 'function') {\n                onTouchStart(e);\n            }\n            if (legacyBehavior && child.props && typeof child.props.onTouchStart === 'function') {\n                child.props.onTouchStart(e);\n            }\n            // Check for not prefetch disabled in page using appRouter\n            if (!(!p && appRouter)) {\n                if ((0, _router).isLocalURL(href)) {\n                    prefetch(router, href, as, {\n                        priority: true\n                    });\n                }\n            }\n        }\n    };\n    // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n    // defined, we specify the current 'href', so that repetition is not needed by the user\n    if (!legacyBehavior || passHref || child.type === 'a' && !('href' in child.props)) {\n        const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n        // we only render domain locales if we are currently on a domain locale\n        // so that locale links are still visitable in development/preview envs\n        const localeDomain = router && router.isLocaleDomain && (0, _getDomainLocale).getDomainLocale(as, curLocale, router.locales, router.domainLocales);\n        childProps.href = localeDomain || (0, _addBasePath).addBasePath((0, _addLocale).addLocale(as, curLocale, router && router.defaultLocale));\n    }\n    return legacyBehavior ? /*#__PURE__*/ _react.default.cloneElement(child, childProps) : /*#__PURE__*/ _react.default.createElement(\"a\", Object.assign({}, restProps, childProps), children);\n});\nvar _default = Link;\nexports.default = _default;\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=link.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.useIntersection = useIntersection;\nvar _react = require(\"react\");\nvar _requestIdleCallback = require(\"./request-idle-callback\");\nconst hasIntersectionObserver = typeof IntersectionObserver === 'function';\nconst observers = new Map();\nconst idList = [];\nfunction createObserver(options) {\n    const id = {\n        root: options.root || null,\n        margin: options.rootMargin || ''\n    };\n    const existing = idList.find((obj)=>obj.root === id.root && obj.margin === id.margin);\n    let instance;\n    if (existing) {\n        instance = observers.get(existing);\n        if (instance) {\n            return instance;\n        }\n    }\n    const elements = new Map();\n    const observer = new IntersectionObserver((entries)=>{\n        entries.forEach((entry)=>{\n            const callback = elements.get(entry.target);\n            const isVisible = entry.isIntersecting || entry.intersectionRatio > 0;\n            if (callback && isVisible) {\n                callback(isVisible);\n            }\n        });\n    }, options);\n    instance = {\n        id,\n        observer,\n        elements\n    };\n    idList.push(id);\n    observers.set(id, instance);\n    return instance;\n}\nfunction observe(element, callback, options) {\n    const { id , observer , elements  } = createObserver(options);\n    elements.set(element, callback);\n    observer.observe(element);\n    return function unobserve() {\n        elements.delete(element);\n        observer.unobserve(element);\n        // Destroy observer when there's nothing left to watch:\n        if (elements.size === 0) {\n            observer.disconnect();\n            observers.delete(id);\n            const index = idList.findIndex((obj)=>obj.root === id.root && obj.margin === id.margin);\n            if (index > -1) {\n                idList.splice(index, 1);\n            }\n        }\n    };\n}\nfunction useIntersection({ rootRef , rootMargin , disabled  }) {\n    const isDisabled = disabled || !hasIntersectionObserver;\n    const [visible, setVisible] = (0, _react).useState(false);\n    const [element, setElement] = (0, _react).useState(null);\n    (0, _react).useEffect(()=>{\n        if (hasIntersectionObserver) {\n            if (isDisabled || visible) return;\n            if (element && element.tagName) {\n                const unobserve = observe(element, (isVisible)=>isVisible && setVisible(isVisible), {\n                    root: rootRef == null ? void 0 : rootRef.current,\n                    rootMargin\n                });\n                return unobserve;\n            }\n        } else {\n            if (!visible) {\n                const idleCallback = (0, _requestIdleCallback).requestIdleCallback(()=>setVisible(true));\n                return ()=>(0, _requestIdleCallback).cancelIdleCallback(idleCallback);\n            }\n        }\n    }, [\n        element,\n        isDisabled,\n        rootMargin,\n        rootRef,\n        visible\n    ]);\n    const resetVisible = (0, _react).useCallback(()=>{\n        setVisible(false);\n    }, []);\n    return [\n        setElement,\n        visible,\n        resetVisible\n    ];\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=use-intersection.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TemplateContext = exports.GlobalLayoutRouterContext = exports.LayoutRouterContext = exports.AppRouterContext = void 0;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _react = _interop_require_default(require(\"react\"));\nconst AppRouterContext = _react.default.createContext(null);\nexports.AppRouterContext = AppRouterContext;\nconst LayoutRouterContext = _react.default.createContext(null);\nexports.LayoutRouterContext = LayoutRouterContext;\nconst GlobalLayoutRouterContext = _react.default.createContext(null);\nexports.GlobalLayoutRouterContext = GlobalLayoutRouterContext;\nconst TemplateContext = _react.default.createContext(null);\nexports.TemplateContext = TemplateContext;\nif (process.env.NODE_ENV !== 'production') {\n    AppRouterContext.displayName = 'AppRouterContext';\n    LayoutRouterContext.displayName = 'LayoutRouterContext';\n    GlobalLayoutRouterContext.displayName = 'GlobalLayoutRouterContext';\n    TemplateContext.displayName = 'TemplateContext';\n}\n\n//# sourceMappingURL=app-router-context.js.map","import { useEffect } from 'react';\n\nfunction useUnmountEffect(callback) {\n    return useEffect(function () { return function () { return callback(); }; }, []);\n}\n\nexport { useUnmountEffect };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nvar PresenceContext = createContext(null);\n\nexport { PresenceContext };\n","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    var ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\nvar presenceId = 0;\nfunction getPresenceId() {\n    var id = presenceId;\n    presenceId++;\n    return id;\n}\nvar PresenceChild = function (_a) {\n    var children = _a.children, initial = _a.initial, isPresent = _a.isPresent, onExitComplete = _a.onExitComplete, custom = _a.custom, presenceAffectsLayout = _a.presenceAffectsLayout;\n    var presenceChildren = useConstant(newChildrenMap);\n    var id = useConstant(getPresenceId);\n    var context = useMemo(function () { return ({\n        id: id,\n        initial: initial,\n        isPresent: isPresent,\n        custom: custom,\n        onExitComplete: function (childId) {\n            presenceChildren.set(childId, true);\n            var allComplete = true;\n            presenceChildren.forEach(function (isComplete) {\n                if (!isComplete)\n                    allComplete = false;\n            });\n            allComplete && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n        },\n        register: function (childId) {\n            presenceChildren.set(childId, false);\n            return function () { return presenceChildren.delete(childId); };\n        },\n    }); }, \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(function () {\n        presenceChildren.forEach(function (_, key) { return presenceChildren.set(key, false); });\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(function () {\n        !isPresent && !presenceChildren.size && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n    }, [isPresent]);\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","var defaultTimestep = (1 / 60) * 1000;\nvar getCurrentTime = typeof performance !== \"undefined\"\n    ? function () { return performance.now(); }\n    : function () { return Date.now(); };\nvar onNextFrame = typeof window !== \"undefined\"\n    ? function (callback) {\n        return window.requestAnimationFrame(callback);\n    }\n    : function (callback) {\n        return setTimeout(function () { return callback(getCurrentTime()); }, defaultTimestep);\n    };\n\nexport { defaultTimestep, onNextFrame };\n","import { onNextFrame, defaultTimestep } from './on-next-frame.js';\nimport { createRenderStep } from './create-render-step.js';\n\nvar maxElapsed = 40;\nvar useDefaultElapsed = true;\nvar runNextFrame = false;\nvar isProcessing = false;\nvar frame = {\n    delta: 0,\n    timestamp: 0\n};\nvar stepsOrder = [\"read\", \"update\", \"preRender\", \"render\", \"postRender\"];\nvar steps = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n    acc[key] = createRenderStep(function () {\n        return runNextFrame = true;\n    });\n    return acc;\n}, {});\nvar sync = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n    var step = steps[key];\n    acc[key] = function (process, keepAlive, immediate) {\n        if (keepAlive === void 0) {\n            keepAlive = false;\n        }\n        if (immediate === void 0) {\n            immediate = false;\n        }\n        if (!runNextFrame) startLoop();\n        return step.schedule(process, keepAlive, immediate);\n    };\n    return acc;\n}, {});\nvar cancelSync = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n    acc[key] = steps[key].cancel;\n    return acc;\n}, {});\nvar flushSync = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n    acc[key] = function () {\n        return steps[key].process(frame);\n    };\n    return acc;\n}, {});\nvar processStep = function (stepId) {\n    return steps[stepId].process(frame);\n};\nvar processFrame = function (timestamp) {\n    runNextFrame = false;\n    frame.delta = useDefaultElapsed ? defaultTimestep : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\n    frame.timestamp = timestamp;\n    isProcessing = true;\n    stepsOrder.forEach(processStep);\n    isProcessing = false;\n    if (runNextFrame) {\n        useDefaultElapsed = false;\n        onNextFrame(processFrame);\n    }\n};\nvar startLoop = function () {\n    runNextFrame = true;\n    useDefaultElapsed = true;\n    if (!isProcessing) onNextFrame(processFrame);\n};\nvar getFrameData = function () {\n    return frame;\n};\n\nexport default sync;\nexport { cancelSync, flushSync, getFrameData };\n","function createRenderStep(runNextFrame) {\n    var toRun = [];\n    var toRunNextFrame = [];\n    var numToRun = 0;\n    var isProcessing = false;\n    var toKeepAlive = new WeakSet();\n    var step = {\n        schedule: function (callback, keepAlive, immediate) {\n            if (keepAlive === void 0) { keepAlive = false; }\n            if (immediate === void 0) { immediate = false; }\n            var addToCurrentFrame = immediate && isProcessing;\n            var buffer = addToCurrentFrame ? toRun : toRunNextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (buffer.indexOf(callback) === -1) {\n                buffer.push(callback);\n                if (addToCurrentFrame && isProcessing)\n                    numToRun = toRun.length;\n            }\n            return callback;\n        },\n        cancel: function (callback) {\n            var index = toRunNextFrame.indexOf(callback);\n            if (index !== -1)\n                toRunNextFrame.splice(index, 1);\n            toKeepAlive.delete(callback);\n        },\n        process: function (frameData) {\n            var _a;\n            isProcessing = true;\n            _a = [toRunNextFrame, toRun], toRun = _a[0], toRunNextFrame = _a[1];\n            toRunNextFrame.length = 0;\n            numToRun = toRun.length;\n            if (numToRun) {\n                for (var i = 0; i < numToRun; i++) {\n                    var callback = toRun[i];\n                    callback(frameData);\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                }\n            }\n            isProcessing = false;\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","function noop(any) {\n    return any;\n}\n\nexport { noop };\n","import { __assign } from 'tslib';\nimport { noop } from '../noop.js';\n\n/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToAxisBox(_a) {\n    var top = _a.top, left = _a.left, right = _a.right, bottom = _a.bottom;\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertAxisBoxToBoundingBox(_a) {\n    var x = _a.x, y = _a.y;\n    return {\n        top: y.min,\n        bottom: y.max,\n        left: x.min,\n        right: x.max,\n    };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoundingBox(_a, transformPoint) {\n    var top = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n    if (transformPoint === void 0) { transformPoint = noop; }\n    var topLeft = transformPoint({ x: left, y: top });\n    var bottomRight = transformPoint({ x: right, y: bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n/**\n * Create an empty axis box of zero size\n */\nfunction axisBox() {\n    return { x: { min: 0, max: 1 }, y: { min: 0, max: 1 } };\n}\nfunction copyAxisBox(box) {\n    return {\n        x: __assign({}, box.x),\n        y: __assign({}, box.y),\n    };\n}\n/**\n * Create an empty box delta\n */\nvar zeroDelta = {\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n};\nfunction delta() {\n    return {\n        x: __assign({}, zeroDelta),\n        y: __assign({}, zeroDelta),\n    };\n}\n\nexport { axisBox, convertAxisBoxToBoundingBox, convertBoundingBoxToAxisBox, copyAxisBox, delta, transformBoundingBox };\n","var compareByDepth = function (a, b) {\n    return a.depth - b.depth;\n};\n\nexport { compareByDepth };\n","import sync from 'framesync';\nimport { copyAxisBox } from '../../../utils/geometry/index.js';\nimport { compareByDepth } from '../../utils/compare-by-depth.js';\n\nfunction isProjecting(visualElement) {\n    var isEnabled = visualElement.projection.isEnabled;\n    return isEnabled || visualElement.shouldResetTransform();\n}\nfunction collectProjectingAncestors(visualElement, ancestors) {\n    if (ancestors === void 0) { ancestors = []; }\n    var parent = visualElement.parent;\n    if (parent)\n        collectProjectingAncestors(parent, ancestors);\n    if (isProjecting(visualElement))\n        ancestors.push(visualElement);\n    return ancestors;\n}\nfunction collectProjectingChildren(visualElement) {\n    var children = [];\n    var addChild = function (child) {\n        if (isProjecting(child))\n            children.push(child);\n        child.children.forEach(addChild);\n    };\n    visualElement.children.forEach(addChild);\n    return children.sort(compareByDepth);\n}\n/**\n * Update the layoutState by measuring the DOM layout. This\n * should be called after resetting any layout-affecting transforms.\n */\nfunction updateLayoutMeasurement(visualElement) {\n    if (visualElement.shouldResetTransform())\n        return;\n    var layoutState = visualElement.getLayoutState();\n    visualElement.notifyBeforeLayoutMeasure(layoutState.layout);\n    layoutState.isHydrated = true;\n    layoutState.layout = visualElement.measureViewportBox();\n    layoutState.layoutCorrected = copyAxisBox(layoutState.layout);\n    visualElement.notifyLayoutMeasure(layoutState.layout, visualElement.prevViewportBox || layoutState.layout);\n    sync.update(function () { return visualElement.rebaseProjectionTarget(); });\n}\n/**\n * Record the viewport box as it was before an expected mutation/re-render\n */\nfunction snapshotViewportBox(visualElement) {\n    if (visualElement.shouldResetTransform())\n        return;\n    visualElement.prevViewportBox = visualElement.measureViewportBox(false);\n    /**\n     * Update targetBox to match the prevViewportBox. This is just to ensure\n     * that targetBox is affected by scroll in the same way as the measured box\n     */\n    visualElement.rebaseProjectionTarget(false, visualElement.prevViewportBox);\n}\n\nexport { collectProjectingAncestors, collectProjectingChildren, snapshotViewportBox, updateLayoutMeasurement };\n","var unresolvedJobs = new Set();\nfunction pushJob(stack, job, pointer) {\n    if (!stack[pointer])\n        stack[pointer] = [];\n    stack[pointer].push(job);\n}\nfunction batchLayout(callback) {\n    unresolvedJobs.add(callback);\n    return function () { return unresolvedJobs.delete(callback); };\n}\nfunction flushLayout() {\n    if (!unresolvedJobs.size)\n        return;\n    var pointer = 0;\n    var reads = [[]];\n    var writes = [];\n    var setRead = function (job) { return pushJob(reads, job, pointer); };\n    var setWrite = function (job) {\n        pushJob(writes, job, pointer);\n        pointer++;\n    };\n    /**\n     * Resolve jobs into their array stacks\n     */\n    unresolvedJobs.forEach(function (callback) {\n        callback(setRead, setWrite);\n        pointer = 0;\n    });\n    unresolvedJobs.clear();\n    /**\n     * Execute jobs\n     */\n    var numStacks = writes.length;\n    for (var i = 0; i <= numStacks; i++) {\n        reads[i] && reads[i].forEach(executeJob);\n        writes[i] && writes[i].forEach(executeJob);\n    }\n}\nvar executeJob = function (job) { return job(); };\n\nexport { batchLayout, flushLayout };\n","/**\n * @public\n */\nvar Presence;\n(function (Presence) {\n    Presence[Presence[\"Entering\"] = 0] = \"Entering\";\n    Presence[Presence[\"Present\"] = 1] = \"Present\";\n    Presence[Presence[\"Exiting\"] = 2] = \"Exiting\";\n})(Presence || (Presence = {}));\n/**\n * @public\n */\nvar VisibilityAction;\n(function (VisibilityAction) {\n    VisibilityAction[VisibilityAction[\"Hide\"] = 0] = \"Hide\";\n    VisibilityAction[VisibilityAction[\"Show\"] = 1] = \"Show\";\n})(VisibilityAction || (VisibilityAction = {}));\n\nexport { Presence, VisibilityAction };\n","import { __spreadArray, __read } from 'tslib';\nimport sync, { flushSync } from 'framesync';\nimport { collectProjectingAncestors, updateLayoutMeasurement } from '../../../render/dom/projection/utils.js';\nimport { batchLayout, flushLayout } from '../../../render/dom/utils/batch-layout.js';\nimport { compareByDepth } from '../../../render/utils/compare-by-depth.js';\nimport { Presence } from '../types.js';\n\n/**\n * Default handlers for batching VisualElements\n */\nvar defaultHandler = {\n    layoutReady: function (child) { return child.notifyLayoutReady(); },\n};\n/**\n * Create a batcher to process VisualElements\n */\nfunction createBatcher() {\n    var queue = new Set();\n    return {\n        add: function (child) { return queue.add(child); },\n        flush: function (_a) {\n            var _b = _a === void 0 ? defaultHandler : _a, layoutReady = _b.layoutReady, parent = _b.parent;\n            batchLayout(function (read, write) {\n                var order = Array.from(queue).sort(compareByDepth);\n                var ancestors = parent\n                    ? collectProjectingAncestors(parent)\n                    : [];\n                write(function () {\n                    var allElements = __spreadArray(__spreadArray([], __read(ancestors)), __read(order));\n                    allElements.forEach(function (element) { return element.resetTransform(); });\n                });\n                read(function () {\n                    order.forEach(updateLayoutMeasurement);\n                });\n                write(function () {\n                    ancestors.forEach(function (element) { return element.restoreTransform(); });\n                    order.forEach(layoutReady);\n                });\n                read(function () {\n                    /**\n                     * After all children have started animating, ensure any Entering components are set to Present.\n                     * If we add deferred animations (set up all animations and then start them in two loops) this\n                     * could be moved to the start loop. But it needs to happen after all the animations configs\n                     * are generated in AnimateSharedLayout as this relies on presence data\n                     */\n                    order.forEach(function (child) {\n                        if (child.isPresent)\n                            child.presence = Presence.Present;\n                    });\n                });\n                write(function () {\n                    /**\n                     * Starting these animations will have queued jobs on the frame loop. In some situations,\n                     * like when removing an element, these will be processed too late after the DOM is manipulated,\n                     * leaving a flash of incorrectly-projected content. By manually flushing these jobs\n                     * we ensure there's no flash.\n                     */\n                    flushSync.preRender();\n                    flushSync.render();\n                });\n                read(function () {\n                    /**\n                     * Schedule a callback at the end of the following frame to assign the latest projection\n                     * box to the prevViewportBox snapshot. Once global batching is in place this could be run\n                     * synchronously. But for now it ensures that if any nested `AnimateSharedLayout` top-level\n                     * child attempts to calculate its previous relative position against a prevViewportBox\n                     * it will be against its latest projection box instead, as the snapshot is useless beyond this\n                     * render.\n                     */\n                    sync.postRender(function () {\n                        return order.forEach(assignProjectionToSnapshot);\n                    });\n                    queue.clear();\n                });\n            });\n            // TODO: Need to find a layout-synchronous way of flushing this\n            flushLayout();\n        },\n    };\n}\nfunction assignProjectionToSnapshot(child) {\n    child.prevViewportBox = child.projection.target;\n}\n\nexport { createBatcher };\n","import { createContext } from 'react';\nimport { createBatcher } from '../components/AnimateSharedLayout/utils/batcher.js';\n\nvar SharedLayoutContext = createContext(createBatcher());\n/**\n * @internal\n */\nvar FramerTreeLayoutContext = createContext(createBatcher());\nfunction isSharedLayout(context) {\n    return !!context.forceUpdate;\n}\n\nexport { FramerTreeLayoutContext, SharedLayoutContext, isSharedLayout };\n","import { __spreadArray, __read } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.js';\nimport { PresenceChild } from './PresenceChild.js';\nimport { SharedLayoutContext, isSharedLayout } from '../../context/SharedLayoutContext.js';\n\nfunction getChildKey(child) {\n    return child.key || \"\";\n}\nfunction updateChildLookup(children, allChildren) {\n    var seenChildren = process.env.NODE_ENV !== \"production\" ? new Set() : null;\n    children.forEach(function (child) {\n        var key = getChildKey(child);\n        if (process.env.NODE_ENV !== \"production\" && seenChildren) {\n            if (seenChildren.has(key)) {\n                console.warn(\"Children of AnimatePresence require unique keys. \\\"\" + key + \"\\\" is a duplicate.\");\n            }\n            seenChildren.add(key);\n        }\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    var filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, function (child) {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * @library\n *\n * Any `Frame` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { Frame, AnimatePresence } from 'framer'\n *\n * // As items are added and removed from `items`\n * export function Items({ items }) {\n *   return (\n *     <AnimatePresence>\n *       {items.map(item => (\n *         <Frame\n *           key={item.id}\n *           initial={{ opacity: 0 }}\n *           animate={{ opacity: 1 }}\n *           exit={{ opacity: 0 }}\n *         />\n *       ))}\n *     </AnimatePresence>\n *   )\n * }\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * @motion\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nvar AnimatePresence = function (_a) {\n    var children = _a.children, custom = _a.custom, _b = _a.initial, initial = _b === void 0 ? true : _b, onExitComplete = _a.onExitComplete, exitBeforeEnter = _a.exitBeforeEnter, _c = _a.presenceAffectsLayout, presenceAffectsLayout = _c === void 0 ? true : _c;\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    var forceRender = useForceUpdate();\n    var layoutContext = useContext(SharedLayoutContext);\n    if (isSharedLayout(layoutContext)) {\n        forceRender = layoutContext.forceUpdate;\n    }\n    var isInitialRender = useRef(true);\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    var filteredChildren = onlyElements(children);\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    var presentChildren = useRef(filteredChildren);\n    // A lookup table to quickly reference components by key\n    var allChildren = useRef(new Map())\n        .current;\n    // A living record of all currently exiting components.\n    var exiting = useRef(new Set()).current;\n    updateChildLookup(filteredChildren, allChildren);\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    if (isInitialRender.current) {\n        isInitialRender.current = false;\n        return (React.createElement(React.Fragment, null, filteredChildren.map(function (child) { return (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout }, child)); })));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    var childrenToRender = __spreadArray([], __read(filteredChildren));\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    var presentKeys = presentChildren.current.map(getChildKey);\n    var targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    var numPresent = presentKeys.length;\n    for (var i = 0; i < numPresent; i++) {\n        var key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1) {\n            exiting.add(key);\n        }\n        else {\n            // In case this key has re-entered, remove from the exiting list\n            exiting.delete(key);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (exitBeforeEnter && exiting.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exiting.forEach(function (key) {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        var child = allChildren.get(key);\n        if (!child)\n            return;\n        var insertionIndex = presentKeys.indexOf(key);\n        var onExit = function () {\n            allChildren.delete(key);\n            exiting.delete(key);\n            // Remove this child from the present children\n            var removeIndex = presentChildren.current.findIndex(function (presentChild) { return presentChild.key === key; });\n            presentChildren.current.splice(removeIndex, 1);\n            // Defer re-rendering until all exiting children have indeed left\n            if (!exiting.size) {\n                presentChildren.current = filteredChildren;\n                forceRender();\n                onExitComplete && onExitComplete();\n            }\n        };\n        childrenToRender.splice(insertionIndex, 0, React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map(function (child) {\n        var key = child.key;\n        return exiting.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    presentChildren.current = childrenToRender;\n    if (process.env.NODE_ENV !== \"production\" &&\n        exitBeforeEnter &&\n        childrenToRender.length > 1) {\n        console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n    }\n    return (React.createElement(React.Fragment, null, exiting.size\n        ? childrenToRender\n        : childrenToRender.map(function (child) { return cloneElement(child); })));\n};\n\nexport { AnimatePresence };\n","import { __read } from 'tslib';\nimport { useCallback, useRef, useState } from 'react';\nimport { useUnmountEffect } from './use-unmount-effect.js';\n\nfunction useForceUpdate() {\n    var unloadingRef = useRef(false);\n    var _a = __read(useState(0), 2), forcedRenderCount = _a[0], setForcedRenderCount = _a[1];\n    useUnmountEffect(function () { return (unloadingRef.current = true); });\n    return useCallback(function () {\n        !unloadingRef.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n}\n\nexport { useForceUpdate };\n","var createDefinition = function (propNames) { return ({\n    isEnabled: function (props) { return propNames.some(function (name) { return !!props[name]; }); },\n}); };\nvar featureDefinitions = {\n    measureLayout: createDefinition([\n        \"layout\",\n        \"layoutId\",\n        \"drag\",\n        \"_layoutResetTransform\",\n    ]),\n    animation: createDefinition([\n        \"animate\",\n        \"exit\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ]),\n    exit: createDefinition([\"exit\"]),\n    drag: createDefinition([\"drag\", \"dragControls\"]),\n    focus: createDefinition([\"whileFocus\"]),\n    hover: createDefinition([\"whileHover\", \"onHoverStart\", \"onHoverEnd\"]),\n    tap: createDefinition([\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"]),\n    pan: createDefinition([\n        \"onPan\",\n        \"onPanStart\",\n        \"onPanSessionStart\",\n        \"onPanEnd\",\n    ]),\n    layoutAnimation: createDefinition([\"layout\", \"layoutId\"]),\n};\nfunction loadFeatures(features) {\n    for (var key in features) {\n        var Component = features[key];\n        if (Component !== null)\n            featureDefinitions[key].Component = Component;\n    }\n}\n\nexport { featureDefinitions, loadFeatures };\n","import { createContext } from 'react';\n\nvar LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n","import { __assign } from 'tslib';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { featureDefinitions } from './definitions.js';\nimport { invariant } from 'hey-listen';\nimport { LazyContext } from '../../context/LazyContext.js';\n\nvar featureNames = Object.keys(featureDefinitions);\nvar numFeatures = featureNames.length;\n/**\n * Load features via renderless components based on the provided MotionProps.\n */\nfunction useFeatures(props, visualElement, preloadedFeatures) {\n    var features = [];\n    var lazyContext = useContext(LazyContext);\n    if (!visualElement)\n        return null;\n    /**\n     * If we're in development mode, check to make sure we're not rendering a motion component\n     * as a child of LazyMotion, as this will break the file-size benefits of using it.\n     */\n    if (process.env.NODE_ENV !== \"production\" &&\n        preloadedFeatures &&\n        lazyContext.strict) {\n        invariant(false, \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\");\n    }\n    for (var i = 0; i < numFeatures; i++) {\n        var name_1 = featureNames[i];\n        var _a = featureDefinitions[name_1], isEnabled = _a.isEnabled, Component = _a.Component;\n        /**\n         * It might be possible in the future to use this moment to\n         * dynamically request functionality. In initial tests this\n         * was producing a lot of duplication amongst bundles.\n         */\n        if (isEnabled(props) && Component) {\n            features.push(React.createElement(Component, __assign({ key: name_1 }, props, { visualElement: visualElement })));\n        }\n    }\n    return features;\n}\n\nexport { useFeatures };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nvar MotionConfigContext = createContext({\n    transformPagePoint: function (p) { return p; },\n    isStatic: false,\n});\n\nexport { MotionConfigContext };\n","import { useContext, createContext } from 'react';\n\nvar MotionContext = createContext({});\nfunction useVisualElementContext() {\n    return useContext(MotionContext).visualElement;\n}\n\nexport { MotionContext, useVisualElementContext };\n","import { useContext, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence() {\n    var context = useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    var isPresent = context.isPresent, onExitComplete = context.onExitComplete, register = context.register;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    // Replace with useOpaqueId when released in React\n    var id = useUniqueId();\n    useEffect(function () { return register(id); }, []);\n    var safeToRemove = function () { return onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete(id); };\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\nvar counter = 0;\nvar incrementId = function () { return counter++; };\nvar useUniqueId = function () { return useConstant(incrementId); };\n\nexport { isPresent, useIsPresent, usePresence };\n","import { createContext } from 'react';\n\n/**\n * @internal\n */\nvar LayoutGroupContext = createContext(null);\n\nexport { LayoutGroupContext };\n","var isBrowser = typeof window !== \"undefined\";\n\nexport { isBrowser };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.js';\n\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { __assign } from 'tslib';\nimport { useContext, useRef, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { isPresent } from '../../components/AnimatePresence/use-presence.js';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.js';\nimport { useVisualElementContext } from '../../context/MotionContext/index.js';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.js';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { LazyContext } from '../../context/LazyContext.js';\n\nfunction useLayoutId(_a) {\n    var layoutId = _a.layoutId;\n    var layoutGroupId = useContext(LayoutGroupContext);\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    var config = useContext(MotionConfigContext);\n    var lazyContext = useContext(LazyContext);\n    var parent = useVisualElementContext();\n    var presenceContext = useContext(PresenceContext);\n    var layoutId = useLayoutId(props);\n    var visualElementRef = useRef(undefined);\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    if (!createVisualElement)\n        createVisualElement = lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState: visualState,\n            parent: parent,\n            props: __assign(__assign({}, props), { layoutId: layoutId }),\n            presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n            blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false,\n        });\n    }\n    var visualElement = visualElementRef.current;\n    useIsomorphicLayoutEffect(function () {\n        if (!visualElement)\n            return;\n        visualElement.setProps(__assign(__assign(__assign({}, config), props), { layoutId: layoutId }));\n        visualElement.isPresent = isPresent(presenceContext);\n        visualElement.isPresenceRoot =\n            !parent || parent.presenceId !== (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id);\n        /**\n         * Fire a render to ensure the latest state is reflected on-screen.\n         */\n        visualElement.syncRender();\n    });\n    useEffect(function () {\n        var _a;\n        if (!visualElement)\n            return;\n        /**\n         * In a future refactor we can replace the features-as-components and\n         * have this loop through them all firing \"effect\" listeners\n         */\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n    });\n    useIsomorphicLayoutEffect(function () { return function () { return visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount(); }; }, []);\n    return visualElement;\n}\n\nexport { useVisualElement };\n","function isRefObject(ref) {\n    return (typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","/**\n * Decides if the supplied variable is an array of variant labels\n */\nfunction isVariantLabels(v) {\n    return Array.isArray(v);\n}\n/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || isVariantLabels(v);\n}\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\nfunction getCurrent(visualElement) {\n    var current = {};\n    visualElement.forEachValue(function (value, key) { return (current[key] = value.get()); });\n    return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\nfunction getVelocity(visualElement) {\n    var velocity = {};\n    visualElement.forEachValue(function (value, key) { return (velocity[key] = value.getVelocity()); });\n    return velocity;\n}\nfunction resolveVariantFromProps(props, definition, custom, currentValues, currentVelocity) {\n    var _a;\n    if (currentValues === void 0) { currentValues = {}; }\n    if (currentVelocity === void 0) { currentVelocity = {}; }\n    if (typeof definition === \"string\") {\n        definition = (_a = props.variants) === null || _a === void 0 ? void 0 : _a[definition];\n    }\n    return typeof definition === \"function\"\n        ? definition(custom !== null && custom !== void 0 ? custom : props.custom, currentValues, currentVelocity)\n        : definition;\n}\nfunction resolveVariant(visualElement, definition, custom) {\n    var props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== null && custom !== void 0 ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\nfunction checkIfControllingVariants(props) {\n    var _a;\n    return (typeof ((_a = props.animate) === null || _a === void 0 ? void 0 : _a.start) === \"function\" ||\n        isVariantLabel(props.initial) ||\n        isVariantLabel(props.animate) ||\n        isVariantLabel(props.whileHover) ||\n        isVariantLabel(props.whileDrag) ||\n        isVariantLabel(props.whileTap) ||\n        isVariantLabel(props.whileFocus) ||\n        isVariantLabel(props.exit));\n}\nfunction checkIfVariantNode(props) {\n    return Boolean(checkIfControllingVariants(props) || props.variants);\n}\n\nexport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel, isVariantLabels, resolveVariant, resolveVariantFromProps };\n","import { useMemo, useContext } from 'react';\nimport { MotionContext } from './index.js';\nimport { getCurrentTreeVariants } from './utils.js';\n\nfunction useCreateMotionContext(props, isStatic) {\n    var _a = getCurrentTreeVariants(props, useContext(MotionContext)), initial = _a.initial, animate = _a.animate;\n    return useMemo(function () { return ({ initial: initial, animate: animate }); }, \n    /**\n     * Only break memoisation in static mode\n     */\n    isStatic\n        ? [\n            variantLabelsAsDependency(initial),\n            variantLabelsAsDependency(animate),\n        ]\n        : []);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","import { checkIfControllingVariants, isVariantLabel } from '../../render/utils/variants.js';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (checkIfControllingVariants(props)) {\n        var initial = props.initial, animate = props.animate;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { useFeatures } from './features/use-features.js';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { MotionContext } from '../context/MotionContext/index.js';\nimport { useVisualElement } from './utils/use-visual-element.js';\nimport { useMotionRef } from './utils/use-motion-ref.js';\nimport { useCreateMotionContext } from '../context/MotionContext/create.js';\nimport { loadFeatures } from './features/definitions.js';\nimport { isBrowser } from '../utils/is-browser.js';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n *\n * @internal\n */\nfunction createMotionComponent(_a) {\n    var preloadedFeatures = _a.preloadedFeatures, createVisualElement = _a.createVisualElement, useRender = _a.useRender, useVisualState = _a.useVisualState, Component = _a.Component;\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we're rendering in a static environment, we only visually update the component\n         * as a result of a React-rerender rather than interactions or animations. This\n         * means we don't need to load additional memory structures like VisualElement,\n         * or any gesture/animation features.\n         */\n        var isStatic = useContext(MotionConfigContext).isStatic;\n        var features = null;\n        /**\n         * Create the tree context. This is memoized and will only trigger renders\n         * when the current tree variant changes in static mode.\n         */\n        var context = useCreateMotionContext(props, isStatic);\n        /**\n         *\n         */\n        var visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, props, createVisualElement);\n            /**\n             * Load Motion gesture and animation features. These are rendered as renderless\n             * components so each feature can optionally make use of React lifecycle methods.\n             *\n             * TODO: The intention is to move these away from a React-centric to a\n             * VisualElement-centric lifecycle scheme.\n             */\n            features = useFeatures(props, context.visualElement, preloadedFeatures);\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (React.createElement(React.Fragment, null,\n            React.createElement(MotionContext.Provider, { value: context }, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic)),\n            features));\n    }\n    return forwardRef(MotionComponent);\n}\n\nexport { createMotionComponent };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.js';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback(function (instance) {\n        var _a;\n        instance && ((_a = visualState.mount) === null || _a === void 0 ? void 0 : _a.call(visualState, instance));\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n","import { createMotionComponent } from '../../motion/index.js';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n    function custom(Component, customMotionComponentConfig) {\n        if (customMotionComponentConfig === void 0) { customMotionComponentConfig = {}; }\n        return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    var componentCache = new Map();\n    return new Proxy(custom, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: function (_target, key) {\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, custom(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nvar lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"svg\",\n    \"switch\",\n    \"symbol\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.js';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n","var valueScaleCorrection = {};\n/**\n * @internal\n */\nfunction addScaleCorrection(correctors) {\n    for (var key in correctors) {\n        valueScaleCorrection[key] = correctors[key];\n    }\n}\n\nexport { addScaleCorrection, valueScaleCorrection };\n","/**\n * A list of all transformable axes. We'll use this list to generated a version\n * of each axes for each transform.\n */\nvar transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * An ordered array of each transformable value. By default, transform values\n * will be sorted to this order.\n */\nvar order = [\"translate\", \"scale\", \"rotate\", \"skew\"];\n/**\n * Generate a list of every possible transform key.\n */\nvar transformProps = [\"transformPerspective\", \"x\", \"y\", \"z\"];\norder.forEach(function (operationKey) {\n    return transformAxes.forEach(function (axesKey) {\n        return transformProps.push(operationKey + axesKey);\n    });\n});\n/**\n * A function to use with Array.sort to sort transform keys by their default order.\n */\nfunction sortTransformProps(a, b) {\n    return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\n/**\n * A quick lookup for transform props.\n */\nvar transformPropSet = new Set(transformProps);\nfunction isTransformProp(key) {\n    return transformPropSet.has(key);\n}\n/**\n * A quick lookup for transform origin props\n */\nvar transformOriginProps = new Set([\"originX\", \"originY\", \"originZ\"]);\nfunction isTransformOriginProp(key) {\n    return transformOriginProps.has(key);\n}\n\nexport { isTransformOriginProp, isTransformProp, sortTransformProps, transformAxes, transformProps };\n","import { valueScaleCorrection } from '../../render/dom/projection/scale-correction.js';\nimport { isTransformProp, isTransformOriginProp } from '../../render/html/utils/transform.js';\n\nfunction isForcedMotionValue(key, _a) {\n    var layout = _a.layout, layoutId = _a.layoutId;\n    return (isTransformProp(key) ||\n        isTransformOriginProp(key) ||\n        ((layout || layoutId !== undefined) &&\n            (!!valueScaleCorrection[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n","var isMotionValue = function (value) {\n    return value !== null && typeof value === \"object\" && value.getVelocity;\n};\n\nexport { isMotionValue };\n","import { sortTransformProps } from './transform.js';\n\nvar translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(_a, _b, transformIsDefault, transformTemplate) {\n    var transform = _a.transform, transformKeys = _a.transformKeys;\n    var _c = _b.enableHardwareAcceleration, enableHardwareAcceleration = _c === void 0 ? true : _c, _d = _b.allowTransformNone, allowTransformNone = _d === void 0 ? true : _d;\n    // The transform string we're going to build into.\n    var transformString = \"\";\n    // Transform keys into their default order - this will determine the output order.\n    transformKeys.sort(sortTransformProps);\n    // Track whether the defined transform has a defined z so we don't add a\n    // second to enable hardware acceleration\n    var transformHasZ = false;\n    // Loop over each transform and build them into transformString\n    var numTransformKeys = transformKeys.length;\n    for (var i = 0; i < numTransformKeys; i++) {\n        var key = transformKeys[i];\n        transformString += (translateAlias[key] || key) + \"(\" + transform[key] + \") \";\n        if (key === \"z\")\n            transformHasZ = true;\n    }\n    if (!transformHasZ && enableHardwareAcceleration) {\n        transformString += \"translateZ(0)\";\n    }\n    else {\n        transformString = transformString.trim();\n    }\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (allowTransformNone && transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n/**\n * Build a transformOrigin style. Uses the same defaults as the browser for\n * undefined origins.\n */\nfunction buildTransformOrigin(_a) {\n    var _b = _a.originX, originX = _b === void 0 ? \"50%\" : _b, _c = _a.originY, originY = _c === void 0 ? \"50%\" : _c, _d = _a.originZ, originZ = _d === void 0 ? 0 : _d;\n    return originX + \" \" + originY + \" \" + originZ;\n}\n\nexport { buildTransform, buildTransformOrigin };\n","/**\n * Returns true if the provided key is a CSS variable\n */\nfunction isCSSVariable(key) {\n    return key.startsWith(\"--\");\n}\n\nexport { isCSSVariable };\n","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nvar getValueAsType = function (value, type) {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nexport { getValueAsType };\n","var clamp = function (min, max) { return function (v) {\n    return Math.max(Math.min(v, max), min);\n}; };\nvar sanitize = function (v) { return (v % 1 ? Number(v.toFixed(5)) : v); };\nvar floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nvar colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))/gi;\nvar singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))$/i;\nfunction isString(v) {\n    return typeof v === 'string';\n}\n\nexport { clamp, colorRegex, floatRegex, isString, sanitize, singleColorRegex };\n","import { __assign } from 'tslib';\nimport { isString } from '../utils.js';\n\nvar createUnitType = function (unit) { return ({\n    test: function (v) {\n        return isString(v) && v.endsWith(unit) && v.split(' ').length === 1;\n    },\n    parse: parseFloat,\n    transform: function (v) { return \"\" + v + unit; },\n}); };\nvar degrees = createUnitType('deg');\nvar percent = createUnitType('%');\nvar px = createUnitType('px');\nvar vh = createUnitType('vh');\nvar vw = createUnitType('vw');\nvar progressPercentage = __assign(__assign({}, percent), { parse: function (v) { return percent.parse(v) / 100; }, transform: function (v) { return percent.transform(v * 100); } });\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","import { __assign } from 'tslib';\nimport { clamp } from '../utils.js';\n\nvar number = {\n    test: function (v) { return typeof v === 'number'; },\n    parse: parseFloat,\n    transform: function (v) { return v; },\n};\nvar alpha = __assign(__assign({}, number), { transform: clamp(0, 1) });\nvar scale = __assign(__assign({}, number), { default: 1 });\n\nexport { alpha, number, scale };\n","import { __assign } from 'tslib';\nimport { number } from 'style-value-types';\n\nvar int = __assign(__assign({}, number), { transform: Math.round });\n\nexport { int };\n","import { px, degrees, scale, alpha, progressPercentage } from 'style-value-types';\nimport { int } from './type-int.js';\n\nvar numberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    // Transform props\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale: scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    // Misc\n    zIndex: int,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","import { valueScaleCorrection } from '../../dom/projection/scale-correction.js';\nimport { buildTransform, buildTransformOrigin } from './build-transform.js';\nimport { isCSSVariable } from '../../dom/utils/is-css-variable.js';\nimport { isTransformProp, isTransformOriginProp } from './transform.js';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.js';\nimport { numberValueTypes } from '../../dom/value-types/number.js';\n\nfunction buildHTMLStyles(state, latestValues, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n    var _a;\n    var style = state.style, vars = state.vars, transform = state.transform, transformKeys = state.transformKeys, transformOrigin = state.transformOrigin;\n    // Empty the transformKeys array. As we're throwing out refs to its items\n    // this might not be as cheap as suspected. Maybe using the array as a buffer\n    // with a manual incrementation would be better.\n    transformKeys.length = 0;\n    // Track whether we encounter any transform or transformOrigin values.\n    var hasTransform = false;\n    var hasTransformOrigin = false;\n    // Does the calculated transform essentially equal \"none\"?\n    var transformIsNone = true;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept seperately for further processing.\n     */\n    for (var key in latestValues) {\n        var value = latestValues[key];\n        /**\n         * If this is a CSS variable we don't do any further processing.\n         */\n        if (isCSSVariable(key)) {\n            vars[key] = value;\n            continue;\n        }\n        // Convert the value to its default value type, ie 0 -> \"0px\"\n        var valueType = numberValueTypes[key];\n        var valueAsType = getValueAsType(value, valueType);\n        if (isTransformProp(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            transform[key] = valueAsType;\n            transformKeys.push(key);\n            // If we already know we have a non-default transform, early return\n            if (!transformIsNone)\n                continue;\n            // Otherwise check to see if this is a default transform\n            if (value !== ((_a = valueType.default) !== null && _a !== void 0 ? _a : 0))\n                transformIsNone = false;\n        }\n        else if (isTransformOriginProp(key)) {\n            transformOrigin[key] = valueAsType;\n            // If this is a transform origin, flag and enable further transform-origin processing\n            hasTransformOrigin = true;\n        }\n        else {\n            /**\n             * If layout projection is on, and we need to perform scale correction for this\n             * value type, perform it.\n             */\n            if ((projection === null || projection === void 0 ? void 0 : projection.isHydrated) &&\n                (layoutState === null || layoutState === void 0 ? void 0 : layoutState.isHydrated) &&\n                valueScaleCorrection[key]) {\n                var correctedValue = valueScaleCorrection[key].process(value, layoutState, projection);\n                /**\n                 * Scale-correctable values can define a number of other values to break\n                 * down into. For instance borderRadius needs applying to borderBottomLeftRadius etc\n                 */\n                var applyTo = valueScaleCorrection[key].applyTo;\n                if (applyTo) {\n                    var num = applyTo.length;\n                    for (var i = 0; i < num; i++) {\n                        style[applyTo[i]] = correctedValue;\n                    }\n                }\n                else {\n                    style[key] = correctedValue;\n                }\n            }\n            else {\n                style[key] = valueAsType;\n            }\n        }\n    }\n    if (layoutState &&\n        projection &&\n        buildProjectionTransform &&\n        buildProjectionTransformOrigin) {\n        style.transform = buildProjectionTransform(layoutState.deltaFinal, layoutState.treeScale, hasTransform ? transform : undefined);\n        if (transformTemplate) {\n            style.transform = transformTemplate(transform, style.transform);\n        }\n        style.transformOrigin = buildProjectionTransformOrigin(layoutState);\n    }\n    else {\n        if (hasTransform) {\n            style.transform = buildTransform(state, options, transformIsNone, transformTemplate);\n        }\n        if (hasTransformOrigin) {\n            style.transformOrigin = buildTransformOrigin(transformOrigin);\n        }\n    }\n}\n\nexport { buildHTMLStyles };\n","var createHtmlRenderState = function () { return ({\n    style: {},\n    transform: {},\n    transformKeys: [],\n    transformOrigin: {},\n    vars: {},\n}); };\n\nexport { createHtmlRenderState };\n","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (var key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues(_a, visualState, isStatic) {\n    var transformTemplate = _a.transformTemplate;\n    return useMemo(function () {\n        var state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, undefined, undefined, { enableHardwareAcceleration: !isStatic }, transformTemplate);\n        var vars = state.vars, style = state.style;\n        return __assign(__assign({}, vars), style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n    var styleProp = props.style || {};\n    var style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n    if (props.transformValues) {\n        style = props.transformValues(style);\n    }\n    return style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    var htmlProps = {};\n    var style = useStyle(props, visualState, isStatic);\n    if (Boolean(props.drag)) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect = style.WebkitUserSelect = style.WebkitTouchCallout =\n            \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : \"pan-\" + (props.drag === \"x\" ? \"y\" : \"x\");\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps, useStyle };\n","/**\n * A list of all valid MotionProps.\n *\n * @internalremarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nvar validMotionProps = new Set([\n    \"initial\",\n    \"animate\",\n    \"exit\",\n    \"style\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"transformValues\",\n    \"custom\",\n    \"inherit\",\n    \"layout\",\n    \"layoutId\",\n    \"_layoutResetTransform\",\n    \"onLayoutAnimationComplete\",\n    \"onViewportBoxUpdate\",\n    \"onLayoutMeasure\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"drag\",\n    \"dragControls\",\n    \"dragListener\",\n    \"dragConstraints\",\n    \"dragDirectionLock\",\n    \"_dragX\",\n    \"_dragY\",\n    \"dragElastic\",\n    \"dragMomentum\",\n    \"dragPropagation\",\n    \"dragTransition\",\n    \"whileDrag\",\n    \"onPan\",\n    \"onPanStart\",\n    \"onPanEnd\",\n    \"onPanSessionStart\",\n    \"onTap\",\n    \"onTapStart\",\n    \"onTapCancel\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"whileFocus\",\n    \"whileTap\",\n    \"whileHover\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return validMotionProps.has(key);\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.js';\n\nvar shouldForward = function (key) { return !isValidMotionProp(key); };\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    var emotionIsPropValid_1 = require(\"@emotion/is-prop-valid\").default;\n    shouldForward = function (key) {\n        // Handle events explicitly as Emotion validates them all as true\n        if (key.startsWith(\"on\")) {\n            return !isValidMotionProp(key);\n        }\n        else {\n            return emotionIsPropValid_1(key);\n        }\n    };\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    var filteredProps = {};\n    for (var key in props) {\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key))) {\n            filteredProps[key] = props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps };\n","import { px } from 'style-value-types';\n\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === \"string\"\n        ? origin\n        : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n    var pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n    var pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n    return pxOriginX + \" \" + pxOriginY;\n}\n\nexport { calcSVGTransformOrigin };\n","import { px } from 'style-value-types';\n\n// Convert a progress 0-1 to a pixels value based on the provided length\nvar progressToPixels = function (progress, length) {\n    return px.transform(progress * length);\n};\nvar dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nvar camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, totalLength, length, spacing, offset, useDashCase) {\n    if (spacing === void 0) { spacing = 1; }\n    if (offset === void 0) { offset = 0; }\n    if (useDashCase === void 0) { useDashCase = true; }\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    var keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = progressToPixels(-offset, totalLength);\n    // Build the dash array\n    var pathLength = progressToPixels(length, totalLength);\n    var pathSpacing = progressToPixels(spacing, totalLength);\n    attrs[keys.array] = pathLength + \" \" + pathSpacing;\n}\n\nexport { buildSVGPath };\n","import { __rest } from 'tslib';\nimport { buildHTMLStyles } from '../../html/utils/build-styles.js';\nimport { calcSVGTransformOrigin } from './transform-origin.js';\nimport { buildSVGPath } from './path.js';\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, _a, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n    var attrX = _a.attrX, attrY = _a.attrY, originX = _a.originX, originY = _a.originY, pathLength = _a.pathLength, _b = _a.pathSpacing, pathSpacing = _b === void 0 ? 1 : _b, _c = _a.pathOffset, pathOffset = _c === void 0 ? 0 : _c, \n    // This is object creation, which we try to avoid per-frame.\n    latest = __rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n    buildHTMLStyles(state, latest, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin);\n    state.attrs = state.style;\n    state.style = {};\n    var attrs = state.attrs, style = state.style, dimensions = state.dimensions, totalPathLength = state.totalPathLength;\n    /**\n     * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n     * and copy it into style.\n     */\n    if (attrs.transform) {\n        if (dimensions)\n            style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    // Parse transformOrigin\n    if (dimensions &&\n        (originX !== undefined || originY !== undefined || style.transform)) {\n        style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n    }\n    // Treat x/y not as shortcuts but as actual attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    // Build SVG path if one has been measured\n    if (totalPathLength !== undefined && pathLength !== undefined) {\n        buildSVGPath(attrs, totalPathLength, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n","import { __assign } from 'tslib';\nimport { createHtmlRenderState } from '../../html/utils/create-render-state.js';\n\nvar createSvgRenderState = function () { return (__assign(__assign({}, createHtmlRenderState()), { attrs: {} })); };\n\nexport { createSvgRenderState };\n","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\n\nfunction useSVGProps(props, visualState) {\n    var visualProps = useMemo(function () {\n        var state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, undefined, undefined, { enableHardwareAcceleration: false }, props.transformTemplate);\n        return __assign(__assign({}, state.attrs), { style: __assign({}, state.style) });\n    }, [visualState]);\n    if (props.style) {\n        var rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = __assign(__assign({}, rawStyles), visualProps.style);\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import { __assign } from 'tslib';\nimport { createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.js';\nimport { filterProps } from './utils/filter-props.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\nimport { useSVGProps } from '../svg/use-props.js';\n\nfunction createUseRender(forwardMotionProps) {\n    if (forwardMotionProps === void 0) { forwardMotionProps = false; }\n    var useRender = function (Component, props, ref, _a, isStatic) {\n        var latestValues = _a.latestValues;\n        var useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        var visualProps = useVisualProps(props, latestValues, isStatic);\n        var filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        var elementProps = __assign(__assign(__assign({}, filteredProps), visualProps), { ref: ref });\n        return createElement(Component, elementProps);\n    };\n    return useRender;\n}\n\nexport { createUseRender };\n","var CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = \"$1-$2\";\n/**\n * Convert camelCase to dash-case properties.\n */\nvar camelToDash = function (str) {\n    return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\n\nexport { camelToDash };\n","function renderHTML(element, _a) {\n    var style = _a.style, vars = _a.vars;\n    // Directly assign style into the Element's style prop. In tests Object.assign is the\n    // fastest way to assign styles.\n    Object.assign(element.style, style);\n    // Loop over any CSS variables and assign those.\n    for (var key in vars) {\n        element.style.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nvar camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n]);\n\nexport { camelCaseAttributes };\n","import { camelToDash } from '../../dom/utils/camel-to-dash.js';\nimport { renderHTML } from '../../html/utils/render.js';\nimport { camelCaseAttributes } from './camel-case-attrs.js';\n\nfunction renderSVG(element, renderState) {\n    renderHTML(element, renderState);\n    for (var key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.js';\n\nfunction scrapeMotionValuesFromProps(props) {\n    var style = props.style;\n    var newValues = {};\n    for (var key in style) {\n        if (isMotionValue(style[key]) || isForcedMotionValue(key, props)) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { isMotionValue } from '../../../value/utils/is-motion-value.js';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.js';\n\nfunction scrapeMotionValuesFromProps(props) {\n    var newValues = scrapeMotionValuesFromProps$1(props);\n    for (var key in props) {\n        if (isMotionValue(props[key])) {\n            var targetKey = key === \"x\" || key === \"y\" ? \"attr\" + key.toUpperCase() : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","function isAnimationControls(v) {\n    return typeof v === \"object\" && typeof v.start === \"function\";\n}\n\nexport { isAnimationControls };\n","var isKeyframesTarget = function (v) {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","import { isCustomValue } from '../../utils/resolve-value.js';\nimport { isMotionValue } from './is-motion-value.js';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n *\n * @internal\n */\nfunction resolveMotionValue(value) {\n    var unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nexport { resolveMotionValue };\n","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.js';\n\nvar isCustomValue = function (v) {\n    return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nvar resolveFinalValueInKeyframes = function (v) {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };\n","import { __rest } from 'tslib';\nimport { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { checkIfControllingVariants, checkIfVariantNode, resolveVariantFromProps } from '../../render/utils/variants.js';\nimport { useConstant } from '../../utils/use-constant.js';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.js';\nimport { MotionContext } from '../../context/MotionContext/index.js';\n\nfunction makeState(_a, props, context, presenceContext) {\n    var scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps, createRenderState = _a.createRenderState, onMount = _a.onMount;\n    var state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = function (instance) { return onMount(props, instance, state); };\n    }\n    return state;\n}\nvar makeUseVisualState = function (config) { return function (props, isStatic) {\n    var context = useContext(MotionContext);\n    var presenceContext = useContext(PresenceContext);\n    return isStatic\n        ? makeState(config, props, context, presenceContext)\n        : useConstant(function () { return makeState(config, props, context, presenceContext); });\n}; };\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    var values = {};\n    var blockInitialAnimation = (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false;\n    var motionValues = scrapeMotionValues(props);\n    for (var key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    var initial = props.initial, animate = props.animate;\n    var isControllingVariants = checkIfControllingVariants(props);\n    var isVariantNode = checkIfVariantNode(props);\n    if (context &&\n        isVariantNode &&\n        !isControllingVariants &&\n        props.inherit !== false) {\n        initial !== null && initial !== void 0 ? initial : (initial = context.initial);\n        animate !== null && animate !== void 0 ? animate : (animate = context.animate);\n    }\n    var variantToSet = blockInitialAnimation || initial === false ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        var list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        list.forEach(function (definition) {\n            var resolved = resolveVariantFromProps(props, definition);\n            if (!resolved)\n                return;\n            var transitionEnd = resolved.transitionEnd; resolved.transition; var target = __rest(resolved, [\"transitionEnd\", \"transition\"]);\n            for (var key in target)\n                values[key] = target[key];\n            for (var key in transitionEnd)\n                values[key] = transitionEnd[key];\n        });\n    }\n    return values;\n}\n\nexport { makeUseVisualState };\n","import { renderSVG } from './utils/render.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\n\nvar svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: function (props, instance, _a) {\n            var renderState = _a.renderState, latestValues = _a.latestValues;\n            try {\n                renderState.dimensions =\n                    typeof instance.getBBox ===\n                        \"function\"\n                        ? instance.getBBox()\n                        : instance.getBoundingClientRect();\n            }\n            catch (e) {\n                // Most likely trying to measure an unrendered element under Firefox\n                renderState.dimensions = {\n                    x: 0,\n                    y: 0,\n                    width: 0,\n                    height: 0,\n                };\n            }\n            if (isPath(instance)) {\n                renderState.totalPathLength = instance.getTotalLength();\n            }\n            buildSVGAttrs(renderState, latestValues, undefined, undefined, { enableHardwareAcceleration: false }, props.transformTemplate);\n            // TODO: Replace with direct assignment\n            renderSVG(instance, renderState);\n        },\n    }),\n};\nfunction isPath(element) {\n    return element.tagName === \"path\";\n}\n\nexport { svgMotionConfig };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\n\nvar htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nexport { htmlMotionConfig };\n","var AnimationType;\n(function (AnimationType) {\n    AnimationType[\"Animate\"] = \"animate\";\n    AnimationType[\"Hover\"] = \"whileHover\";\n    AnimationType[\"Tap\"] = \"whileTap\";\n    AnimationType[\"Drag\"] = \"whileDrag\";\n    AnimationType[\"Focus\"] = \"whileFocus\";\n    AnimationType[\"Exit\"] = \"exit\";\n})(AnimationType || (AnimationType = {}));\n\nexport { AnimationType };\n","import { useEffect } from 'react';\n\nfunction addDomEvent(target, eventName, handler, options) {\n    target.addEventListener(eventName, handler, options);\n    return function () { return target.removeEventListener(eventName, handler, options); };\n}\n/**\n * Attaches an event listener directly to the provided DOM element.\n *\n * Bypassing React's event system can be desirable, for instance when attaching non-passive\n * event handlers.\n *\n * ```jsx\n * const ref = useRef(null)\n *\n * useDomEvent(ref, 'wheel', onWheel, { passive: false })\n *\n * return <div ref={ref} />\n * ```\n *\n * @param ref - React.RefObject that's been provided to the element you want to bind the listener to.\n * @param eventName - Name of the event you want listen for.\n * @param handler - Function to fire when receiving the event.\n * @param options - Options to pass to `Event.addEventListener`.\n *\n * @public\n */\nfunction useDomEvent(ref, eventName, handler, options) {\n    useEffect(function () {\n        var element = ref.current;\n        if (handler && element) {\n            return addDomEvent(element, eventName, handler, options);\n        }\n    }, [ref, eventName, handler, options]);\n}\n\nexport { addDomEvent, useDomEvent };\n","function isMouseEvent(event) {\n    // PointerEvent inherits from MouseEvent so we can't use a straight instanceof check.\n    if (typeof PointerEvent !== \"undefined\" && event instanceof PointerEvent) {\n        return !!(event.pointerType === \"mouse\");\n    }\n    return event instanceof MouseEvent;\n}\nfunction isTouchEvent(event) {\n    var hasTouches = !!event.touches;\n    return hasTouches;\n}\n\nexport { isMouseEvent, isTouchEvent };\n","import { isTouchEvent } from '../gestures/utils/event-type.js';\n\n/**\n * Filters out events not attached to the primary pointer (currently left mouse button)\n * @param eventHandler\n */\nfunction filterPrimaryPointer(eventHandler) {\n    return function (event) {\n        var isMouseEvent = event instanceof MouseEvent;\n        var isPrimaryPointer = !isMouseEvent ||\n            (isMouseEvent && event.button === 0);\n        if (isPrimaryPointer) {\n            eventHandler(event);\n        }\n    };\n}\nvar defaultPagePoint = { pageX: 0, pageY: 0 };\nfunction pointFromTouch(e, pointType) {\n    if (pointType === void 0) { pointType = \"page\"; }\n    var primaryTouch = e.touches[0] || e.changedTouches[0];\n    var point = primaryTouch || defaultPagePoint;\n    return {\n        x: point[pointType + \"X\"],\n        y: point[pointType + \"Y\"],\n    };\n}\nfunction pointFromMouse(point, pointType) {\n    if (pointType === void 0) { pointType = \"page\"; }\n    return {\n        x: point[pointType + \"X\"],\n        y: point[pointType + \"Y\"],\n    };\n}\nfunction extractEventInfo(event, pointType) {\n    if (pointType === void 0) { pointType = \"page\"; }\n    return {\n        point: isTouchEvent(event)\n            ? pointFromTouch(event, pointType)\n            : pointFromMouse(event, pointType),\n    };\n}\nfunction getViewportPointFromEvent(event) {\n    return extractEventInfo(event, \"client\");\n}\nvar wrapHandler = function (handler, shouldFilterPrimaryPointer) {\n    if (shouldFilterPrimaryPointer === void 0) { shouldFilterPrimaryPointer = false; }\n    var listener = function (event) {\n        return handler(event, extractEventInfo(event));\n    };\n    return shouldFilterPrimaryPointer\n        ? filterPrimaryPointer(listener)\n        : listener;\n};\n\nexport { extractEventInfo, getViewportPointFromEvent, wrapHandler };\n","import { useDomEvent, addDomEvent } from './use-dom-event.js';\nimport { wrapHandler } from './event-info.js';\nimport { supportsPointerEvents, supportsTouchEvents, supportsMouseEvents } from './utils.js';\n\nvar mouseEventNames = {\n    pointerdown: \"mousedown\",\n    pointermove: \"mousemove\",\n    pointerup: \"mouseup\",\n    pointercancel: \"mousecancel\",\n    pointerover: \"mouseover\",\n    pointerout: \"mouseout\",\n    pointerenter: \"mouseenter\",\n    pointerleave: \"mouseleave\",\n};\nvar touchEventNames = {\n    pointerdown: \"touchstart\",\n    pointermove: \"touchmove\",\n    pointerup: \"touchend\",\n    pointercancel: \"touchcancel\",\n};\nfunction getPointerEventName(name) {\n    if (supportsPointerEvents()) {\n        return name;\n    }\n    else if (supportsTouchEvents()) {\n        return touchEventNames[name];\n    }\n    else if (supportsMouseEvents()) {\n        return mouseEventNames[name];\n    }\n    return name;\n}\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, getPointerEventName(eventName), wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\nfunction usePointerEvent(ref, eventName, handler, options) {\n    return useDomEvent(ref, getPointerEventName(eventName), handler && wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\n\nexport { addPointerEvent, usePointerEvent };\n","import { isBrowser } from '../utils/is-browser.js';\n\n// We check for event support via functions in case they've been mocked by a testing suite.\nvar supportsPointerEvents = function () {\n    return isBrowser && window.onpointerdown === null;\n};\nvar supportsTouchEvents = function () {\n    return isBrowser && window.ontouchstart === null;\n};\nvar supportsMouseEvents = function () {\n    return isBrowser && window.onmousedown === null;\n};\n\nexport { supportsMouseEvents, supportsPointerEvents, supportsTouchEvents };\n","function createLock(name) {\n    var lock = null;\n    return function () {\n        var openLock = function () {\n            lock = null;\n        };\n        if (lock === null) {\n            lock = name;\n            return openLock;\n        }\n        return false;\n    };\n}\nvar globalHorizontalLock = createLock(\"dragHorizontal\");\nvar globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n    var lock = false;\n    if (drag === \"y\") {\n        lock = globalVerticalLock();\n    }\n    else if (drag === \"x\") {\n        lock = globalHorizontalLock();\n    }\n    else {\n        var openHorizontal_1 = globalHorizontalLock();\n        var openVertical_1 = globalVerticalLock();\n        if (openHorizontal_1 && openVertical_1) {\n            lock = function () {\n                openHorizontal_1();\n                openVertical_1();\n            };\n        }\n        else {\n            // Release the locks because we don't use them\n            if (openHorizontal_1)\n                openHorizontal_1();\n            if (openVertical_1)\n                openVertical_1();\n        }\n    }\n    return lock;\n}\nfunction isDragActive() {\n    // Check the gesture lock - if we get it, it means no drag gesture is active\n    // and we can safely fire the tap gesture.\n    var openGestureLock = getGlobalLock(true);\n    if (!openGestureLock)\n        return true;\n    openGestureLock();\n    return false;\n}\n\nexport { createLock, getGlobalLock, isDragActive };\n","import { isMouseEvent } from './utils/event-type.js';\nimport { AnimationType } from '../render/utils/types.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { isDragActive } from './drag/utils/lock.js';\n\nfunction createHoverEvent(visualElement, isActive, callback) {\n    return function (event, info) {\n        var _a;\n        if (!isMouseEvent(event) || isDragActive())\n            return;\n        callback === null || callback === void 0 ? void 0 : callback(event, info);\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Hover, isActive);\n    };\n}\nfunction useHoverGesture(_a) {\n    var onHoverStart = _a.onHoverStart, onHoverEnd = _a.onHoverEnd, whileHover = _a.whileHover, visualElement = _a.visualElement;\n    usePointerEvent(visualElement, \"pointerenter\", onHoverStart || whileHover\n        ? createHoverEvent(visualElement, true, onHoverStart)\n        : undefined);\n    usePointerEvent(visualElement, \"pointerleave\", onHoverEnd || whileHover\n        ? createHoverEvent(visualElement, false, onHoverEnd)\n        : undefined);\n}\n\nexport { useHoverGesture };\n","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nvar isNodeOrChild = function (parent, child) {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n","var combineFunctions = function (a, b) { return function (v) { return b(a(v)); }; };\nvar pipe = function () {\n    var transformers = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        transformers[_i] = arguments[_i];\n    }\n    return transformers.reduce(combineFunctions);\n};\n\nexport { pipe };\n","var makeRenderlessComponent = function (hook) { return function (props) {\n    hook(props);\n    return null;\n}; };\n\nexport { makeRenderlessComponent };\n","import { useFocusGesture } from '../../gestures/use-focus-gesture.js';\nimport { useHoverGesture } from '../../gestures/use-hover-gesture.js';\nimport { useTapGesture } from '../../gestures/use-tap-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\n\nvar gestureAnimations = {\n    tap: makeRenderlessComponent(useTapGesture),\n    focus: makeRenderlessComponent(useFocusGesture),\n    hover: makeRenderlessComponent(useHoverGesture),\n};\n\nexport { gestureAnimations };\n","import { useRef } from 'react';\nimport { isNodeOrChild } from './utils/is-node-or-child.js';\nimport { usePointerEvent, addPointerEvent } from '../events/use-pointer-event.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { pipe } from 'popmotion';\nimport { AnimationType } from '../render/utils/types.js';\nimport { isDragActive } from './drag/utils/lock.js';\n\n/**\n * @param handlers -\n * @internal\n */\nfunction useTapGesture(_a) {\n    var onTap = _a.onTap, onTapStart = _a.onTapStart, onTapCancel = _a.onTapCancel, whileTap = _a.whileTap, visualElement = _a.visualElement;\n    var hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n    var isPressing = useRef(false);\n    var cancelPointerEndListeners = useRef(null);\n    function removePointerEndListener() {\n        var _a;\n        (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n        cancelPointerEndListeners.current = null;\n    }\n    function checkPointerEnd() {\n        var _a;\n        removePointerEndListener();\n        isPressing.current = false;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n        return !isDragActive();\n    }\n    function onPointerUp(event, info) {\n        if (!checkPointerEnd())\n            return;\n        /**\n         * We only count this as a tap gesture if the event.target is the same\n         * as, or a child of, this component's element\n         */\n        !isNodeOrChild(visualElement.getInstance(), event.target)\n            ? onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info)\n            : onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n    }\n    function onPointerCancel(event, info) {\n        if (!checkPointerEnd())\n            return;\n        onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n    }\n    function onPointerDown(event, info) {\n        var _a;\n        removePointerEndListener();\n        if (isPressing.current)\n            return;\n        isPressing.current = true;\n        cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp), addPointerEvent(window, \"pointercancel\", onPointerCancel));\n        onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n    }\n    usePointerEvent(visualElement, \"pointerdown\", hasPressListeners ? onPointerDown : undefined);\n    useUnmountEffect(removePointerEndListener);\n}\n\nexport { useTapGesture };\n","import { AnimationType } from '../render/utils/types.js';\nimport { useDomEvent } from '../events/use-dom-event.js';\n\n/**\n *\n * @param props\n * @param ref\n * @internal\n */\nfunction useFocusGesture(_a) {\n    var whileFocus = _a.whileFocus, visualElement = _a.visualElement;\n    var onFocus = function () {\n        var _a;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, true);\n    };\n    var onBlur = function () {\n        var _a;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, false);\n    };\n    useDomEvent(visualElement, \"focus\", whileFocus ? onFocus : undefined);\n    useDomEvent(visualElement, \"blur\", whileFocus ? onBlur : undefined);\n}\n\nexport { useFocusGesture };\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    var prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (var i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n","var clamp = function (min, max, v) {\n    return Math.min(Math.max(v, min), max);\n};\n\nexport { clamp };\n","import { warning } from 'hey-listen';\nimport { clamp } from '../../utils/clamp.js';\n\nvar safeMin = 0.001;\nvar minDuration = 0.01;\nvar maxDuration = 10.0;\nvar minDamping = 0.05;\nvar maxDamping = 1;\nfunction findSpring(_a) {\n    var _b = _a.duration, duration = _b === void 0 ? 800 : _b, _c = _a.bounce, bounce = _c === void 0 ? 0.25 : _c, _d = _a.velocity, velocity = _d === void 0 ? 0 : _d, _e = _a.mass, mass = _e === void 0 ? 1 : _e;\n    var envelope;\n    var derivative;\n    warning(duration <= maxDuration * 1000, \"Spring duration must be 10 seconds or less\");\n    var dampingRatio = 1 - bounce;\n    dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n    duration = clamp(minDuration, maxDuration, duration / 1000);\n    if (dampingRatio < 1) {\n        envelope = function (undampedFreq) {\n            var exponentialDecay = undampedFreq * dampingRatio;\n            var delta = exponentialDecay * duration;\n            var a = exponentialDecay - velocity;\n            var b = calcAngularFreq(undampedFreq, dampingRatio);\n            var c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = function (undampedFreq) {\n            var exponentialDecay = undampedFreq * dampingRatio;\n            var delta = exponentialDecay * duration;\n            var d = delta * velocity + velocity;\n            var e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            var f = Math.exp(-delta);\n            var g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            var factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        envelope = function (undampedFreq) {\n            var a = Math.exp(-undampedFreq * duration);\n            var b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = function (undampedFreq) {\n            var a = Math.exp(-undampedFreq * duration);\n            var b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    var initialGuess = 5 / duration;\n    var undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = duration * 1000;\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: 100,\n            damping: 10,\n            duration: duration,\n        };\n    }\n    else {\n        var stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness: stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration: duration,\n        };\n    }\n}\nvar rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    var result = initialGuess;\n    for (var i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };\n","import { __rest, __assign } from 'tslib';\nimport { findSpring, calcAngularFreq } from '../utils/find-spring.js';\n\nvar durationKeys = [\"duration\", \"bounce\"];\nvar physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some(function (key) { return options[key] !== undefined; });\n}\nfunction getSpringOptions(options) {\n    var springOptions = __assign({ velocity: 0.0, stiffness: 100, damping: 10, mass: 1.0, isResolvedFromDuration: false }, options);\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        var derived = findSpring(options);\n        springOptions = __assign(__assign(__assign({}, springOptions), derived), { velocity: 0.0, mass: 1.0 });\n        springOptions.isResolvedFromDuration = true;\n    }\n    return springOptions;\n}\nfunction spring(_a) {\n    var _b = _a.from, from = _b === void 0 ? 0.0 : _b, _c = _a.to, to = _c === void 0 ? 1.0 : _c, _d = _a.restSpeed, restSpeed = _d === void 0 ? 2 : _d, restDelta = _a.restDelta, options = __rest(_a, [\"from\", \"to\", \"restSpeed\", \"restDelta\"]);\n    var state = { done: false, value: from };\n    var _e = getSpringOptions(options), stiffness = _e.stiffness, damping = _e.damping, mass = _e.mass, velocity = _e.velocity, duration = _e.duration, isResolvedFromDuration = _e.isResolvedFromDuration;\n    var resolveSpring = zero;\n    var resolveVelocity = zero;\n    function createSpring() {\n        var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        var initialDelta = to - from;\n        var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n        var undampedAngularFreq = Math.sqrt(stiffness / mass) / 1000;\n        restDelta !== null && restDelta !== void 0 ? restDelta : (restDelta = Math.abs(to - from) <= 1 ? 0.01 : 0.4);\n        if (dampingRatio < 1) {\n            var angularFreq_1 = calcAngularFreq(undampedAngularFreq, dampingRatio);\n            resolveSpring = function (t) {\n                var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                return (to -\n                    envelope *\n                        (((initialVelocity +\n                            dampingRatio * undampedAngularFreq * initialDelta) /\n                            angularFreq_1) *\n                            Math.sin(angularFreq_1 * t) +\n                            initialDelta * Math.cos(angularFreq_1 * t)));\n            };\n            resolveVelocity = function (t) {\n                var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                return (dampingRatio *\n                    undampedAngularFreq *\n                    envelope *\n                    ((Math.sin(angularFreq_1 * t) *\n                        (initialVelocity +\n                            dampingRatio *\n                                undampedAngularFreq *\n                                initialDelta)) /\n                        angularFreq_1 +\n                        initialDelta * Math.cos(angularFreq_1 * t)) -\n                    envelope *\n                        (Math.cos(angularFreq_1 * t) *\n                            (initialVelocity +\n                                dampingRatio *\n                                    undampedAngularFreq *\n                                    initialDelta) -\n                            angularFreq_1 *\n                                initialDelta *\n                                Math.sin(angularFreq_1 * t)));\n            };\n        }\n        else if (dampingRatio === 1) {\n            resolveSpring = function (t) {\n                return to -\n                    Math.exp(-undampedAngularFreq * t) *\n                        (initialDelta +\n                            (initialVelocity + undampedAngularFreq * initialDelta) *\n                                t);\n            };\n        }\n        else {\n            var dampedAngularFreq_1 = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n            resolveSpring = function (t) {\n                var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                var freqForT = Math.min(dampedAngularFreq_1 * t, 300);\n                return (to -\n                    (envelope *\n                        ((initialVelocity +\n                            dampingRatio * undampedAngularFreq * initialDelta) *\n                            Math.sinh(freqForT) +\n                            dampedAngularFreq_1 *\n                                initialDelta *\n                                Math.cosh(freqForT))) /\n                        dampedAngularFreq_1);\n            };\n        }\n    }\n    createSpring();\n    return {\n        next: function (t) {\n            var current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                var currentVelocity = resolveVelocity(t) * 1000;\n                var isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                var isBelowDisplacementThreshold = Math.abs(to - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? to : current;\n            return state;\n        },\n        flipTarget: function () {\n            var _a;\n            velocity = -velocity;\n            _a = [to, from], from = _a[0], to = _a[1];\n            createSpring();\n        },\n    };\n}\nspring.needsInterpolation = function (a, b) {\n    return typeof a === \"string\" || typeof b === \"string\";\n};\nvar zero = function (_t) { return 0; };\n\nexport { spring };\n","var progress = function (from, to, value) {\n    var toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","var mix = function (from, to, progress) {\n    return -progress * from + progress * to + from;\n};\n\nexport { mix };\n","import { isString, singleColorRegex, floatRegex } from '../utils.js';\n\nvar isColorString = function (type, testProp) { return function (v) {\n    return Boolean((isString(v) && singleColorRegex.test(v) && v.startsWith(type)) ||\n        (testProp && Object.prototype.hasOwnProperty.call(v, testProp)));\n}; };\nvar splitColor = function (aName, bName, cName) { return function (v) {\n    var _a;\n    if (!isString(v))\n        return v;\n    var _b = v.match(floatRegex), a = _b[0], b = _b[1], c = _b[2], alpha = _b[3];\n    return _a = {},\n        _a[aName] = parseFloat(a),\n        _a[bName] = parseFloat(b),\n        _a[cName] = parseFloat(c),\n        _a.alpha = alpha !== undefined ? parseFloat(alpha) : 1,\n        _a;\n}; };\n\nexport { isColorString, splitColor };\n","import { __assign } from 'tslib';\nimport { number, alpha } from '../numbers/index.js';\nimport { sanitize, clamp } from '../utils.js';\nimport { isColorString, splitColor } from './utils.js';\n\nvar clampRgbUnit = clamp(0, 255);\nvar rgbUnit = __assign(__assign({}, number), { transform: function (v) { return Math.round(clampRgbUnit(v)); } });\nvar rgba = {\n    test: isColorString('rgb', 'red'),\n    parse: splitColor('red', 'green', 'blue'),\n    transform: function (_a) {\n        var red = _a.red, green = _a.green, blue = _a.blue, _b = _a.alpha, alpha$1 = _b === void 0 ? 1 : _b;\n        return 'rgba(' +\n            rgbUnit.transform(red) +\n            ', ' +\n            rgbUnit.transform(green) +\n            ', ' +\n            rgbUnit.transform(blue) +\n            ', ' +\n            sanitize(alpha.transform(alpha$1)) +\n            ')';\n    },\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.js';\nimport { isColorString } from './utils.js';\n\nfunction parseHex(v) {\n    var r = '';\n    var g = '';\n    var b = '';\n    var a = '';\n    if (v.length > 5) {\n        r = v.substr(1, 2);\n        g = v.substr(3, 2);\n        b = v.substr(5, 2);\n        a = v.substr(7, 2);\n    }\n    else {\n        r = v.substr(1, 1);\n        g = v.substr(2, 1);\n        b = v.substr(3, 1);\n        a = v.substr(4, 1);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nvar hex = {\n    test: isColorString('#'),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { alpha } from '../numbers/index.js';\nimport { percent } from '../numbers/units.js';\nimport { sanitize } from '../utils.js';\nimport { isColorString, splitColor } from './utils.js';\n\nvar hsla = {\n    test: isColorString('hsl', 'hue'),\n    parse: splitColor('hue', 'saturation', 'lightness'),\n    transform: function (_a) {\n        var hue = _a.hue, saturation = _a.saturation, lightness = _a.lightness, _b = _a.alpha, alpha$1 = _b === void 0 ? 1 : _b;\n        return ('hsla(' +\n            Math.round(hue) +\n            ', ' +\n            percent.transform(sanitize(saturation)) +\n            ', ' +\n            percent.transform(sanitize(lightness)) +\n            ', ' +\n            sanitize(alpha.transform(alpha$1)) +\n            ')');\n    },\n};\n\nexport { hsla };\n","import { __assign } from 'tslib';\nimport { mix } from './mix.js';\nimport { hex, rgba, hsla } from 'style-value-types';\nimport { invariant } from 'hey-listen';\n\nvar mixLinearColor = function (from, to, v) {\n    var fromExpo = from * from;\n    var toExpo = to * to;\n    return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\n};\nvar colorTypes = [hex, rgba, hsla];\nvar getColorType = function (v) {\n    return colorTypes.find(function (type) { return type.test(v); });\n};\nvar notAnimatable = function (color) {\n    return \"'\" + color + \"' is not an animatable color. Use the equivalent color code instead.\";\n};\nvar mixColor = function (from, to) {\n    var fromColorType = getColorType(from);\n    var toColorType = getColorType(to);\n    invariant(!!fromColorType, notAnimatable(from));\n    invariant(!!toColorType, notAnimatable(to));\n    invariant(fromColorType.transform === toColorType.transform, \"Both colors must be hex/RGBA, OR both must be HSLA.\");\n    var fromColor = fromColorType.parse(from);\n    var toColor = toColorType.parse(to);\n    var blended = __assign({}, fromColor);\n    var mixFunc = fromColorType === hsla ? mix : mixLinearColor;\n    return function (v) {\n        for (var key in blended) {\n            if (key !== \"alpha\") {\n                blended[key] = mixFunc(fromColor[key], toColor[key], v);\n            }\n        }\n        blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\n        return fromColorType.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","import { isString } from '../utils.js';\nimport { hex } from './hex.js';\nimport { hsla } from './hsla.js';\nimport { rgba } from './rgba.js';\n\nvar color = {\n    test: function (v) { return rgba.test(v) || hex.test(v) || hsla.test(v); },\n    parse: function (v) {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: function (v) {\n        return isString(v)\n            ? v\n            : v.hasOwnProperty('red')\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","import { color } from '../color/index.js';\nimport { number } from '../numbers/index.js';\nimport { isString, floatRegex, colorRegex, sanitize } from '../utils.js';\n\nvar colorToken = '${c}';\nvar numberToken = '${n}';\nfunction test(v) {\n    var _a, _b, _c, _d;\n    return (isNaN(v) &&\n        isString(v) &&\n        ((_b = (_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = v.match(colorRegex)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 0);\n}\nfunction analyse(v) {\n    var values = [];\n    var numColors = 0;\n    var colors = v.match(colorRegex);\n    if (colors) {\n        numColors = colors.length;\n        v = v.replace(colorRegex, colorToken);\n        values.push.apply(values, colors.map(color.parse));\n    }\n    var numbers = v.match(floatRegex);\n    if (numbers) {\n        v = v.replace(floatRegex, numberToken);\n        values.push.apply(values, numbers.map(number.parse));\n    }\n    return { values: values, numColors: numColors, tokenised: v };\n}\nfunction parse(v) {\n    return analyse(v).values;\n}\nfunction createTransformer(v) {\n    var _a = analyse(v), values = _a.values, numColors = _a.numColors, tokenised = _a.tokenised;\n    var numValues = values.length;\n    return function (v) {\n        var output = tokenised;\n        for (var i = 0; i < numValues; i++) {\n            output = output.replace(i < numColors ? colorToken : numberToken, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\n        }\n        return output;\n    };\n}\nvar convertNumbersToZero = function (v) {\n    return typeof v === 'number' ? 0 : v;\n};\nfunction getAnimatableNone(v) {\n    var parsed = parse(v);\n    var transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nvar complex = { test: test, parse: parse, createTransformer: createTransformer, getAnimatableNone: getAnimatableNone };\n\nexport { complex };\n","var zeroPoint = {\n    x: 0,\n    y: 0,\n    z: 0\n};\nvar isNum = function (v) { return typeof v === 'number'; };\n\nexport { isNum, zeroPoint };\n","import { __spreadArray, __assign } from 'tslib';\nimport { complex, color } from 'style-value-types';\nimport { mix } from './mix.js';\nimport { mixColor } from './mix-color.js';\nimport { isNum } from './inc.js';\nimport { pipe } from './pipe.js';\nimport { invariant } from 'hey-listen';\n\nfunction getMixer(origin, target) {\n    if (isNum(origin)) {\n        return function (v) { return mix(origin, target, v); };\n    }\n    else if (color.test(origin)) {\n        return mixColor(origin, target);\n    }\n    else {\n        return mixComplex(origin, target);\n    }\n}\nvar mixArray = function (from, to) {\n    var output = __spreadArray([], from);\n    var numValues = output.length;\n    var blendValue = from.map(function (fromThis, i) { return getMixer(fromThis, to[i]); });\n    return function (v) {\n        for (var i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nvar mixObject = function (origin, target) {\n    var output = __assign(__assign({}, origin), target);\n    var blendValue = {};\n    for (var key in output) {\n        if (origin[key] !== undefined && target[key] !== undefined) {\n            blendValue[key] = getMixer(origin[key], target[key]);\n        }\n    }\n    return function (v) {\n        for (var key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n};\nfunction analyse(value) {\n    var parsed = complex.parse(value);\n    var numValues = parsed.length;\n    var numNumbers = 0;\n    var numRGB = 0;\n    var numHSL = 0;\n    for (var i = 0; i < numValues; i++) {\n        if (numNumbers || typeof parsed[i] === \"number\") {\n            numNumbers++;\n        }\n        else {\n            if (parsed[i].hue !== undefined) {\n                numHSL++;\n            }\n            else {\n                numRGB++;\n            }\n        }\n    }\n    return { parsed: parsed, numNumbers: numNumbers, numRGB: numRGB, numHSL: numHSL };\n}\nvar mixComplex = function (origin, target) {\n    var template = complex.createTransformer(target);\n    var originStats = analyse(origin);\n    var targetStats = analyse(target);\n    invariant(originStats.numHSL === targetStats.numHSL &&\n        originStats.numRGB === targetStats.numRGB &&\n        originStats.numNumbers >= targetStats.numNumbers, \"Complex values '\" + origin + \"' and '\" + target + \"' too different to mix. Ensure all colors are of the same type.\");\n    return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\n};\n\nexport { mixArray, mixComplex, mixObject };\n","import { progress } from './progress.js';\nimport { mix } from './mix.js';\nimport { mixColor } from './mix-color.js';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.js';\nimport { color } from 'style-value-types';\nimport { clamp } from './clamp.js';\nimport { pipe } from './pipe.js';\nimport { invariant } from 'hey-listen';\n\nvar mixNumber = function (from, to) { return function (p) { return mix(from, to, p); }; };\nfunction detectMixerFactory(v) {\n    if (typeof v === 'number') {\n        return mixNumber;\n    }\n    else if (typeof v === 'string') {\n        if (color.test(v)) {\n            return mixColor;\n        }\n        else {\n            return mixComplex;\n        }\n    }\n    else if (Array.isArray(v)) {\n        return mixArray;\n    }\n    else if (typeof v === 'object') {\n        return mixObject;\n    }\n}\nfunction createMixers(output, ease, customMixer) {\n    var mixers = [];\n    var mixerFactory = customMixer || detectMixerFactory(output[0]);\n    var numMixers = output.length - 1;\n    for (var i = 0; i < numMixers; i++) {\n        var mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            var easingFunction = Array.isArray(ease) ? ease[i] : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\nfunction fastInterpolate(_a, _b) {\n    var from = _a[0], to = _a[1];\n    var mixer = _b[0];\n    return function (v) { return mixer(progress(from, to, v)); };\n}\nfunction slowInterpolate(input, mixers) {\n    var inputLength = input.length;\n    var lastInputIndex = inputLength - 1;\n    return function (v) {\n        var mixerIndex = 0;\n        var foundMixerIndex = false;\n        if (v <= input[0]) {\n            foundMixerIndex = true;\n        }\n        else if (v >= input[lastInputIndex]) {\n            mixerIndex = lastInputIndex - 1;\n            foundMixerIndex = true;\n        }\n        if (!foundMixerIndex) {\n            var i = 1;\n            for (; i < inputLength; i++) {\n                if (input[i] > v || i === lastInputIndex) {\n                    break;\n                }\n            }\n            mixerIndex = i - 1;\n        }\n        var progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\n        return mixers[mixerIndex](progressInRange);\n    };\n}\nfunction interpolate(input, output, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.clamp, isClamp = _c === void 0 ? true : _c, ease = _b.ease, mixer = _b.mixer;\n    var inputLength = input.length;\n    invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\n    invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\n    if (input[0] > input[inputLength - 1]) {\n        input = [].concat(input);\n        output = [].concat(output);\n        input.reverse();\n        output.reverse();\n    }\n    var mixers = createMixers(output, ease, mixer);\n    var interpolator = inputLength === 2\n        ? fastInterpolate(input, mixers)\n        : slowInterpolate(input, mixers);\n    return isClamp\n        ? function (v) { return interpolator(clamp(input[0], input[inputLength - 1], v)); }\n        : interpolator;\n}\n\nexport { interpolate };\n","var reverseEasing = function (easing) { return function (p) { return 1 - easing(1 - p); }; };\nvar mirrorEasing = function (easing) { return function (p) {\n    return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n}; };\nvar createExpoIn = function (power) { return function (p) { return Math.pow(p, power); }; };\nvar createBackIn = function (power) { return function (p) {\n    return p * p * ((power + 1) * p - power);\n}; };\nvar createAnticipate = function (power) {\n    var backEasing = createBackIn(power);\n    return function (p) {\n        return (p *= 2) < 1\n            ? 0.5 * backEasing(p)\n            : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n    };\n};\n\nexport { createAnticipate, createBackIn, createExpoIn, mirrorEasing, reverseEasing };\n","import { createExpoIn, reverseEasing, mirrorEasing, createBackIn, createAnticipate } from './utils.js';\n\nvar DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nvar linear = function (p) { return p; };\nvar easeIn = createExpoIn(2);\nvar easeOut = reverseEasing(easeIn);\nvar easeInOut = mirrorEasing(easeIn);\nvar circIn = function (p) { return 1 - Math.sin(Math.acos(p)); };\nvar circOut = reverseEasing(circIn);\nvar circInOut = mirrorEasing(circOut);\nvar backIn = createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = reverseEasing(backIn);\nvar backInOut = mirrorEasing(backIn);\nvar anticipate = createAnticipate(DEFAULT_OVERSHOOT_STRENGTH);\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\nvar bounceOut = function (p) {\n    if (p === 1 || p === 0)\n        return p;\n    var p2 = p * p;\n    return p < BOUNCE_FIRST_THRESHOLD\n        ? 7.5625 * p2\n        : p < BOUNCE_SECOND_THRESHOLD\n            ? 9.075 * p2 - 9.9 * p + 3.4\n            : p < BOUNCE_THIRD_THRESHOLD\n                ? ca * p2 - cb * p + cc\n                : 10.8 * p * p - 20.52 * p + 10.72;\n};\nvar bounceIn = reverseEasing(bounceOut);\nvar bounceInOut = function (p) {\n    return p < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0))\n        : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\n\nexport { anticipate, backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, easeIn, easeInOut, easeOut, linear };\n","import { interpolate } from '../../utils/interpolate.js';\nimport { easeInOut } from '../../easing/index.js';\n\nfunction defaultEasing(values, easing) {\n    return values.map(function () { return easing || easeInOut; }).splice(0, values.length - 1);\n}\nfunction defaultOffset(values) {\n    var numValues = values.length;\n    return values.map(function (_value, i) {\n        return i !== 0 ? i / (numValues - 1) : 0;\n    });\n}\nfunction convertOffsetToTimes(offset, duration) {\n    return offset.map(function (o) { return o * duration; });\n}\nfunction keyframes(_a) {\n    var _b = _a.from, from = _b === void 0 ? 0 : _b, _c = _a.to, to = _c === void 0 ? 1 : _c, ease = _a.ease, offset = _a.offset, _d = _a.duration, duration = _d === void 0 ? 300 : _d;\n    var state = { done: false, value: from };\n    var values = Array.isArray(to) ? to : [from, to];\n    var times = convertOffsetToTimes(offset && offset.length === values.length\n        ? offset\n        : defaultOffset(values), duration);\n    function createInterpolator() {\n        return interpolate(times, values, {\n            ease: Array.isArray(ease) ? ease : defaultEasing(values, ease),\n        });\n    }\n    var interpolator = createInterpolator();\n    return {\n        next: function (t) {\n            state.value = interpolator(t);\n            state.done = t >= duration;\n            return state;\n        },\n        flipTarget: function () {\n            values.reverse();\n            interpolator = createInterpolator();\n        },\n    };\n}\n\nexport { convertOffsetToTimes, defaultEasing, defaultOffset, keyframes };\n","import { spring } from '../generators/spring.js';\nimport { keyframes } from '../generators/keyframes.js';\nimport { decay } from '../generators/decay.js';\n\nvar types = { keyframes: keyframes, spring: spring, decay: decay };\nfunction detectAnimationFromOptions(config) {\n    if (Array.isArray(config.to)) {\n        return keyframes;\n    }\n    else if (types[config.type]) {\n        return types[config.type];\n    }\n    var keys = new Set(Object.keys(config));\n    if (keys.has(\"ease\") ||\n        (keys.has(\"duration\") && !keys.has(\"dampingRatio\"))) {\n        return keyframes;\n    }\n    else if (keys.has(\"dampingRatio\") ||\n        keys.has(\"stiffness\") ||\n        keys.has(\"mass\") ||\n        keys.has(\"damping\") ||\n        keys.has(\"restSpeed\") ||\n        keys.has(\"restDelta\")) {\n        return spring;\n    }\n    return keyframes;\n}\n\nexport { detectAnimationFromOptions };\n","function decay(_a) {\n    var _b = _a.velocity, velocity = _b === void 0 ? 0 : _b, _c = _a.from, from = _c === void 0 ? 0 : _c, _d = _a.power, power = _d === void 0 ? 0.8 : _d, _e = _a.timeConstant, timeConstant = _e === void 0 ? 350 : _e, _f = _a.restDelta, restDelta = _f === void 0 ? 0.5 : _f, modifyTarget = _a.modifyTarget;\n    var state = { done: false, value: from };\n    var amplitude = power * velocity;\n    var ideal = from + amplitude;\n    var target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    if (target !== ideal)\n        amplitude = target - from;\n    return {\n        next: function (t) {\n            var delta = -amplitude * Math.exp(-t / timeConstant);\n            state.done = !(delta > restDelta || delta < -restDelta);\n            state.value = state.done ? target : target + delta;\n            return state;\n        },\n        flipTarget: function () { },\n    };\n}\n\nexport { decay };\n","function loopElapsed(elapsed, duration, delay) {\n    if (delay === void 0) { delay = 0; }\n    return elapsed - duration - delay;\n}\nfunction reverseElapsed(elapsed, duration, delay, isForwardPlayback) {\n    if (delay === void 0) { delay = 0; }\n    if (isForwardPlayback === void 0) { isForwardPlayback = true; }\n    return isForwardPlayback\n        ? loopElapsed(duration + -elapsed, duration, delay)\n        : duration - (elapsed - duration) + delay;\n}\nfunction hasRepeatDelayElapsed(elapsed, duration, delay, isForwardPlayback) {\n    return isForwardPlayback ? elapsed >= duration + delay : elapsed <= -delay;\n}\n\nexport { hasRepeatDelayElapsed, loopElapsed, reverseElapsed };\n","import { __rest, __assign } from 'tslib';\nimport { detectAnimationFromOptions } from './utils/detect-animation-from-options.js';\nimport sync, { cancelSync } from 'framesync';\nimport { interpolate } from '../utils/interpolate.js';\nimport { hasRepeatDelayElapsed, reverseElapsed, loopElapsed } from './utils/elapsed.js';\n\nvar framesync = function (update) {\n    var passTimestamp = function (_a) {\n        var delta = _a.delta;\n        return update(delta);\n    };\n    return {\n        start: function () { return sync.update(passTimestamp, true); },\n        stop: function () { return cancelSync.update(passTimestamp); },\n    };\n};\nfunction animate(_a) {\n    var _b, _c;\n    var from = _a.from, _d = _a.autoplay, autoplay = _d === void 0 ? true : _d, _e = _a.driver, driver = _e === void 0 ? framesync : _e, _f = _a.elapsed, elapsed = _f === void 0 ? 0 : _f, _g = _a.repeat, repeatMax = _g === void 0 ? 0 : _g, _h = _a.repeatType, repeatType = _h === void 0 ? \"loop\" : _h, _j = _a.repeatDelay, repeatDelay = _j === void 0 ? 0 : _j, onPlay = _a.onPlay, onStop = _a.onStop, onComplete = _a.onComplete, onRepeat = _a.onRepeat, onUpdate = _a.onUpdate, options = __rest(_a, [\"from\", \"autoplay\", \"driver\", \"elapsed\", \"repeat\", \"repeatType\", \"repeatDelay\", \"onPlay\", \"onStop\", \"onComplete\", \"onRepeat\", \"onUpdate\"]);\n    var to = options.to;\n    var driverControls;\n    var repeatCount = 0;\n    var computedDuration = options.duration;\n    var latest;\n    var isComplete = false;\n    var isForwardPlayback = true;\n    var interpolateFromNumber;\n    var animator = detectAnimationFromOptions(options);\n    if ((_c = (_b = animator).needsInterpolation) === null || _c === void 0 ? void 0 : _c.call(_b, from, to)) {\n        interpolateFromNumber = interpolate([0, 100], [from, to], {\n            clamp: false,\n        });\n        from = 0;\n        to = 100;\n    }\n    var animation = animator(__assign(__assign({}, options), { from: from, to: to }));\n    function repeat() {\n        repeatCount++;\n        if (repeatType === \"reverse\") {\n            isForwardPlayback = repeatCount % 2 === 0;\n            elapsed = reverseElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback);\n        }\n        else {\n            elapsed = loopElapsed(elapsed, computedDuration, repeatDelay);\n            if (repeatType === \"mirror\")\n                animation.flipTarget();\n        }\n        isComplete = false;\n        onRepeat && onRepeat();\n    }\n    function complete() {\n        driverControls.stop();\n        onComplete && onComplete();\n    }\n    function update(delta) {\n        if (!isForwardPlayback)\n            delta = -delta;\n        elapsed += delta;\n        if (!isComplete) {\n            var state = animation.next(Math.max(0, elapsed));\n            latest = state.value;\n            if (interpolateFromNumber)\n                latest = interpolateFromNumber(latest);\n            isComplete = isForwardPlayback ? state.done : elapsed <= 0;\n        }\n        onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(latest);\n        if (isComplete) {\n            if (repeatCount === 0)\n                computedDuration !== null && computedDuration !== void 0 ? computedDuration : (computedDuration = elapsed);\n            if (repeatCount < repeatMax) {\n                hasRepeatDelayElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback) && repeat();\n            }\n            else {\n                complete();\n            }\n        }\n    }\n    function play() {\n        onPlay === null || onPlay === void 0 ? void 0 : onPlay();\n        driverControls = driver(update);\n        driverControls.start();\n    }\n    autoplay && play();\n    return {\n        stop: function () {\n            onStop === null || onStop === void 0 ? void 0 : onStop();\n            driverControls.stop();\n        },\n    };\n}\n\nexport { animate };\n","function velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nvar secondsToMilliseconds = function (seconds) { return seconds * 1000; };\n\nexport { secondsToMilliseconds };\n","import { linear } from './index.js';\n\nvar a = function (a1, a2) { return 1.0 - 3.0 * a2 + 3.0 * a1; };\nvar b = function (a1, a2) { return 3.0 * a2 - 6.0 * a1; };\nvar c = function (a1) { return 3.0 * a1; };\nvar calcBezier = function (t, a1, a2) {\n    return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\nvar getSlope = function (t, a1, a2) {\n    return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\nvar subdivisionPrecision = 0.0000001;\nvar subdivisionMaxIterations = 10;\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX;\n    var currentT;\n    var i = 0;\n    do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n        if (currentX > 0.0) {\n            aB = currentT;\n        }\n        else {\n            aA = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nvar newtonIterations = 8;\nvar newtonMinSlope = 0.001;\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < newtonIterations; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) {\n            return aGuessT;\n        }\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n}\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    if (mX1 === mY1 && mX2 === mY2)\n        return linear;\n    var sampleValues = new Float32Array(kSplineTableSize);\n    for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n    }\n    function getTForX(aX) {\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += kSampleStepSize;\n        }\n        --currentSample;\n        var dist = (aX - sampleValues[currentSample]) /\n            (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= newtonMinSlope) {\n            return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n        else if (initialSlope === 0.0) {\n            return guessForT;\n        }\n        else {\n            return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n        }\n    }\n    return function (t) {\n        return t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n    };\n}\n\nexport { cubicBezier };\n","import { __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { cubicBezier, linear, easeIn, easeInOut, easeOut, circIn, circInOut, circOut, backIn, backInOut, backOut, anticipate, bounceIn, bounceInOut, bounceOut } from 'popmotion';\n\nvar easingLookup = {\n    linear: linear,\n    easeIn: easeIn,\n    easeInOut: easeInOut,\n    easeOut: easeOut,\n    circIn: circIn,\n    circInOut: circInOut,\n    circOut: circOut,\n    backIn: backIn,\n    backInOut: backInOut,\n    backOut: backOut,\n    anticipate: anticipate,\n    bounceIn: bounceIn,\n    bounceInOut: bounceInOut,\n    bounceOut: bounceOut,\n};\nvar easingDefinitionToFunction = function (definition) {\n    if (Array.isArray(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, \"Cubic bezier arrays must contain four numerical values.\");\n        var _a = __read(definition, 4), x1 = _a[0], y1 = _a[1], x2 = _a[2], y2 = _a[3];\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, \"Invalid easing type '\" + definition + \"'\");\n        return easingLookup[definition];\n    }\n    return definition;\n};\nvar isEasingArray = function (ease) {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { easingDefinitionToFunction, isEasingArray };\n","import { complex } from 'style-value-types';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * ✅: 100, \"100px\", \"#fff\"\n * ❌: \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nvar isAnimatable = function (key, value) {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (key === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        complex.test(value) && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { __assign } from 'tslib';\nimport { isKeyframesTarget } from './is-keyframes-target.js';\n\nvar underDampedSpring = function () { return ({\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restDelta: 0.5,\n    restSpeed: 10,\n}); };\nvar criticallyDampedSpring = function (to) { return ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: to === 0 ? 2 * Math.sqrt(550) : 30,\n    restDelta: 0.01,\n    restSpeed: 10,\n}); };\nvar linearTween = function () { return ({\n    type: \"keyframes\",\n    ease: \"linear\",\n    duration: 0.3,\n}); };\nvar keyframes = function (values) { return ({\n    type: \"keyframes\",\n    duration: 0.8,\n    values: values,\n}); };\nvar defaultTransitions = {\n    x: underDampedSpring,\n    y: underDampedSpring,\n    z: underDampedSpring,\n    rotate: underDampedSpring,\n    rotateX: underDampedSpring,\n    rotateY: underDampedSpring,\n    rotateZ: underDampedSpring,\n    scaleX: criticallyDampedSpring,\n    scaleY: criticallyDampedSpring,\n    scale: criticallyDampedSpring,\n    opacity: linearTween,\n    backgroundColor: linearTween,\n    color: linearTween,\n    default: criticallyDampedSpring,\n};\nvar getDefaultTransition = function (valueKey, to) {\n    var transitionFactory;\n    if (isKeyframesTarget(to)) {\n        transitionFactory = keyframes;\n    }\n    else {\n        transitionFactory =\n            defaultTransitions[valueKey] || defaultTransitions.default;\n    }\n    return __assign({ to: to }, transitionFactory(to));\n};\n\nexport { criticallyDampedSpring, getDefaultTransition, linearTween, underDampedSpring };\n","import { __assign } from 'tslib';\nimport { complex } from './index.js';\nimport { floatRegex } from '../utils.js';\n\nvar maxDefaults = new Set(['brightness', 'contrast', 'saturate', 'opacity']);\nfunction applyDefaultFilter(v) {\n    var _a = v.slice(0, -1).split('('), name = _a[0], value = _a[1];\n    if (name === 'drop-shadow')\n        return v;\n    var number = (value.match(floatRegex) || [])[0];\n    if (!number)\n        return v;\n    var unit = value.replace(number, '');\n    var defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + '(' + defaultValue + unit + ')';\n}\nvar functionRegex = /([a-z-]*)\\(.*?\\)/g;\nvar filter = __assign(__assign({}, complex), { getAnimatableNone: function (v) {\n        var functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(' ') : v;\n    } });\n\nexport { filter };\n","import { __assign } from 'tslib';\nimport { color, filter } from 'style-value-types';\nimport { numberValueTypes } from './number.js';\n\n/**\n * A map of default value types for common values\n */\nvar defaultValueTypes = __assign(__assign({}, numberValueTypes), { \n    // Color props\n    color: color, backgroundColor: color, outlineColor: color, fill: color, stroke: color, \n    // Border props\n    borderColor: color, borderTopColor: color, borderRightColor: color, borderBottomColor: color, borderLeftColor: color, filter: filter, WebkitFilter: filter });\n/**\n * Gets the default ValueType for the provided value key\n */\nvar getDefaultValueType = function (key) { return defaultValueTypes[key]; };\n\nexport { defaultValueTypes, getDefaultValueType };\n","import { filter, complex } from 'style-value-types';\nimport { getDefaultValueType } from './defaults.js';\n\nfunction getAnimatableNone(key, value) {\n    var _a;\n    var defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return (_a = defaultValueType.getAnimatableNone) === null || _a === void 0 ? void 0 : _a.call(defaultValueType, value);\n}\n\nexport { getAnimatableNone };\n","import { __assign, __rest, __spreadArray, __read } from 'tslib';\nimport { inertia, animate } from 'popmotion';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.js';\nimport { isEasingArray, easingDefinitionToFunction } from './easing.js';\nimport { isAnimatable } from './is-animatable.js';\nimport { getDefaultTransition } from './default-transitions.js';\nimport { warning } from 'hey-listen';\nimport { getAnimatableNone } from '../../render/dom/value-types/animatable-none.js';\n\n/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined(_a) {\n    _a.when; _a.delay; _a.delayChildren; _a.staggerChildren; _a.staggerDirection; _a.repeat; _a.repeatType; _a.repeatDelay; _a.from; var transition = __rest(_a, [\"when\", \"delay\", \"delayChildren\", \"staggerChildren\", \"staggerDirection\", \"repeat\", \"repeatType\", \"repeatDelay\", \"from\"]);\n    return !!Object.keys(transition).length;\n}\nvar legacyRepeatWarning = false;\n/**\n * Convert Framer Motion's Transition type into Popmotion-compatible options.\n */\nfunction convertTransitionToAnimationOptions(_a) {\n    var ease = _a.ease, times = _a.times, yoyo = _a.yoyo, flip = _a.flip, loop = _a.loop, transition = __rest(_a, [\"ease\", \"times\", \"yoyo\", \"flip\", \"loop\"]);\n    var options = __assign({}, transition);\n    if (times)\n        options[\"offset\"] = times;\n    /**\n     * Convert any existing durations from seconds to milliseconds\n     */\n    if (transition.duration)\n        options[\"duration\"] = secondsToMilliseconds(transition.duration);\n    if (transition.repeatDelay)\n        options.repeatDelay = secondsToMilliseconds(transition.repeatDelay);\n    /**\n     * Map easing names to Popmotion's easing functions\n     */\n    if (ease) {\n        options[\"ease\"] = isEasingArray(ease)\n            ? ease.map(easingDefinitionToFunction)\n            : easingDefinitionToFunction(ease);\n    }\n    /**\n     * Support legacy transition API\n     */\n    if (transition.type === \"tween\")\n        options.type = \"keyframes\";\n    /**\n     * TODO: These options are officially removed from the API.\n     */\n    if (yoyo || loop || flip) {\n        warning(!legacyRepeatWarning, \"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options.\");\n        legacyRepeatWarning = true;\n        if (yoyo) {\n            options.repeatType = \"reverse\";\n        }\n        else if (loop) {\n            options.repeatType = \"loop\";\n        }\n        else if (flip) {\n            options.repeatType = \"mirror\";\n        }\n        options.repeat = loop || yoyo || flip || transition.repeat;\n    }\n    /**\n     * TODO: Popmotion 9 has the ability to automatically detect whether to use\n     * a keyframes or spring animation, but does so by detecting velocity and other spring options.\n     * It'd be good to introduce a similar thing here.\n     */\n    if (transition.type !== \"spring\")\n        options.type = \"keyframes\";\n    return options;\n}\n/**\n * Get the delay for a value by checking Transition with decreasing specificity.\n */\nfunction getDelayFromTransition(transition, key) {\n    var _a;\n    var valueTransition = getValueTransition(transition, key) || {};\n    return (_a = valueTransition.delay) !== null && _a !== void 0 ? _a : 0;\n}\nfunction hydrateKeyframes(options) {\n    if (Array.isArray(options.to) && options.to[0] === null) {\n        options.to = __spreadArray([], __read(options.to));\n        options.to[0] = options.from;\n    }\n    return options;\n}\nfunction getPopmotionAnimationOptions(transition, options, key) {\n    var _a;\n    if (Array.isArray(options.to)) {\n        (_a = transition.duration) !== null && _a !== void 0 ? _a : (transition.duration = 0.8);\n    }\n    hydrateKeyframes(options);\n    /**\n     * Get a default transition if none is determined to be defined.\n     */\n    if (!isTransitionDefined(transition)) {\n        transition = __assign(__assign({}, transition), getDefaultTransition(key, options.to));\n    }\n    return __assign(__assign({}, options), convertTransitionToAnimationOptions(transition));\n}\n/**\n *\n */\nfunction getAnimation(key, value, target, transition, onComplete) {\n    var _a;\n    var valueTransition = getValueTransition(transition, key);\n    var origin = (_a = valueTransition.from) !== null && _a !== void 0 ? _a : value.get();\n    var isTargetAnimatable = isAnimatable(key, target);\n    if (origin === \"none\" && isTargetAnimatable && typeof target === \"string\") {\n        /**\n         * If we're trying to animate from \"none\", try and get an animatable version\n         * of the target. This could be improved to work both ways.\n         */\n        origin = getAnimatableNone(key, target);\n    }\n    else if (isZero(origin) && typeof target === \"string\") {\n        origin = getZeroUnit(target);\n    }\n    else if (!Array.isArray(target) &&\n        isZero(target) &&\n        typeof origin === \"string\") {\n        target = getZeroUnit(origin);\n    }\n    var isOriginAnimatable = isAnimatable(key, origin);\n    warning(isOriginAnimatable === isTargetAnimatable, \"You are trying to animate \" + key + \" from \\\"\" + origin + \"\\\" to \\\"\" + target + \"\\\". \" + origin + \" is not an animatable value - to enable this animation set \" + origin + \" to a value animatable to \" + target + \" via the `style` property.\");\n    function start() {\n        var options = {\n            from: origin,\n            to: target,\n            velocity: value.getVelocity(),\n            onComplete: onComplete,\n            onUpdate: function (v) { return value.set(v); },\n        };\n        return valueTransition.type === \"inertia\" ||\n            valueTransition.type === \"decay\"\n            ? inertia(__assign(__assign({}, options), valueTransition))\n            : animate(__assign(__assign({}, getPopmotionAnimationOptions(valueTransition, options, key)), { onUpdate: function (v) {\n                    var _a;\n                    options.onUpdate(v);\n                    (_a = valueTransition.onUpdate) === null || _a === void 0 ? void 0 : _a.call(valueTransition, v);\n                }, onComplete: function () {\n                    var _a;\n                    options.onComplete();\n                    (_a = valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n                } }));\n    }\n    function set() {\n        var _a;\n        value.set(target);\n        onComplete();\n        (_a = valueTransition === null || valueTransition === void 0 ? void 0 : valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n        return { stop: function () { } };\n    }\n    return !isOriginAnimatable ||\n        !isTargetAnimatable ||\n        valueTransition.type === false\n        ? set\n        : start;\n}\nfunction isZero(value) {\n    return (value === 0 ||\n        (typeof value === \"string\" &&\n            parseFloat(value) === 0 &&\n            value.indexOf(\" \") === -1));\n}\nfunction getZeroUnit(potentialUnitType) {\n    return typeof potentialUnitType === \"number\"\n        ? 0\n        : getAnimatableNone(\"\", potentialUnitType);\n}\nfunction getValueTransition(transition, key) {\n    return transition[key] || transition[\"default\"] || transition;\n}\n/**\n * Start animation on a MotionValue. This function is an interface between\n * Framer Motion and Popmotion\n *\n * @internal\n */\nfunction startAnimation(key, value, target, transition) {\n    if (transition === void 0) { transition = {}; }\n    return value.start(function (onComplete) {\n        var delayTimer;\n        var controls;\n        var animation = getAnimation(key, value, target, transition, onComplete);\n        var delay = getDelayFromTransition(transition, key);\n        var start = function () { return (controls = animation()); };\n        if (delay) {\n            delayTimer = setTimeout(start, secondsToMilliseconds(delay));\n        }\n        else {\n            start();\n        }\n        return function () {\n            clearTimeout(delayTimer);\n            controls === null || controls === void 0 ? void 0 : controls.stop();\n        };\n    });\n}\n\nexport { convertTransitionToAnimationOptions, getDelayFromTransition, getPopmotionAnimationOptions, getValueTransition, getZeroUnit, hydrateKeyframes, isTransitionDefined, isZero, startAnimation };\n","import { __assign } from 'tslib';\nimport { animate } from './index.js';\nimport { velocityPerSecond } from '../utils/velocity-per-second.js';\nimport { getFrameData } from 'framesync';\n\nfunction inertia(_a) {\n    var _b = _a.from, from = _b === void 0 ? 0 : _b, _c = _a.velocity, velocity = _c === void 0 ? 0 : _c, min = _a.min, max = _a.max, _d = _a.power, power = _d === void 0 ? 0.8 : _d, _e = _a.timeConstant, timeConstant = _e === void 0 ? 750 : _e, _f = _a.bounceStiffness, bounceStiffness = _f === void 0 ? 500 : _f, _g = _a.bounceDamping, bounceDamping = _g === void 0 ? 10 : _g, _h = _a.restDelta, restDelta = _h === void 0 ? 1 : _h, modifyTarget = _a.modifyTarget, driver = _a.driver, onUpdate = _a.onUpdate, onComplete = _a.onComplete;\n    var currentAnimation;\n    function isOutOfBounds(v) {\n        return (min !== undefined && v < min) || (max !== undefined && v > max);\n    }\n    function boundaryNearest(v) {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    }\n    function startAnimation(options) {\n        currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n        currentAnimation = animate(__assign(__assign({}, options), { driver: driver, onUpdate: function (v) {\n                var _a;\n                onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(v);\n                (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, v);\n            }, onComplete: onComplete }));\n    }\n    function startSpring(options) {\n        startAnimation(__assign({ type: \"spring\", stiffness: bounceStiffness, damping: bounceDamping, restDelta: restDelta }, options));\n    }\n    if (isOutOfBounds(from)) {\n        startSpring({ from: from, velocity: velocity, to: boundaryNearest(from) });\n    }\n    else {\n        var target = power * velocity + from;\n        if (typeof modifyTarget !== \"undefined\")\n            target = modifyTarget(target);\n        var boundary_1 = boundaryNearest(target);\n        var heading_1 = boundary_1 === min ? -1 : 1;\n        var prev_1;\n        var current_1;\n        var checkBoundary = function (v) {\n            prev_1 = current_1;\n            current_1 = v;\n            velocity = velocityPerSecond(v - prev_1, getFrameData().delta);\n            if ((heading_1 === 1 && v > boundary_1) ||\n                (heading_1 === -1 && v < boundary_1)) {\n                startSpring({ from: v, to: boundary_1, velocity: velocity });\n            }\n        };\n        startAnimation({\n            type: \"decay\",\n            from: from,\n            velocity: velocity,\n            timeConstant: timeConstant,\n            power: power,\n            restDelta: restDelta,\n            modifyTarget: modifyTarget,\n            onUpdate: isOutOfBounds(target) ? checkBoundary : undefined,\n        });\n    }\n    return {\n        stop: function () { return currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop(); },\n    };\n}\n\nexport { inertia };\n","function addUniqueItem(arr, item) {\n    arr.indexOf(item) === -1 && arr.push(item);\n}\nfunction removeItem(arr, item) {\n    var index = arr.indexOf(item);\n    index > -1 && arr.splice(index, 1);\n}\n\nexport { addUniqueItem, removeItem };\n","import { addUniqueItem, removeItem } from './array.js';\n\nvar SubscriptionManager = /** @class */ (function () {\n    function SubscriptionManager() {\n        this.subscriptions = [];\n    }\n    SubscriptionManager.prototype.add = function (handler) {\n        var _this = this;\n        addUniqueItem(this.subscriptions, handler);\n        return function () { return removeItem(_this.subscriptions, handler); };\n    };\n    SubscriptionManager.prototype.notify = function (a, b, c) {\n        var numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (var i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                var handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    };\n    SubscriptionManager.prototype.getSize = function () {\n        return this.subscriptions.length;\n    };\n    SubscriptionManager.prototype.clear = function () {\n        this.subscriptions.length = 0;\n    };\n    return SubscriptionManager;\n}());\n\nexport { SubscriptionManager };\n","import sync, { getFrameData } from 'framesync';\nimport { velocityPerSecond } from 'popmotion';\nimport { SubscriptionManager } from '../utils/subscription-manager.js';\n\nvar isFloat = function (value) {\n    return !isNaN(parseFloat(value));\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nvar MotionValue = /** @class */ (function () {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    function MotionValue(init) {\n        var _this = this;\n        /**\n         * Duration, in milliseconds, since last updating frame.\n         *\n         * @internal\n         */\n        this.timeDelta = 0;\n        /**\n         * Timestamp of the last time this `MotionValue` was updated.\n         *\n         * @internal\n         */\n        this.lastUpdated = 0;\n        /**\n         * Functions to notify when the `MotionValue` updates.\n         *\n         * @internal\n         */\n        this.updateSubscribers = new SubscriptionManager();\n        /**\n         * Functions to notify when the velocity updates.\n         *\n         * @internal\n         */\n        this.velocityUpdateSubscribers = new SubscriptionManager();\n        /**\n         * Functions to notify when the `MotionValue` updates and `render` is set to `true`.\n         *\n         * @internal\n         */\n        this.renderSubscribers = new SubscriptionManager();\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = false;\n        this.updateAndNotify = function (v, render) {\n            if (render === void 0) { render = true; }\n            _this.prev = _this.current;\n            _this.current = v;\n            // Update timestamp\n            var _a = getFrameData(), delta = _a.delta, timestamp = _a.timestamp;\n            if (_this.lastUpdated !== timestamp) {\n                _this.timeDelta = delta;\n                _this.lastUpdated = timestamp;\n                sync.postRender(_this.scheduleVelocityCheck);\n            }\n            // Update update subscribers\n            if (_this.prev !== _this.current) {\n                _this.updateSubscribers.notify(_this.current);\n            }\n            // Update velocity subscribers\n            if (_this.velocityUpdateSubscribers.getSize()) {\n                _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n            }\n            // Update render subscribers\n            if (render) {\n                _this.renderSubscribers.notify(_this.current);\n            }\n        };\n        /**\n         * Schedule a velocity check for the next frame.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.scheduleVelocityCheck = function () { return sync.postRender(_this.velocityCheck); };\n        /**\n         * Updates `prev` with `current` if the value hasn't been updated this frame.\n         * This ensures velocity calculations return `0`.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.velocityCheck = function (_a) {\n            var timestamp = _a.timestamp;\n            if (timestamp !== _this.lastUpdated) {\n                _this.prev = _this.current;\n                _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n            }\n        };\n        this.hasAnimated = false;\n        this.prev = this.current = init;\n        this.canTrackVelocity = isFloat(this.current);\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * @library\n     *\n     * ```jsx\n     * function MyComponent() {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.onChange(updateOpacity)\n     *     const unsubscribeY = y.onChange(updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <Frame x={x} />\n     * }\n     * ```\n     *\n     * @motion\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.onChange(updateOpacity)\n     *     const unsubscribeY = y.onChange(updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @internalremarks\n     *\n     * We could look into a `useOnChange` hook if the above lifecycle management proves confusing.\n     *\n     * ```jsx\n     * useOnChange(x, () => {})\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @public\n     */\n    MotionValue.prototype.onChange = function (subscription) {\n        return this.updateSubscribers.add(subscription);\n    };\n    MotionValue.prototype.clearListeners = function () {\n        this.updateSubscribers.clear();\n    };\n    /**\n     * Adds a function that will be notified when the `MotionValue` requests a render.\n     *\n     * @param subscriber - A function that's provided the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @internal\n     */\n    MotionValue.prototype.onRenderRequest = function (subscription) {\n        // Render immediately\n        subscription(this.get());\n        return this.renderSubscribers.add(subscription);\n    };\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    MotionValue.prototype.attach = function (passiveEffect) {\n        this.passiveEffect = passiveEffect;\n    };\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    MotionValue.prototype.set = function (v, render) {\n        if (render === void 0) { render = true; }\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    };\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    MotionValue.prototype.get = function () {\n        return this.current;\n    };\n    /**\n     * @public\n     */\n    MotionValue.prototype.getPrevious = function () {\n        return this.prev;\n    };\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    MotionValue.prototype.getVelocity = function () {\n        // This could be isFloat(this.prev) && isFloat(this.current), but that would be wasteful\n        return this.canTrackVelocity\n            ? // These casts could be avoided if parseFloat would be typed better\n                velocityPerSecond(parseFloat(this.current) -\n                    parseFloat(this.prev), this.timeDelta)\n            : 0;\n    };\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    MotionValue.prototype.start = function (animation) {\n        var _this = this;\n        this.stop();\n        return new Promise(function (resolve) {\n            _this.hasAnimated = true;\n            _this.stopAnimation = animation(resolve);\n        }).then(function () { return _this.clearAnimation(); });\n    };\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    MotionValue.prototype.stop = function () {\n        if (this.stopAnimation)\n            this.stopAnimation();\n        this.clearAnimation();\n    };\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    MotionValue.prototype.isAnimating = function () {\n        return !!this.stopAnimation;\n    };\n    MotionValue.prototype.clearAnimation = function () {\n        this.stopAnimation = null;\n    };\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    MotionValue.prototype.destroy = function () {\n        this.updateSubscribers.clear();\n        this.renderSubscribers.clear();\n        this.stop();\n    };\n    return MotionValue;\n}());\n/**\n * @internal\n */\nfunction motionValue(init) {\n    return new MotionValue(init);\n}\n\nexport { MotionValue, motionValue };\n","/**\n * Tests a provided value against a ValueType\n */\nvar testValueType = function (v) { return function (type) { return type.test(v); }; };\n\nexport { testValueType };\n","import { number, px, percent, degrees, vw, vh } from 'style-value-types';\nimport { testValueType } from './test.js';\nimport { auto } from './type-auto.js';\n\n/**\n * A list of value types commonly used for dimensions\n */\nvar dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nvar findDimensionValueType = function (v) {\n    return dimensionValueTypes.find(testValueType(v));\n};\n\nexport { dimensionValueTypes, findDimensionValueType };\n","/**\n * ValueType for \"auto\"\n */\nvar auto = {\n    test: function (v) { return v === \"auto\"; },\n    parse: function (v) { return v; },\n};\n\nexport { auto };\n","import { __spreadArray, __read } from 'tslib';\nimport { color, complex } from 'style-value-types';\nimport { dimensionValueTypes } from './dimensions.js';\nimport { testValueType } from './test.js';\n\n/**\n * A list of all ValueTypes\n */\nvar valueTypes = __spreadArray(__spreadArray([], __read(dimensionValueTypes)), [color, complex]);\n/**\n * Tests a value against the list of ValueTypes\n */\nvar findValueType = function (v) { return valueTypes.find(testValueType(v)); };\n\nexport { findValueType };\n","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { complex } from 'style-value-types';\nimport { isNumericalString } from '../../utils/is-numerical-string.js';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.js';\nimport { motionValue } from '../../value/index.js';\nimport { getAnimatableNone } from '../dom/value-types/animatable-none.js';\nimport { findValueType } from '../dom/value-types/find.js';\nimport { resolveVariant } from './variants.js';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction setTarget(visualElement, definition) {\n    var resolved = resolveVariant(visualElement, definition);\n    var _a = resolved\n        ? visualElement.makeTargetAnimatable(resolved, false)\n        : {}, _b = _a.transitionEnd, transitionEnd = _b === void 0 ? {} : _b; _a.transition; var target = __rest(_a, [\"transitionEnd\", \"transition\"]);\n    target = __assign(__assign({}, target), transitionEnd);\n    for (var key in target) {\n        var value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\nfunction setVariants(visualElement, variantLabels) {\n    var reversedLabels = __spreadArray([], __read(variantLabels)).reverse();\n    reversedLabels.forEach(function (key) {\n        var _a;\n        var variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            setVariants(child, variantLabels);\n        });\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\nfunction checkTargetForNewValues(visualElement, target, origin) {\n    var _a, _b, _c;\n    var _d;\n    var newValueKeys = Object.keys(target).filter(function (key) { return !visualElement.hasValue(key); });\n    var numNewValues = newValueKeys.length;\n    if (!numNewValues)\n        return;\n    for (var i = 0; i < numNewValues; i++) {\n        var key = newValueKeys[i];\n        var targetValue = target[key];\n        var value = null;\n        /**\n         * If the target is a series of keyframes, we can use the first value\n         * in the array. If this first value is null, we'll still need to read from the DOM.\n         */\n        if (Array.isArray(targetValue)) {\n            value = targetValue[0];\n        }\n        /**\n         * If the target isn't keyframes, or the first keyframe was null, we need to\n         * first check if an origin value was explicitly defined in the transition as \"from\",\n         * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n         */\n        if (value === null) {\n            value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n        }\n        /**\n         * If value is still undefined or null, ignore it. Preferably this would throw,\n         * but this was causing issues in Framer.\n         */\n        if (value === undefined || value === null)\n            continue;\n        if (typeof value === \"string\" && isNumericalString(value)) {\n            // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n            value = parseFloat(value);\n        }\n        else if (!findValueType(value) && complex.test(targetValue)) {\n            value = getAnimatableNone(key, targetValue);\n        }\n        visualElement.addValue(key, motionValue(value));\n        (_c = (_d = origin)[key]) !== null && _c !== void 0 ? _c : (_d[key] = value);\n        visualElement.setBaseTarget(key, value);\n    }\n}\nfunction getOriginFromTransition(key, transition) {\n    if (!transition)\n        return;\n    var valueTransition = transition[key] || transition[\"default\"] || transition;\n    return valueTransition.from;\n}\nfunction getOrigin(target, transition, visualElement) {\n    var _a, _b;\n    var origin = {};\n    for (var key in target) {\n        origin[key] =\n            (_a = getOriginFromTransition(key, transition)) !== null && _a !== void 0 ? _a : (_b = visualElement.getValue(key)) === null || _b === void 0 ? void 0 : _b.get();\n    }\n    return origin;\n}\n\nexport { checkTargetForNewValues, getOrigin, getOriginFromTransition, setTarget, setValues };\n","import { __read, __rest, __assign } from 'tslib';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { setTarget } from './setters.js';\nimport { resolveVariant } from './variants.js';\n\n/**\n * @internal\n */\nfunction animateVisualElement(visualElement, definition, options) {\n    if (options === void 0) { options = {}; }\n    visualElement.notifyAnimationStart();\n    var animation;\n    if (Array.isArray(definition)) {\n        var animations = definition.map(function (variant) {\n            return animateVariant(visualElement, variant, options);\n        });\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        var resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = animateTarget(visualElement, resolvedDefinition, options);\n    }\n    return animation.then(function () {\n        return visualElement.notifyAnimationComplete(definition);\n    });\n}\nfunction animateVariant(visualElement, variant, options) {\n    var _a;\n    if (options === void 0) { options = {}; }\n    var resolved = resolveVariant(visualElement, variant, options.custom);\n    var _b = (resolved || {}).transition, transition = _b === void 0 ? visualElement.getDefaultTransition() || {} : _b;\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    var getAnimation = resolved\n        ? function () { return animateTarget(visualElement, resolved, options); }\n        : function () { return Promise.resolve(); };\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    var getChildAnimations = ((_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.size)\n        ? function (forwardDelay) {\n            if (forwardDelay === void 0) { forwardDelay = 0; }\n            var _a = transition.delayChildren, delayChildren = _a === void 0 ? 0 : _a, staggerChildren = transition.staggerChildren, staggerDirection = transition.staggerDirection;\n            return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n        }\n        : function () { return Promise.resolve(); };\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    var when = transition.when;\n    if (when) {\n        var _c = __read(when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation], 2), first = _c[0], last = _c[1];\n        return first().then(last);\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\n/**\n * @internal\n */\nfunction animateTarget(visualElement, definition, _a) {\n    var _b;\n    var _c = _a === void 0 ? {} : _a, _d = _c.delay, delay = _d === void 0 ? 0 : _d, transitionOverride = _c.transitionOverride, type = _c.type;\n    var _e = visualElement.makeTargetAnimatable(definition), _f = _e.transition, transition = _f === void 0 ? visualElement.getDefaultTransition() : _f, transitionEnd = _e.transitionEnd, target = __rest(_e, [\"transition\", \"transitionEnd\"]);\n    if (transitionOverride)\n        transition = transitionOverride;\n    var animations = [];\n    var animationTypeState = type && ((_b = visualElement.animationState) === null || _b === void 0 ? void 0 : _b.getState()[type]);\n    for (var key in target) {\n        var value = visualElement.getValue(key);\n        var valueTarget = target[key];\n        if (!value ||\n            valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        var animation = startAnimation(key, value, valueTarget, __assign({ delay: delay }, transition));\n        animations.push(animation);\n    }\n    return Promise.all(animations).then(function () {\n        transitionEnd && setTarget(visualElement, transitionEnd);\n    });\n}\nfunction animateChildren(visualElement, variant, delayChildren, staggerChildren, staggerDirection, options) {\n    if (delayChildren === void 0) { delayChildren = 0; }\n    if (staggerChildren === void 0) { staggerChildren = 0; }\n    if (staggerDirection === void 0) { staggerDirection = 1; }\n    var animations = [];\n    var maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n    var generateStaggerDuration = staggerDirection === 1\n        ? function (i) {\n            if (i === void 0) { i = 0; }\n            return i * staggerChildren;\n        }\n        : function (i) {\n            if (i === void 0) { i = 0; }\n            return maxStaggerDuration - i * staggerChildren;\n        };\n    Array.from(visualElement.variantChildren)\n        .sort(sortByTreeOrder)\n        .forEach(function (child, i) {\n        animations.push(animateVariant(child, variant, __assign(__assign({}, options), { delay: delayChildren + generateStaggerDuration(i) })).then(function () { return child.notifyAnimationComplete(variant); }));\n    });\n    return Promise.all(animations);\n}\nfunction stopAnimation(visualElement) {\n    visualElement.forEachValue(function (value) { return value.stop(); });\n}\nfunction sortByTreeOrder(a, b) {\n    return a.sortNodePosition(b);\n}\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation(_a, key) {\n    var protectedKeys = _a.protectedKeys, needsAnimating = _a.needsAnimating;\n    var shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\n\nexport { animateVisualElement, sortByTreeOrder, stopAnimation };\n","import { __spreadArray, __read, __assign, __rest } from 'tslib';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.js';\nimport { shallowCompare } from '../../utils/shallow-compare.js';\nimport { animateVisualElement } from './animation.js';\nimport { AnimationType } from './types.js';\nimport { isVariantLabels, resolveVariant, isVariantLabel } from './variants.js';\n\nvar variantPriorityOrder = [\n    AnimationType.Animate,\n    AnimationType.Hover,\n    AnimationType.Tap,\n    AnimationType.Drag,\n    AnimationType.Focus,\n    AnimationType.Exit,\n];\nvar reversePriorityOrder = __spreadArray([], __read(variantPriorityOrder)).reverse();\nvar numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return function (animations) {\n        return Promise.all(animations.map(function (_a) {\n            var animation = _a.animation, options = _a.options;\n            return animateVisualElement(visualElement, animation, options);\n        }));\n    };\n}\nfunction createAnimationState(visualElement) {\n    var animate = animateList(visualElement);\n    var state = createState();\n    var allAnimatedKeys = {};\n    var isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    var buildResolvedTypeValues = function (acc, definition) {\n        var resolved = resolveVariant(visualElement, definition);\n        if (resolved) {\n            resolved.transition; var transitionEnd = resolved.transitionEnd, target = __rest(resolved, [\"transition\", \"transitionEnd\"]);\n            acc = __assign(__assign(__assign({}, acc), target), transitionEnd);\n        }\n        return acc;\n    };\n    function isAnimated(key) {\n        return allAnimatedKeys[key] !== undefined;\n    }\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(options, changedActiveType) {\n        var _a;\n        var props = visualElement.getProps();\n        var context = visualElement.getVariantContext(true) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        var animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        var removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        var encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        var removedVariantIndex = Infinity;\n        var _loop_1 = function (i) {\n            var type = reversePriorityOrder[i];\n            var typeState = state[type];\n            var prop = (_a = props[type]) !== null && _a !== void 0 ? _a : context[type];\n            var propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            var activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            var isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n            /**\n             *\n             */\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = __assign({}, encounteredKeys);\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                return \"continue\";\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            var shouldAnimateType = variantsHaveChanged(typeState.prevProp, prop) ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            var definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            var resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            var _b = typeState.prevResolvedValues, prevResolvedValues = _b === void 0 ? {} : _b;\n            var allKeys = __assign(__assign({}, prevResolvedValues), resolvedValues);\n            var markToAnimate = function (key) {\n                shouldAnimateType = true;\n                removedKeys.delete(key);\n                typeState.needsAnimating[key] = true;\n            };\n            for (var key in allKeys) {\n                var next = resolvedValues[key];\n                var prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                if (next !== prev) {\n                    /**\n                     * If both values are keyframes, we need to shallow compare them to\n                     * detect whether any value has changed. If it has, we animate it.\n                     */\n                    if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                        if (!shallowCompare(next, prev)) {\n                            markToAnimate(key);\n                        }\n                        else {\n                            /**\n                             * If it hasn't changed, we want to ensure it doesn't animate by\n                             * adding it to the list of protected keys.\n                             */\n                            typeState.protectedKeys[key] = true;\n                        }\n                    }\n                    else if (next !== undefined) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            /**\n             *\n             */\n            if (typeState.isActive) {\n                encounteredKeys = __assign(__assign({}, encounteredKeys), resolvedValues);\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to hard-block animations\n             * TODO: Test as this should probably still handle animations triggered\n             * by removed values?\n             */\n            if (shouldAnimateType && !isInherited) {\n                animations.push.apply(animations, __spreadArray([], __read(definitionList.map(function (animation) { return ({\n                    animation: animation,\n                    options: __assign({ type: type }, options),\n                }); }))));\n            }\n        };\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (var i = 0; i < numAnimationTypes; i++) {\n            _loop_1(i);\n        }\n        allAnimatedKeys = __assign({}, encounteredKeys);\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            var fallbackAnimation_1 = {};\n            removedKeys.forEach(function (key) {\n                var fallbackTarget = visualElement.getBaseTarget(key);\n                if (fallbackTarget !== undefined) {\n                    fallbackAnimation_1[key] = fallbackTarget;\n                }\n            });\n            animations.push({ animation: fallbackAnimation_1 });\n        }\n        var shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            props.initial === false &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive, options) {\n        var _a;\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) { var _a; return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive); });\n        state[type].isActive = isActive;\n        return animateChanges(options, type);\n    }\n    return {\n        isAnimated: isAnimated,\n        animateChanges: animateChanges,\n        setActive: setActive,\n        setAnimateFunction: setAnimateFunction,\n        getState: function () { return state; },\n    };\n}\nfunction variantsHaveChanged(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (isVariantLabels(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive) {\n    if (isActive === void 0) { isActive = false; }\n    return {\n        isActive: isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    var _a;\n    return _a = {},\n        _a[AnimationType.Animate] = createTypeState(true),\n        _a[AnimationType.Hover] = createTypeState(),\n        _a[AnimationType.Tap] = createTypeState(),\n        _a[AnimationType.Drag] = createTypeState(),\n        _a[AnimationType.Focus] = createTypeState(),\n        _a[AnimationType.Exit] = createTypeState(),\n        _a;\n}\n\nexport { createAnimationState, variantPriorityOrder, variantsHaveChanged };\n","import { __read } from 'tslib';\nimport { useEffect, useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { usePresence } from '../../components/AnimatePresence/use-presence.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { createAnimationState } from '../../render/utils/animation-state.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\n\nvar animations = {\n    animation: makeRenderlessComponent(function (_a) {\n        var visualElement = _a.visualElement, animate = _a.animate;\n        /**\n         * We dynamically generate the AnimationState manager as it contains a reference\n         * to the underlying animation library. We only want to load that if we load this,\n         * so people can optionally code split it out using the `m` component.\n         */\n        visualElement.animationState || (visualElement.animationState = createAnimationState(visualElement));\n        /**\n         * Subscribe any provided AnimationControls to the component's VisualElement\n         */\n        if (isAnimationControls(animate)) {\n            useEffect(function () { return animate.subscribe(visualElement); }, [animate]);\n        }\n    }),\n    exit: makeRenderlessComponent(function (props) {\n        var custom = props.custom, visualElement = props.visualElement;\n        var _a = __read(usePresence(), 2), isPresent = _a[0], onExitComplete = _a[1];\n        var presenceContext = useContext(PresenceContext);\n        useEffect(function () {\n            var _a, _b;\n            var animation = (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Exit, !isPresent, { custom: (_b = presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.custom) !== null && _b !== void 0 ? _b : custom });\n            !isPresent && (animation === null || animation === void 0 ? void 0 : animation.then(onExitComplete));\n        }, [isPresent]);\n    }),\n};\n\nexport { animations };\n","var isPoint = function (point) {\n    return point.hasOwnProperty('x') && point.hasOwnProperty('y');\n};\n\nexport { isPoint };\n","import { isPoint } from './is-point.js';\n\nvar isPoint3D = function (point) {\n    return isPoint(point) && point.hasOwnProperty('z');\n};\n\nexport { isPoint3D };\n","import { isPoint } from './is-point.js';\nimport { isPoint3D } from './is-point-3d.js';\nimport { isNum } from './inc.js';\n\nvar distance1D = function (a, b) { return Math.abs(a - b); };\nfunction distance(a, b) {\n    if (isNum(a) && isNum(b)) {\n        return distance1D(a, b);\n    }\n    else if (isPoint(a) && isPoint(b)) {\n        var xDelta = distance1D(a.x, b.x);\n        var yDelta = distance1D(a.y, b.y);\n        var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\n        return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\n    }\n}\n\nexport { distance };\n","import { __assign } from 'tslib';\nimport { isMouseEvent, isTouchEvent } from './utils/event-type.js';\nimport { extractEventInfo } from '../events/event-info.js';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { secondsToMilliseconds } from '../utils/time-conversion.js';\nimport { addPointerEvent } from '../events/use-pointer-event.js';\nimport { distance, pipe } from 'popmotion';\n\n/**\n * @internal\n */\nvar PanSession = /** @class */ (function () {\n    function PanSession(event, handlers, _a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, transformPagePoint = _b.transformPagePoint;\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        this.updatePoint = function () {\n            if (!(_this.lastMoveEvent && _this.lastMoveEventInfo))\n                return;\n            var info = getPanInfo(_this.lastMoveEventInfo, _this.history);\n            var isPanStarted = _this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursoe.\n            var isDistancePastThreshold = distance(info.offset, { x: 0, y: 0 }) >= 3;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            var point = info.point;\n            var timestamp = getFrameData().timestamp;\n            _this.history.push(__assign(__assign({}, point), { timestamp: timestamp }));\n            var _a = _this.handlers, onStart = _a.onStart, onMove = _a.onMove;\n            if (!isPanStarted) {\n                onStart && onStart(_this.lastMoveEvent, info);\n                _this.startEvent = _this.lastMoveEvent;\n            }\n            onMove && onMove(_this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = function (event, info) {\n            _this.lastMoveEvent = event;\n            _this.lastMoveEventInfo = transformPoint(info, _this.transformPagePoint);\n            // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n            if (isMouseEvent(event) && event.buttons === 0) {\n                _this.handlePointerUp(event, info);\n                return;\n            }\n            // Throttle mouse move event to once per frame\n            sync.update(_this.updatePoint, true);\n        };\n        this.handlePointerUp = function (event, info) {\n            _this.end();\n            var _a = _this.handlers, onEnd = _a.onEnd, onSessionEnd = _a.onSessionEnd;\n            var panInfo = getPanInfo(transformPoint(info, _this.transformPagePoint), _this.history);\n            if (_this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (isTouchEvent(event) && event.touches.length > 1)\n            return;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        var info = extractEventInfo(event);\n        var initialInfo = transformPoint(info, this.transformPagePoint);\n        var point = initialInfo.point;\n        var timestamp = getFrameData().timestamp;\n        this.history = [__assign(__assign({}, point), { timestamp: timestamp })];\n        var onSessionStart = handlers.onSessionStart;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(window, \"pointermove\", this.handlePointerMove), addPointerEvent(window, \"pointerup\", this.handlePointerUp), addPointerEvent(window, \"pointercancel\", this.handlePointerUp));\n    }\n    PanSession.prototype.updateHandlers = function (handlers) {\n        this.handlers = handlers;\n    };\n    PanSession.prototype.end = function () {\n        this.removeListeners && this.removeListeners();\n        cancelSync.update(this.updatePoint);\n    };\n    return PanSession;\n}());\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo(_a, history) {\n    var point = _a.point;\n    return {\n        point: point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    var i = history.length - 1;\n    var timestampedPoint = null;\n    var lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    var currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","// Call a handler once for each axis\nfunction eachAxis(handler) {\n    return [handler(\"x\"), handler(\"y\")];\n}\n\nexport { eachAxis };\n","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, _a, elastic) {\n    var min = _a.min, max = _a.max;\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculates a min projection point based on a pointer, pointer progress\n * within the drag target, and constraints.\n *\n * For instance if an element was 100px width, we were dragging from 0.25\n * along this axis, the pointer is at 200px, and there were no constraints,\n * we would calculate a min projection point of 175px.\n */\nfunction calcConstrainedMinPoint(point, length, progress, constraints, elastic) {\n    // Calculate a min point for this axis and apply it to the current pointer\n    var min = point - length * progress;\n    return constraints ? applyConstraints(min, constraints, elastic) : min;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, _a) {\n    var top = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    var _a;\n    var min = constraintsAxis.min - layoutAxis.min;\n    var max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        _a = __read([max, min], 2), min = _a[0], max = _a[1];\n    }\n    return {\n        min: layoutAxis.min + min,\n        max: layoutAxis.min + max,\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate the an axis position based on two axes and a progress value.\n */\nfunction calcPositionFromProgress(axis, constraints, progress) {\n    var axisLength = axis.max - axis.min;\n    var min = mix(constraints.min, constraints.max - axisLength, progress);\n    return { min: min, max: min + axisLength };\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    var relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nvar defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    var _a;\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : (_a = dragElastic[label]) !== null && _a !== void 0 ? _a : 0;\n}\n\nexport { applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","import { convertBoundingBoxToAxisBox, transformBoundingBox } from '../../../utils/geometry/index.js';\n\n/**\n * Measure and return the element bounding box.\n *\n * We convert the box into an AxisBox2D to make it easier to work with each axis\n * individually and programmatically.\n *\n * This function optionally accepts a transformPagePoint function which allows us to compensate\n * for, for instance, measuring the element within a scaled plane like a Framer devivce preview component.\n */\nfunction getBoundingBox(element, transformPagePoint) {\n    var box = element.getBoundingClientRect();\n    return convertBoundingBoxToAxisBox(transformBoundingBox(box, transformPagePoint));\n}\n\nexport { getBoundingBox };\n","import { mix, distance, clamp, progress } from 'popmotion';\n\nvar clampProgress = function (v) { return clamp(0, 1, v); };\n/**\n * Returns true if the provided value is within maxDistance of the provided target\n */\nfunction isNear(value, target, maxDistance) {\n    if (target === void 0) { target = 0; }\n    if (maxDistance === void 0) { maxDistance = 0.01; }\n    return distance(value, target) < maxDistance;\n}\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    var origin = 0.5;\n    var sourceLength = calcLength(source);\n    var targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = progress(source.min, source.max - targetLength, target.min);\n    }\n    return clampProgress(origin);\n}\n/**\n * Update the AxisDelta with a transform that projects source into target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\nfunction updateAxisDelta(delta, source, target, origin) {\n    if (origin === void 0) { origin = 0.5; }\n    delta.origin = origin;\n    delta.originPoint = mix(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    if (isNear(delta.scale, 1, 0.0001))\n        delta.scale = 1;\n    delta.translate =\n        mix(target.min, target.max, delta.origin) - delta.originPoint;\n    if (isNear(delta.translate))\n        delta.translate = 0;\n}\n/**\n * Update the BoxDelta with a transform that projects the source into the target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\nfunction updateBoxDelta(delta, source, target, origin) {\n    updateAxisDelta(delta.x, source.x, target.x, defaultOrigin(origin.originX));\n    updateAxisDelta(delta.y, source.y, target.y, defaultOrigin(origin.originY));\n}\n/**\n * Currently this only accepts numerical origins, measured as 0-1, but could\n * accept pixel values by comparing to the target axis.\n */\nfunction defaultOrigin(origin) {\n    return typeof origin === \"number\" ? origin : 0.5;\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(projection, parentProjection) {\n    calcRelativeAxis(projection.target.x, projection.relativeTarget.x, parentProjection.target.x);\n    calcRelativeAxis(projection.target.y, projection.relativeTarget.y, parentProjection.target.y);\n}\n\nexport { calcOrigin, calcRelativeAxis, calcRelativeBox, isNear, updateAxisDelta, updateBoxDelta };\n","import { mix } from 'popmotion';\n\nfunction tweenAxis(target, prev, next, p) {\n    target.min = mix(prev.min, next.min, p);\n    target.max = mix(prev.max, next.max, p);\n}\nfunction calcRelativeOffsetAxis(parent, child) {\n    return {\n        min: child.min - parent.min,\n        max: child.max - parent.min,\n    };\n}\nfunction calcRelativeOffset(parent, child) {\n    return {\n        x: calcRelativeOffsetAxis(parent.x, child.x),\n        y: calcRelativeOffsetAxis(parent.y, child.y),\n    };\n}\nfunction checkIfParentHasChanged(prev, next) {\n    var prevId = prev.getLayoutId();\n    var nextId = next.getLayoutId();\n    return prevId !== nextId || (nextId === undefined && prev !== next);\n}\n\nexport { calcRelativeOffset, calcRelativeOffsetAxis, checkIfParentHasChanged, tweenAxis };\n","function isDraggable(visualElement) {\n    var _a = visualElement.getProps(), drag = _a.drag, _dragX = _a._dragX;\n    return drag && !_dragX;\n}\n\nexport { isDraggable };\n","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\nimport { isDraggable } from '../../render/utils/is-draggable.js';\n\n/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction resetAxis(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction resetBox(box, originBox) {\n    resetAxis(box.x, originBox.x);\n    resetAxis(box.y, originBox.y);\n}\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    var distanceFromOrigin = point - originPoint;\n    var scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate, scale, originPoint, boxScale) {\n    if (translate === void 0) { translate = 0; }\n    if (scale === void 0) { scale = 1; }\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, _a) {\n    var x = _a.x, y = _a.y;\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction applyAxisTransforms(final, axis, transforms, _a) {\n    var _b = __read(_a, 3), key = _b[0], scaleKey = _b[1], originKey = _b[2];\n    // Copy the current axis to the final axis before mutation\n    final.min = axis.min;\n    final.max = axis.max;\n    var axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n    var originPoint = mix(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(final, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nvar xKeys = [\"x\", \"scaleX\", \"originX\"];\nvar yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction applyBoxTransforms(finalBox, box, transforms) {\n    applyAxisTransforms(finalBox.x, box.x, transforms, xKeys);\n    applyAxisTransforms(finalBox.y, box.y, transforms, yKeys);\n}\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate, scale, origin, boxScale) {\n    if (translate === void 0) { translate = 0; }\n    if (scale === void 0) { scale = 1; }\n    if (origin === void 0) { origin = 0.5; }\n    var originPoint = mix(axis.min, axis.max, origin) - translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, _a) {\n    var _b = __read(_a, 3), key = _b[0], scaleKey = _b[1], originKey = _b[2];\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale);\n}\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms) {\n    removeAxisTransforms(box.x, transforms, xKeys);\n    removeAxisTransforms(box.y, transforms, yKeys);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath) {\n    var treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    var node;\n    var delta;\n    for (var i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.getLayoutState().delta;\n        // Incoporate each ancestor's scale into a culmulative treeScale for this component\n        treeScale.x *= delta.x.scale;\n        treeScale.y *= delta.y.scale;\n        // Apply each ancestor's calculated delta into this component's recorded layout box\n        applyBoxDelta(box, delta);\n        // If this is a draggable ancestor, also incorporate the node's transform to the layout box\n        if (isDraggable(node)) {\n            applyBoxTransforms(box, box, node.getLatestValues());\n        }\n    }\n}\n\nexport { applyAxisDelta, applyAxisTransforms, applyBoxDelta, applyBoxTransforms, applyPointDelta, applyTreeDeltas, removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta, resetAxis, resetBox, scalePoint };\n","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { PanSession } from '../PanSession.js';\nimport { getGlobalLock } from './utils/lock.js';\nimport { isRefObject } from '../../utils/is-ref-object.js';\nimport { addPointerEvent } from '../../events/use-pointer-event.js';\nimport { addDomEvent } from '../../events/use-dom-event.js';\nimport { getViewportPointFromEvent } from '../../events/event-info.js';\nimport { axisBox, convertAxisBoxToBoundingBox, convertBoundingBoxToAxisBox } from '../../utils/geometry/index.js';\nimport { eachAxis } from '../../utils/each-axis.js';\nimport { calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, defaultElastic } from './utils/constraints.js';\nimport { getBoundingBox } from '../../render/dom/projection/measure.js';\nimport { calcOrigin } from '../../utils/geometry/delta-calc.js';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { collectProjectingAncestors, updateLayoutMeasurement, collectProjectingChildren } from '../../render/dom/projection/utils.js';\nimport { progress } from 'popmotion';\nimport { convertToRelativeProjection } from '../../render/dom/projection/convert-to-relative.js';\nimport { calcRelativeOffset } from '../../motion/features/layout/utils.js';\nimport { flushLayout, batchLayout } from '../../render/dom/utils/batch-layout.js';\nimport { flushSync } from 'framesync';\n\nvar elementDragControls = new WeakMap();\n/**\n *\n */\nvar lastPointerEvent;\nvar VisualElementDragControls = /** @class */ (function () {\n    function VisualElementDragControls(_a) {\n        var visualElement = _a.visualElement;\n        /**\n         * Track whether we're currently dragging.\n         *\n         * @internal\n         */\n        this.isDragging = false;\n        /**\n         * The current direction of drag, or `null` if both.\n         *\n         * @internal\n         */\n        this.currentDirection = null;\n        /**\n         * The permitted boundaries of travel, in pixels.\n         *\n         * @internal\n         */\n        this.constraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         *\n         * @internal\n         */\n        this.elastic = axisBox();\n        /**\n         * A reference to the host component's latest props.\n         *\n         * @internal\n         */\n        this.props = {};\n        /**\n         * @internal\n         */\n        this.hasMutatedConstraints = false;\n        /**\n         * Track the initial position of the cursor relative to the dragging element\n         * when dragging starts as a value of 0-1 on each axis. We then use this to calculate\n         * an ideal bounding box for the VisualElement renderer to project into every frame.\n         *\n         * @internal\n         */\n        this.cursorProgress = {\n            x: 0.5,\n            y: 0.5,\n        };\n        // When updating _dragX, or _dragY instead of the VisualElement,\n        // persist their values between drag gestures.\n        this.originPoint = {};\n        // This is a reference to the global drag gesture lock, ensuring only one component\n        // can \"capture\" the drag of one or both axes.\n        // TODO: Look into moving this into pansession?\n        this.openGlobalLock = null;\n        /**\n         * @internal\n         */\n        this.panSession = null;\n        this.visualElement = visualElement;\n        this.visualElement.enableLayoutProjection();\n        elementDragControls.set(visualElement, this);\n    }\n    /**\n     * Instantiate a PanSession for the drag gesture\n     *\n     * @public\n     */\n    VisualElementDragControls.prototype.start = function (originEvent, _a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, _c = _b.snapToCursor, snapToCursor = _c === void 0 ? false : _c, cursorProgress = _b.cursorProgress;\n        var onSessionStart = function (event) {\n            var _a;\n            // Stop any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            _this.stopMotion();\n            /**\n             * Save the initial point. We'll use this to calculate the pointer's position rather\n             * than the one we receive when the gesture actually starts. By then, the pointer will\n             * have already moved, and the perception will be of the pointer \"slipping\" across the element\n             */\n            var initialPoint = getViewportPointFromEvent(event).point;\n            (_a = _this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(_this);\n            _this.cancelLayout = batchLayout(function (read, write) {\n                var ancestors = collectProjectingAncestors(_this.visualElement);\n                var children = collectProjectingChildren(_this.visualElement);\n                var tree = __spreadArray(__spreadArray([], __read(ancestors)), __read(children));\n                var hasManuallySetCursorOrigin = false;\n                /**\n                 * Apply a simple lock to the projection target. This ensures no animations\n                 * can run on the projection box while this lock is active.\n                 */\n                _this.isLayoutDrag() && _this.visualElement.lockProjectionTarget();\n                write(function () {\n                    tree.forEach(function (element) { return element.resetTransform(); });\n                });\n                read(function () {\n                    updateLayoutMeasurement(_this.visualElement);\n                    children.forEach(updateLayoutMeasurement);\n                });\n                write(function () {\n                    tree.forEach(function (element) { return element.restoreTransform(); });\n                    if (snapToCursor) {\n                        hasManuallySetCursorOrigin = _this.snapToCursor(initialPoint);\n                    }\n                });\n                read(function () {\n                    var isRelativeDrag = Boolean(_this.getAxisMotionValue(\"x\") && !_this.isExternalDrag());\n                    if (!isRelativeDrag) {\n                        _this.visualElement.rebaseProjectionTarget(true, _this.visualElement.measureViewportBox(false));\n                    }\n                    _this.visualElement.scheduleUpdateLayoutProjection();\n                    /**\n                     * When dragging starts, we want to find where the cursor is relative to the bounding box\n                     * of the element. Every frame, we calculate a new bounding box using this relative position\n                     * and let the visualElement renderer figure out how to reproject the element into this bounding\n                     * box.\n                     *\n                     * By doing it this way, rather than applying an x/y transform directly to the element,\n                     * we can ensure the component always visually sticks to the cursor as we'd expect, even\n                     * if the DOM element itself changes layout as a result of React updates the user might\n                     * make based on the drag position.\n                     */\n                    var projection = _this.visualElement.projection;\n                    eachAxis(function (axis) {\n                        if (!hasManuallySetCursorOrigin) {\n                            var _a = projection.target[axis], min = _a.min, max = _a.max;\n                            _this.cursorProgress[axis] = cursorProgress\n                                ? cursorProgress[axis]\n                                : progress(min, max, initialPoint[axis]);\n                        }\n                        /**\n                         * If we have external drag MotionValues, record their origin point. On pointermove\n                         * we'll apply the pan gesture offset directly to this value.\n                         */\n                        var axisValue = _this.getAxisMotionValue(axis);\n                        if (axisValue) {\n                            _this.originPoint[axis] = axisValue.get();\n                        }\n                    });\n                });\n                write(function () {\n                    flushSync.update();\n                    flushSync.preRender();\n                    flushSync.render();\n                    flushSync.postRender();\n                });\n                read(function () { return _this.resolveDragConstraints(); });\n            });\n        };\n        var onStart = function (event, info) {\n            var _a, _b, _c;\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            var _d = _this.props, drag = _d.drag, dragPropagation = _d.dragPropagation;\n            if (drag && !dragPropagation) {\n                if (_this.openGlobalLock)\n                    _this.openGlobalLock();\n                _this.openGlobalLock = getGlobalLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!_this.openGlobalLock)\n                    return;\n            }\n            flushLayout();\n            // Set current drag status\n            _this.isDragging = true;\n            _this.currentDirection = null;\n            // Fire onDragStart event\n            (_b = (_a = _this.props).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, event, info);\n            (_c = _this.visualElement.animationState) === null || _c === void 0 ? void 0 : _c.setActive(AnimationType.Drag, true);\n        };\n        var onMove = function (event, info) {\n            var _a, _b, _c, _d;\n            var _e = _this.props, dragPropagation = _e.dragPropagation, dragDirectionLock = _e.dragDirectionLock;\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !_this.openGlobalLock)\n                return;\n            var offset = info.offset;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && _this.currentDirection === null) {\n                _this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (_this.currentDirection !== null) {\n                    (_b = (_a = _this.props).onDirectionLock) === null || _b === void 0 ? void 0 : _b.call(_a, _this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            _this.updateAxis(\"x\", info.point, offset);\n            _this.updateAxis(\"y\", info.point, offset);\n            // Fire onDrag event\n            (_d = (_c = _this.props).onDrag) === null || _d === void 0 ? void 0 : _d.call(_c, event, info);\n            // Update the last pointer event\n            lastPointerEvent = event;\n        };\n        var onSessionEnd = function (event, info) {\n            return _this.stop(event, info);\n        };\n        var transformPagePoint = this.props.transformPagePoint;\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart: onSessionStart,\n            onStart: onStart,\n            onMove: onMove,\n            onSessionEnd: onSessionEnd,\n        }, { transformPagePoint: transformPagePoint });\n    };\n    VisualElementDragControls.prototype.resolveDragConstraints = function () {\n        var _this = this;\n        var _a = this.props, dragConstraints = _a.dragConstraints, dragElastic = _a.dragElastic;\n        var layout = this.visualElement.getLayoutState().layoutCorrected;\n        if (dragConstraints) {\n            this.constraints = isRefObject(dragConstraints)\n                ? this.resolveRefConstraints(layout, dragConstraints)\n                : calcRelativeConstraints(layout, dragConstraints);\n        }\n        else {\n            this.constraints = false;\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (this.constraints && !this.hasMutatedConstraints) {\n            eachAxis(function (axis) {\n                if (_this.getAxisMotionValue(axis)) {\n                    _this.constraints[axis] = rebaseAxisConstraints(layout[axis], _this.constraints[axis]);\n                }\n            });\n        }\n    };\n    VisualElementDragControls.prototype.resolveRefConstraints = function (layoutBox, constraints) {\n        var _a = this.props, onMeasureDragConstraints = _a.onMeasureDragConstraints, transformPagePoint = _a.transformPagePoint;\n        var constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n        this.constraintsBox = getBoundingBox(constraintsElement, transformPagePoint);\n        var measuredConstraints = calcViewportConstraints(layoutBox, this.constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            var userConstraints = onMeasureDragConstraints(convertAxisBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToAxisBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    };\n    VisualElementDragControls.prototype.cancelDrag = function () {\n        var _a, _b;\n        this.visualElement.unlockProjectionTarget();\n        (_a = this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(this);\n        this.isDragging = false;\n        this.panSession && this.panSession.end();\n        this.panSession = null;\n        if (!this.props.dragPropagation && this.openGlobalLock) {\n            this.openGlobalLock();\n            this.openGlobalLock = null;\n        }\n        (_b = this.visualElement.animationState) === null || _b === void 0 ? void 0 : _b.setActive(AnimationType.Drag, false);\n    };\n    VisualElementDragControls.prototype.stop = function (event, info) {\n        var _a, _b, _c;\n        (_a = this.panSession) === null || _a === void 0 ? void 0 : _a.end();\n        this.panSession = null;\n        var isDragging = this.isDragging;\n        this.cancelDrag();\n        if (!isDragging)\n            return;\n        var velocity = info.velocity;\n        this.animateDragEnd(velocity);\n        (_c = (_b = this.props).onDragEnd) === null || _c === void 0 ? void 0 : _c.call(_b, event, info);\n    };\n    VisualElementDragControls.prototype.snapToCursor = function (point) {\n        var _this = this;\n        return eachAxis(function (axis) {\n            var drag = _this.props.drag;\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, _this.currentDirection))\n                return;\n            var axisValue = _this.getAxisMotionValue(axis);\n            if (axisValue) {\n                var box = _this.visualElement.getLayoutState().layout;\n                var length_1 = box[axis].max - box[axis].min;\n                var center = box[axis].min + length_1 / 2;\n                var offset = point[axis] - center;\n                _this.originPoint[axis] = point[axis];\n                axisValue.set(offset);\n            }\n            else {\n                _this.cursorProgress[axis] = 0.5;\n                return true;\n            }\n        }).includes(true);\n    };\n    /**\n     * Update the specified axis with the latest pointer information.\n     */\n    VisualElementDragControls.prototype.updateAxis = function (axis, point, offset) {\n        var drag = this.props.drag;\n        // If we're not dragging this axis, do an early return.\n        if (!shouldDrag(axis, drag, this.currentDirection))\n            return;\n        return this.getAxisMotionValue(axis)\n            ? this.updateAxisMotionValue(axis, offset)\n            : this.updateVisualElementAxis(axis, point);\n    };\n    VisualElementDragControls.prototype.updateAxisMotionValue = function (axis, offset) {\n        var axisValue = this.getAxisMotionValue(axis);\n        if (!offset || !axisValue)\n            return;\n        var nextValue = this.originPoint[axis] + offset[axis];\n        var update = this.constraints\n            ? applyConstraints(nextValue, this.constraints[axis], this.elastic[axis])\n            : nextValue;\n        axisValue.set(update);\n    };\n    VisualElementDragControls.prototype.updateVisualElementAxis = function (axis, point) {\n        var _a;\n        // Get the actual layout bounding box of the element\n        var axisLayout = this.visualElement.getLayoutState().layout[axis];\n        // Calculate its current length. In the future we might want to lerp this to animate\n        // between lengths if the layout changes as we change the DOM\n        var axisLength = axisLayout.max - axisLayout.min;\n        // Get the initial progress that the pointer sat on this axis on gesture start.\n        var axisProgress = this.cursorProgress[axis];\n        // Calculate a new min point based on the latest pointer position, constraints and elastic\n        var min = calcConstrainedMinPoint(point[axis], axisLength, axisProgress, (_a = this.constraints) === null || _a === void 0 ? void 0 : _a[axis], this.elastic[axis]);\n        // Update the axis viewport target with this new min and the length\n        this.visualElement.setProjectionTargetAxis(axis, min, min + axisLength);\n    };\n    VisualElementDragControls.prototype.setProps = function (_a) {\n        var _b = _a.drag, drag = _b === void 0 ? false : _b, _c = _a.dragDirectionLock, dragDirectionLock = _c === void 0 ? false : _c, _d = _a.dragPropagation, dragPropagation = _d === void 0 ? false : _d, _e = _a.dragConstraints, dragConstraints = _e === void 0 ? false : _e, _f = _a.dragElastic, dragElastic = _f === void 0 ? defaultElastic : _f, _g = _a.dragMomentum, dragMomentum = _g === void 0 ? true : _g, remainingProps = __rest(_a, [\"drag\", \"dragDirectionLock\", \"dragPropagation\", \"dragConstraints\", \"dragElastic\", \"dragMomentum\"]);\n        this.props = __assign({ drag: drag,\n            dragDirectionLock: dragDirectionLock,\n            dragPropagation: dragPropagation,\n            dragConstraints: dragConstraints,\n            dragElastic: dragElastic,\n            dragMomentum: dragMomentum }, remainingProps);\n    };\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - If the component will perform layout animations, we output the gesture to the component's\n     *      visual bounding box\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    VisualElementDragControls.prototype.getAxisMotionValue = function (axis) {\n        var _a = this.props, layout = _a.layout, layoutId = _a.layoutId;\n        var dragKey = \"_drag\" + axis.toUpperCase();\n        if (this.props[dragKey]) {\n            return this.props[dragKey];\n        }\n        else if (!layout && layoutId === undefined) {\n            return this.visualElement.getValue(axis, 0);\n        }\n    };\n    VisualElementDragControls.prototype.isLayoutDrag = function () {\n        return !this.getAxisMotionValue(\"x\");\n    };\n    VisualElementDragControls.prototype.isExternalDrag = function () {\n        var _a = this.props, _dragX = _a._dragX, _dragY = _a._dragY;\n        return _dragX || _dragY;\n    };\n    VisualElementDragControls.prototype.animateDragEnd = function (velocity) {\n        var _this = this;\n        var _a = this.props, drag = _a.drag, dragMomentum = _a.dragMomentum, dragElastic = _a.dragElastic, dragTransition = _a.dragTransition;\n        /**\n         * Everything beyond the drag gesture should be performed with\n         * relative projection so children stay in sync with their parent element.\n         */\n        var isRelative = convertToRelativeProjection(this.visualElement, this.isLayoutDrag() && !this.isExternalDrag());\n        /**\n         * If we had previously resolved constraints relative to the viewport,\n         * we need to also convert those to a relative coordinate space for the animation\n         */\n        var constraints = this.constraints || {};\n        if (isRelative &&\n            Object.keys(constraints).length &&\n            this.isLayoutDrag()) {\n            var projectionParent = this.visualElement.getProjectionParent();\n            if (projectionParent) {\n                var relativeConstraints_1 = calcRelativeOffset(projectionParent.projection.targetFinal, constraints);\n                eachAxis(function (axis) {\n                    var _a = relativeConstraints_1[axis], min = _a.min, max = _a.max;\n                    constraints[axis] = {\n                        min: isNaN(min) ? undefined : min,\n                        max: isNaN(max) ? undefined : max,\n                    };\n                });\n            }\n        }\n        var momentumAnimations = eachAxis(function (axis) {\n            var _a;\n            if (!shouldDrag(axis, drag, _this.currentDirection)) {\n                return;\n            }\n            var transition = (_a = constraints === null || constraints === void 0 ? void 0 : constraints[axis]) !== null && _a !== void 0 ? _a : {};\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            var bounceStiffness = dragElastic ? 200 : 1000000;\n            var bounceDamping = dragElastic ? 40 : 10000000;\n            var inertia = __assign(__assign({ type: \"inertia\", velocity: dragMomentum ? velocity[axis] : 0, bounceStiffness: bounceStiffness,\n                bounceDamping: bounceDamping, timeConstant: 750, restDelta: 1, restSpeed: 10 }, dragTransition), transition);\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return _this.getAxisMotionValue(axis)\n                ? _this.startAxisValueAnimation(axis, inertia)\n                : _this.visualElement.startLayoutAnimation(axis, inertia, isRelative);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(function () {\n            var _a, _b;\n            (_b = (_a = _this.props).onDragTransitionEnd) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n    };\n    VisualElementDragControls.prototype.stopMotion = function () {\n        var _this = this;\n        eachAxis(function (axis) {\n            var axisValue = _this.getAxisMotionValue(axis);\n            axisValue\n                ? axisValue.stop()\n                : _this.visualElement.stopLayoutAnimation();\n        });\n    };\n    VisualElementDragControls.prototype.startAxisValueAnimation = function (axis, transition) {\n        var axisValue = this.getAxisMotionValue(axis);\n        if (!axisValue)\n            return;\n        var currentValue = axisValue.get();\n        axisValue.set(currentValue);\n        axisValue.set(currentValue); // Set twice to hard-reset velocity\n        return startAnimation(axis, axisValue, 0, transition);\n    };\n    VisualElementDragControls.prototype.scalePoint = function () {\n        var _this = this;\n        var _a = this.props, drag = _a.drag, dragConstraints = _a.dragConstraints;\n        if (!isRefObject(dragConstraints) || !this.constraintsBox)\n            return;\n        // Stop any current animations as there can be some visual glitching if we resize mid animation\n        this.stopMotion();\n        // Record the relative progress of the targetBox relative to the constraintsBox\n        var boxProgress = { x: 0, y: 0 };\n        eachAxis(function (axis) {\n            boxProgress[axis] = calcOrigin(_this.visualElement.projection.target[axis], _this.constraintsBox[axis]);\n        });\n        /**\n         * For each axis, calculate the current progress of the layout axis within the constraints.\n         * Then, using the latest layout and constraints measurements, reposition the new layout axis\n         * proportionally within the constraints.\n         */\n        this.updateConstraints(function () {\n            eachAxis(function (axis) {\n                if (!shouldDrag(axis, drag, null))\n                    return;\n                // Calculate the position of the targetBox relative to the constraintsBox using the\n                // previously calculated progress\n                var _a = calcPositionFromProgress(_this.visualElement.projection.target[axis], _this.constraintsBox[axis], boxProgress[axis]), min = _a.min, max = _a.max;\n                _this.visualElement.setProjectionTargetAxis(axis, min, max);\n            });\n        });\n        /**\n         * If any other draggable components are queuing the same tasks synchronously\n         * this will wait until they've all been scheduled before flushing.\n         */\n        setTimeout(flushLayout, 1);\n    };\n    VisualElementDragControls.prototype.updateConstraints = function (onReady) {\n        var _this = this;\n        this.cancelLayout = batchLayout(function (read, write) {\n            var ancestors = collectProjectingAncestors(_this.visualElement);\n            write(function () {\n                return ancestors.forEach(function (element) { return element.resetTransform(); });\n            });\n            read(function () { return updateLayoutMeasurement(_this.visualElement); });\n            write(function () {\n                return ancestors.forEach(function (element) { return element.restoreTransform(); });\n            });\n            read(function () {\n                _this.resolveDragConstraints();\n            });\n            if (onReady)\n                write(onReady);\n        });\n    };\n    VisualElementDragControls.prototype.mount = function (visualElement) {\n        var _this = this;\n        var element = visualElement.getInstance();\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        var stopPointerListener = addPointerEvent(element, \"pointerdown\", function (event) {\n            var _a = _this.props, drag = _a.drag, _b = _a.dragListener, dragListener = _b === void 0 ? true : _b;\n            drag && dragListener && _this.start(event);\n        });\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        var stopResizeListener = addDomEvent(window, \"resize\", function () {\n            _this.scalePoint();\n        });\n        /**\n         * Ensure drag constraints are resolved correctly relative to the dragging element\n         * whenever its layout changes.\n         */\n        var stopLayoutUpdateListener = visualElement.onLayoutUpdate(function () {\n            if (_this.isDragging) {\n                _this.resolveDragConstraints();\n            }\n        });\n        /**\n         * If the previous component with this same layoutId was dragging at the time\n         * it was unmounted, we want to continue the same gesture on this component.\n         */\n        var prevDragCursor = visualElement.prevDragCursor;\n        if (prevDragCursor) {\n            this.start(lastPointerEvent, { cursorProgress: prevDragCursor });\n        }\n        /**\n         * Return a function that will teardown the drag gesture\n         */\n        return function () {\n            stopPointerListener === null || stopPointerListener === void 0 ? void 0 : stopPointerListener();\n            stopResizeListener === null || stopResizeListener === void 0 ? void 0 : stopResizeListener();\n            stopLayoutUpdateListener === null || stopLayoutUpdateListener === void 0 ? void 0 : stopLayoutUpdateListener();\n            _this.cancelDrag();\n        };\n    };\n    return VisualElementDragControls;\n}());\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold) {\n    if (lockThreshold === void 0) { lockThreshold = 10; }\n    var direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { removeBoxTransforms } from '../../../utils/geometry/delta-apply.js';\n\n/**\n * Returns a boolean stating whether or not we converted the projection\n * to relative projection.\n */\nfunction convertToRelativeProjection(visualElement, isLayoutDrag) {\n    if (isLayoutDrag === void 0) { isLayoutDrag = true; }\n    var projectionParent = visualElement.getProjectionParent();\n    if (!projectionParent)\n        return false;\n    var offset;\n    if (isLayoutDrag) {\n        offset = calcRelativeOffset(projectionParent.projection.target, visualElement.projection.target);\n        removeBoxTransforms(offset, projectionParent.getLatestValues());\n    }\n    else {\n        offset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n    }\n    eachAxis(function (axis) {\n        return visualElement.setProjectionTargetAxis(axis, offset[axis].min, offset[axis].max, true);\n    });\n    return true;\n}\n\nexport { convertToRelativeProjection };\n","import { useDrag } from '../../gestures/drag/use-drag.js';\nimport { usePanGesture } from '../../gestures/use-pan-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\n\nvar drag = {\n    pan: makeRenderlessComponent(usePanGesture),\n    drag: makeRenderlessComponent(useDrag),\n};\n\nexport { drag };\n","import { useRef, useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { PanSession } from './PanSession.js';\n\n/**\n *\n * @param handlers -\n * @param ref -\n *\n * @internalremarks\n * Currently this sets new pan gesture functions every render. The memo route has been explored\n * in the past but ultimately we're still creating new functions every render. An optimisation\n * to explore is creating the pan gestures and loading them into a `ref`.\n *\n * @internal\n */\nfunction usePanGesture(_a) {\n    var onPan = _a.onPan, onPanStart = _a.onPanStart, onPanEnd = _a.onPanEnd, onPanSessionStart = _a.onPanSessionStart, visualElement = _a.visualElement;\n    var hasPanEvents = onPan || onPanStart || onPanEnd || onPanSessionStart;\n    var panSession = useRef(null);\n    var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n    var handlers = {\n        onSessionStart: onPanSessionStart,\n        onStart: onPanStart,\n        onMove: onPan,\n        onEnd: function (event, info) {\n            panSession.current = null;\n            onPanEnd && onPanEnd(event, info);\n        },\n    };\n    useEffect(function () {\n        if (panSession.current !== null) {\n            panSession.current.updateHandlers(handlers);\n        }\n    });\n    function onPointerDown(event) {\n        panSession.current = new PanSession(event, handlers, {\n            transformPagePoint: transformPagePoint,\n        });\n    }\n    usePointerEvent(visualElement, \"pointerdown\", hasPanEvents && onPointerDown);\n    useUnmountEffect(function () { return panSession.current && panSession.current.end(); });\n}\n\nexport { usePanGesture };\n","import { __assign } from 'tslib';\nimport { useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { VisualElementDragControls } from './VisualElementDragControls.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\n/**\n * A hook that allows an element to be dragged.\n *\n * @internal\n */\nfunction useDrag(props) {\n    var groupDragControls = props.dragControls, visualElement = props.visualElement;\n    var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n    var dragControls = useConstant(function () {\n        return new VisualElementDragControls({\n            visualElement: visualElement,\n        });\n    });\n    dragControls.setProps(__assign(__assign({}, props), { transformPagePoint: transformPagePoint }));\n    // If we've been provided a DragControls for manual control over the drag gesture,\n    // subscribe this component to it on mount.\n    useEffect(function () { return groupDragControls && groupDragControls.subscribe(dragControls); }, [dragControls]);\n    // Mount the drag controls with the visualElement\n    useEffect(function () { return dragControls.mount(visualElement); }, []);\n}\n\nexport { useDrag };\n","import { __rest, __assign, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\n\nfunction isCSSVariable(value) {\n    return typeof value === \"string\" && value.startsWith(\"var(--\");\n}\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\nfunction parseCSSVariable(current) {\n    var match = cssVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    var _a = __read(match, 3), token = _a[1], fallback = _a[2];\n    return [token, fallback];\n}\nvar maxDepth = 4;\nfunction getVariableValue(current, element, depth) {\n    if (depth === void 0) { depth = 1; }\n    invariant(depth <= maxDepth, \"Max CSS variable fallback depth detected in property \\\"\" + current + \"\\\". This may indicate a circular fallback dependency.\");\n    var _a = __read(parseCSSVariable(current), 2), token = _a[0], fallback = _a[1];\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    var resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        return resolved.trim();\n    }\n    else if (isCSSVariable(fallback)) {\n        // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n        return getVariableValue(fallback, element, depth + 1);\n    }\n    else {\n        return fallback;\n    }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\nfunction resolveCSSVariables(visualElement, _a, transitionEnd) {\n    var _b;\n    var target = __rest(_a, []);\n    var element = visualElement.getInstance();\n    if (!(element instanceof HTMLElement))\n        return { target: target, transitionEnd: transitionEnd };\n    // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n    // only if they change but I think this reads clearer and this isn't a performance-critical path.\n    if (transitionEnd) {\n        transitionEnd = __assign({}, transitionEnd);\n    }\n    // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n    visualElement.forEachValue(function (value) {\n        var current = value.get();\n        if (!isCSSVariable(current))\n            return;\n        var resolved = getVariableValue(current, element);\n        if (resolved)\n            value.set(resolved);\n    });\n    // Cycle through every target property and resolve CSS variables. Currently\n    // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n    for (var key in target) {\n        var current = target[key];\n        if (!isCSSVariable(current))\n            continue;\n        var resolved = getVariableValue(current, element);\n        if (!resolved)\n            continue;\n        // Clone target if it hasn't already been\n        target[key] = resolved;\n        // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n        // CSS variable. This will ensure that after the animation the component will reflect\n        // changes in the value of the CSS variable.\n        if (transitionEnd)\n            (_b = transitionEnd[key]) !== null && _b !== void 0 ? _b : (transitionEnd[key] = current);\n    }\n    return { target: target, transitionEnd: transitionEnd };\n}\n\nexport { cssVariableRegex, parseCSSVariable, resolveCSSVariables };\n","import { __assign } from 'tslib';\nimport { complex, px } from 'style-value-types';\nimport { mix } from 'popmotion';\nimport { cssVariableRegex } from '../utils/css-variables-conversion.js';\n\nfunction pixelsToPercent(pixels, axis) {\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nfunction correctBorderRadius(latest, _layoutState, _a) {\n    var target = _a.target;\n    /**\n     * If latest is a string, if it's a percentage we can return immediately as it's\n     * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n     */\n    if (typeof latest === \"string\") {\n        if (px.test(latest)) {\n            latest = parseFloat(latest);\n        }\n        else {\n            return latest;\n        }\n    }\n    /**\n     * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n     * pixel value as a percentage of each axis\n     */\n    var x = pixelsToPercent(latest, target.x);\n    var y = pixelsToPercent(latest, target.y);\n    return x + \"% \" + y + \"%\";\n}\nvar varToken = \"_$css\";\nfunction correctBoxShadow(latest, _a) {\n    var delta = _a.delta, treeScale = _a.treeScale;\n    var original = latest;\n    /**\n     * We need to first strip and store CSS variables from the string.\n     */\n    var containsCSSVariables = latest.includes(\"var(\");\n    var cssVariables = [];\n    if (containsCSSVariables) {\n        latest = latest.replace(cssVariableRegex, function (match) {\n            cssVariables.push(match);\n            return varToken;\n        });\n    }\n    var shadow = complex.parse(latest);\n    // TODO: Doesn't support multiple shadows\n    if (shadow.length > 5)\n        return original;\n    var template = complex.createTransformer(latest);\n    var offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n    // Calculate the overall context scale\n    var xScale = delta.x.scale * treeScale.x;\n    var yScale = delta.y.scale * treeScale.y;\n    shadow[0 + offset] /= xScale;\n    shadow[1 + offset] /= yScale;\n    /**\n     * Ideally we'd correct x and y scales individually, but because blur and\n     * spread apply to both we have to take a scale average and apply that instead.\n     * We could potentially improve the outcome of this by incorporating the ratio between\n     * the two scales.\n     */\n    var averageScale = mix(xScale, yScale, 0.5);\n    // Blur\n    if (typeof shadow[2 + offset] === \"number\")\n        shadow[2 + offset] /= averageScale;\n    // Spread\n    if (typeof shadow[3 + offset] === \"number\")\n        shadow[3 + offset] /= averageScale;\n    var output = template(shadow);\n    if (containsCSSVariables) {\n        var i_1 = 0;\n        output = output.replace(varToken, function () {\n            var cssVariable = cssVariables[i_1];\n            i_1++;\n            return cssVariable;\n        });\n    }\n    return output;\n}\nvar borderCorrectionDefinition = {\n    process: correctBorderRadius,\n};\nvar defaultScaleCorrectors = {\n    borderRadius: __assign(__assign({}, borderCorrectionDefinition), { applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ] }),\n    borderTopLeftRadius: borderCorrectionDefinition,\n    borderTopRightRadius: borderCorrectionDefinition,\n    borderBottomLeftRadius: borderCorrectionDefinition,\n    borderBottomRightRadius: borderCorrectionDefinition,\n    boxShadow: {\n        process: correctBoxShadow,\n    },\n};\n\nexport { correctBorderRadius, correctBoxShadow, defaultScaleCorrectors, pixelsToPercent };\n","import { __extends, __rest, __assign, __read } from 'tslib';\nimport * as React from 'react';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { startAnimation, getValueTransition } from '../../../animation/utils/transitions.js';\nimport { checkIfParentHasChanged, calcRelativeOffset, tweenAxis } from './utils.js';\nimport { VisibilityAction } from '../../../components/AnimateSharedLayout/types.js';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.js';\nimport { axisBox } from '../../../utils/geometry/index.js';\nimport { addScaleCorrection } from '../../../render/dom/projection/scale-correction.js';\nimport { defaultScaleCorrectors } from '../../../render/dom/projection/default-scale-correctors.js';\n\nvar progressTarget = 1000;\nvar Animate = /** @class */ (function (_super) {\n    __extends(Animate, _super);\n    function Animate() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * A mutable object that tracks the target viewport box\n         * for the current animation frame.\n         */\n        _this.frameTarget = axisBox();\n        /**\n         * The current animation target, we use this to check whether to start\n         * a new animation or continue the existing one.\n         */\n        _this.currentAnimationTarget = axisBox();\n        /**\n         * Track whether we're animating this axis.\n         */\n        _this.isAnimating = {\n            x: false,\n            y: false,\n        };\n        _this.stopAxisAnimation = {\n            x: undefined,\n            y: undefined,\n        };\n        _this.isAnimatingTree = false;\n        _this.animate = function (target, origin, _a) {\n            if (_a === void 0) { _a = {}; }\n            var originBox = _a.originBox, targetBox = _a.targetBox, visibilityAction = _a.visibilityAction, shouldStackAnimate = _a.shouldStackAnimate, onComplete = _a.onComplete, prevParent = _a.prevParent, config = __rest(_a, [\"originBox\", \"targetBox\", \"visibilityAction\", \"shouldStackAnimate\", \"onComplete\", \"prevParent\"]);\n            var _b = _this.props, visualElement = _b.visualElement, layout = _b.layout;\n            /**\n             * Early return if we've been instructed not to animate this render.\n             */\n            if (shouldStackAnimate === false) {\n                _this.isAnimatingTree = false;\n                return _this.safeToRemove();\n            }\n            /**\n             * Prioritise tree animations\n             */\n            if (_this.isAnimatingTree && shouldStackAnimate !== true) {\n                return;\n            }\n            else if (shouldStackAnimate) {\n                _this.isAnimatingTree = true;\n            }\n            /**\n             * Allow the measured origin (prev bounding box) and target (actual layout) to be\n             * overridden by the provided config.\n             */\n            origin = originBox || origin;\n            target = targetBox || target;\n            /**\n             * If this element has a projecting parent, there's an opportunity to animate\n             * it relatively to that parent rather than relatively to the viewport. This\n             * allows us to add orchestrated animations.\n             */\n            var isRelative = false;\n            var projectionParent = visualElement.getProjectionParent();\n            if (projectionParent) {\n                var prevParentViewportBox = projectionParent.prevViewportBox;\n                var parentLayout = projectionParent.getLayoutState().layout;\n                /**\n                 * If we're being provided a previous parent VisualElement by AnimateSharedLayout\n                 */\n                if (prevParent) {\n                    /**\n                     * If we've been provided an explicit target box it means we're animating back\n                     * to this previous parent. So we can make a relative box by comparing to the previous\n                     * parent's layout\n                     */\n                    if (targetBox) {\n                        parentLayout = prevParent.getLayoutState().layout;\n                    }\n                    /**\n                     * Likewise if we've been provided an explicit origin box it means we're\n                     * animating out from a different element. So we should figure out where that was\n                     * on screen relative to the new parent element.\n                     */\n                    if (originBox &&\n                        !checkIfParentHasChanged(prevParent, projectionParent) &&\n                        prevParent.prevViewportBox) {\n                        prevParentViewportBox = prevParent.prevViewportBox;\n                    }\n                }\n                if (prevParentViewportBox &&\n                    isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox)) {\n                    isRelative = true;\n                    origin = calcRelativeOffset(prevParentViewportBox, origin);\n                    target = calcRelativeOffset(parentLayout, target);\n                }\n            }\n            var boxHasMoved = hasMoved(origin, target);\n            var animations = eachAxis(function (axis) {\n                var _a, _b;\n                /**\n                 * If layout is set to \"position\", we can resize the origin box based on the target\n                 * box and only animate its position.\n                 */\n                if (layout === \"position\") {\n                    var targetLength = target[axis].max - target[axis].min;\n                    origin[axis].max = origin[axis].min + targetLength;\n                }\n                if (visualElement.projection.isTargetLocked) {\n                    return;\n                }\n                else if (visibilityAction !== undefined) {\n                    visualElement.setVisibility(visibilityAction === VisibilityAction.Show);\n                }\n                else if (boxHasMoved) {\n                    // If the box has moved, animate between it's current visual state and its\n                    // final state\n                    return _this.animateAxis(axis, target[axis], origin[axis], __assign(__assign({}, config), { isRelative: isRelative }));\n                }\n                else {\n                    (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a);\n                    // If the box has remained in the same place, immediately set the axis target\n                    // to the final desired state\n                    return visualElement.setProjectionTargetAxis(axis, target[axis].min, target[axis].max, isRelative);\n                }\n            });\n            // Force a render to ensure there's no flash of uncorrected bounding box.\n            visualElement.syncRender();\n            /**\n             * If this visualElement isn't present (ie it's been removed from the tree by the user but\n             * kept in by the tree by AnimatePresence) then call safeToRemove when all axis animations\n             * have successfully finished.\n             */\n            return Promise.all(animations).then(function () {\n                _this.isAnimatingTree = false;\n                onComplete && onComplete();\n                visualElement.notifyLayoutAnimationComplete();\n            });\n        };\n        return _this;\n    }\n    Animate.prototype.componentDidMount = function () {\n        var _this = this;\n        var visualElement = this.props.visualElement;\n        visualElement.animateMotionValue = startAnimation;\n        visualElement.enableLayoutProjection();\n        this.unsubLayoutReady = visualElement.onLayoutUpdate(this.animate);\n        visualElement.layoutSafeToRemove = function () { return _this.safeToRemove(); };\n        addScaleCorrection(defaultScaleCorrectors);\n    };\n    Animate.prototype.componentWillUnmount = function () {\n        var _this = this;\n        this.unsubLayoutReady();\n        eachAxis(function (axis) { var _a, _b; return (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a); });\n    };\n    /**\n     * TODO: This manually performs animations on the visualElement's layout progress\n     * values. It'd be preferable to amend the startLayoutAxisAnimation\n     * API to accept more custom animations like this.\n     */\n    Animate.prototype.animateAxis = function (axis, target, origin, _a) {\n        var _this = this;\n        var _b, _c;\n        var _d = _a === void 0 ? {} : _a, transition = _d.transition, isRelative = _d.isRelative;\n        /**\n         * If we're not animating to a new target, don't run this animation\n         */\n        if (this.isAnimating[axis] &&\n            axisIsEqual(target, this.currentAnimationTarget[axis])) {\n            return;\n        }\n        (_c = (_b = this.stopAxisAnimation)[axis]) === null || _c === void 0 ? void 0 : _c.call(_b);\n        this.isAnimating[axis] = true;\n        var visualElement = this.props.visualElement;\n        var frameTarget = this.frameTarget[axis];\n        var layoutProgress = visualElement.getProjectionAnimationProgress()[axis];\n        /**\n         * Set layout progress back to 0. We set it twice to hard-reset any velocity that might\n         * be re-incoporated into a subsequent spring animation.\n         */\n        layoutProgress.clearListeners();\n        layoutProgress.set(0);\n        layoutProgress.set(0);\n        /**\n         * Create an animation function to run once per frame. This will tween the visual bounding box from\n         * origin to target using the latest progress value.\n         */\n        var frame = function () {\n            // Convert the latest layoutProgress, which is a value from 0-1000, into a 0-1 progress\n            var p = layoutProgress.get() / progressTarget;\n            // Tween the axis and update the visualElement with the latest values\n            tweenAxis(frameTarget, origin, target, p);\n            visualElement.setProjectionTargetAxis(axis, frameTarget.min, frameTarget.max, isRelative);\n        };\n        // Synchronously run a frame to ensure there's no flash of the uncorrected bounding box.\n        frame();\n        // Create a function to stop animation on this specific axis\n        var unsubscribeProgress = layoutProgress.onChange(frame);\n        this.stopAxisAnimation[axis] = function () {\n            _this.isAnimating[axis] = false;\n            layoutProgress.stop();\n            unsubscribeProgress();\n        };\n        this.currentAnimationTarget[axis] = target;\n        var layoutTransition = transition ||\n            visualElement.getDefaultTransition() ||\n            defaultLayoutTransition;\n        // Start the animation on this axis\n        var animation = startAnimation(axis === \"x\" ? \"layoutX\" : \"layoutY\", layoutProgress, progressTarget, layoutTransition && getValueTransition(layoutTransition, \"layout\")).then(this.stopAxisAnimation[axis]);\n        return animation;\n    };\n    Animate.prototype.safeToRemove = function () {\n        var _a, _b;\n        (_b = (_a = this.props).safeToRemove) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    Animate.prototype.render = function () {\n        return null;\n    };\n    return Animate;\n}(React.Component));\nfunction AnimateLayoutContextProvider(props) {\n    var _a = __read(usePresence(), 2), safeToRemove = _a[1];\n    return React.createElement(Animate, __assign({}, props, { safeToRemove: safeToRemove }));\n}\nfunction hasMoved(a, b) {\n    return (!isZeroBox(a) &&\n        !isZeroBox(b) &&\n        (!axisIsEqual(a.x, b.x) || !axisIsEqual(a.y, b.y)));\n}\nvar zeroAxis = { min: 0, max: 0 };\nfunction isZeroBox(a) {\n    return axisIsEqual(a.x, zeroAxis) && axisIsEqual(a.y, zeroAxis);\n}\nfunction axisIsEqual(a, b) {\n    return a.min === b.min && a.max === b.max;\n}\nvar defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nfunction isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox) {\n    return prevParent || (!prevParent && !(originBox || targetBox));\n}\n\nexport { AnimateLayoutContextProvider };\n","import { __extends, __assign } from 'tslib';\nimport React__default, { useContext } from 'react';\nimport { isSharedLayout, SharedLayoutContext, FramerTreeLayoutContext } from '../../../context/SharedLayoutContext.js';\nimport { snapshotViewportBox } from '../../../render/dom/projection/utils.js';\n\n/**\n * This component is responsible for scheduling the measuring of the motion component\n */\nvar Measure = /** @class */ (function (_super) {\n    __extends(Measure, _super);\n    function Measure() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * If this is a child of a SyncContext, register the VisualElement with it on mount.\n     */\n    Measure.prototype.componentDidMount = function () {\n        var _a = this.props, syncLayout = _a.syncLayout, framerSyncLayout = _a.framerSyncLayout, visualElement = _a.visualElement;\n        isSharedLayout(syncLayout) && syncLayout.register(visualElement);\n        isSharedLayout(framerSyncLayout) &&\n            framerSyncLayout.register(visualElement);\n        visualElement.onUnmount(function () {\n            if (isSharedLayout(syncLayout)) {\n                syncLayout.remove(visualElement);\n            }\n            if (isSharedLayout(framerSyncLayout)) {\n                framerSyncLayout.remove(visualElement);\n            }\n        });\n    };\n    /**\n     * If this is a child of a SyncContext, notify it that it needs to re-render. It will then\n     * handle the snapshotting.\n     *\n     * If it is stand-alone component, add it to the batcher.\n     */\n    Measure.prototype.getSnapshotBeforeUpdate = function () {\n        var _a = this.props, syncLayout = _a.syncLayout, visualElement = _a.visualElement;\n        if (isSharedLayout(syncLayout)) {\n            syncLayout.syncUpdate();\n        }\n        else {\n            snapshotViewportBox(visualElement);\n            syncLayout.add(visualElement);\n        }\n        return null;\n    };\n    Measure.prototype.componentDidUpdate = function () {\n        var syncLayout = this.props.syncLayout;\n        if (!isSharedLayout(syncLayout))\n            syncLayout.flush();\n    };\n    Measure.prototype.render = function () {\n        return null;\n    };\n    return Measure;\n}(React__default.Component));\nfunction MeasureContextProvider(props) {\n    var syncLayout = useContext(SharedLayoutContext);\n    var framerSyncLayout = useContext(FramerTreeLayoutContext);\n    return (React__default.createElement(Measure, __assign({}, props, { syncLayout: syncLayout, framerSyncLayout: framerSyncLayout })));\n}\n\nexport { MeasureContextProvider };\n","import { AnimateLayoutContextProvider } from './Animate.js';\nimport { MeasureContextProvider } from './Measure.js';\n\nvar layoutAnimations = {\n    measureLayout: MeasureContextProvider,\n    layoutAnimation: AnimateLayoutContextProvider,\n};\n\nexport { layoutAnimations };\n","import { axisBox, delta } from '../../utils/geometry/index.js';\n\nvar createProjectionState = function () { return ({\n    isEnabled: false,\n    isHydrated: false,\n    isTargetLocked: false,\n    target: axisBox(),\n    targetFinal: axisBox(),\n}); };\nfunction createLayoutState() {\n    return {\n        isHydrated: false,\n        layout: axisBox(),\n        layoutCorrected: axisBox(),\n        treeScale: { x: 1, y: 1 },\n        delta: delta(),\n        deltaFinal: delta(),\n        deltaTransform: \"\",\n    };\n}\nvar zeroLayout = createLayoutState();\n\nexport { createLayoutState, createProjectionState, zeroLayout };\n","import { zeroLayout } from '../../utils/state.js';\n\n/**\n * Build a transform style that takes a calculated delta between the element's current\n * space on screen and projects it into the desired space.\n */\nfunction buildLayoutProjectionTransform(_a, treeScale, latestTransform) {\n    var x = _a.x, y = _a.y;\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    var xTranslate = x.translate / treeScale.x;\n    var yTranslate = y.translate / treeScale.y;\n    var transform = \"translate3d(\" + xTranslate + \"px, \" + yTranslate + \"px, 0) \";\n    if (latestTransform) {\n        var rotate = latestTransform.rotate, rotateX = latestTransform.rotateX, rotateY = latestTransform.rotateY;\n        if (rotate)\n            transform += \"rotate(\" + rotate + \") \";\n        if (rotateX)\n            transform += \"rotateX(\" + rotateX + \") \";\n        if (rotateY)\n            transform += \"rotateY(\" + rotateY + \") \";\n    }\n    transform += \"scale(\" + x.scale + \", \" + y.scale + \")\";\n    return !latestTransform && transform === identityProjection ? \"\" : transform;\n}\n/**\n * Take the calculated delta origin and apply it as a transform string.\n */\nfunction buildLayoutProjectionTransformOrigin(_a) {\n    var deltaFinal = _a.deltaFinal;\n    return deltaFinal.x.origin * 100 + \"% \" + deltaFinal.y.origin * 100 + \"% 0\";\n}\nvar identityProjection = buildLayoutProjectionTransform(zeroLayout.delta, zeroLayout.treeScale, { x: 1, y: 1 });\n\nexport { buildLayoutProjectionTransform, buildLayoutProjectionTransformOrigin, identityProjection };\n","import { __spreadArray, __read } from 'tslib';\nimport { SubscriptionManager } from '../../utils/subscription-manager.js';\n\nvar names = [\n    \"LayoutMeasure\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutUpdate\",\n    \"ViewportBoxUpdate\",\n    \"Update\",\n    \"Render\",\n    \"AnimationComplete\",\n    \"LayoutAnimationComplete\",\n    \"AnimationStart\",\n    \"SetAxisTarget\",\n    \"Unmount\",\n];\nfunction createLifecycles() {\n    var managers = names.map(function () { return new SubscriptionManager(); });\n    var propSubscriptions = {};\n    var lifecycles = {\n        clearAllListeners: function () { return managers.forEach(function (manager) { return manager.clear(); }); },\n        updatePropListeners: function (props) {\n            return names.forEach(function (name) {\n                var _a;\n                (_a = propSubscriptions[name]) === null || _a === void 0 ? void 0 : _a.call(propSubscriptions);\n                var on = \"on\" + name;\n                var propListener = props[on];\n                if (propListener) {\n                    propSubscriptions[name] = lifecycles[on](propListener);\n                }\n            });\n        },\n    };\n    managers.forEach(function (manager, i) {\n        lifecycles[\"on\" + names[i]] = function (handler) { return manager.add(handler); };\n        lifecycles[\"notify\" + names[i]] = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return manager.notify.apply(manager, __spreadArray([], __read(args)));\n        };\n    });\n    return lifecycles;\n}\n\nexport { createLifecycles };\n","import { resetBox, applyTreeDeltas } from '../../utils/geometry/delta-apply.js';\nimport { updateBoxDelta } from '../../utils/geometry/delta-calc.js';\n\nfunction updateLayoutDeltas(_a, _b, treePath, transformOrigin) {\n    var delta = _a.delta, layout = _a.layout, layoutCorrected = _a.layoutCorrected, treeScale = _a.treeScale;\n    var target = _b.target;\n    /**\n     * Reset the corrected box with the latest values from box, as we're then going\n     * to perform mutative operations on it.\n     */\n    resetBox(layoutCorrected, layout);\n    /**\n     * Apply all the parent deltas to this box to produce the corrected box. This\n     * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n     */\n    applyTreeDeltas(layoutCorrected, treeScale, treePath);\n    /**\n     * Update the delta between the corrected box and the target box before user-set transforms were applied.\n     * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n     * for our layout reprojection, but still allow them to be scaled correctly by the user.\n     * It might be that to simplify this we may want to accept that user-set scale is also corrected\n     * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n     * to allow people to choose whether these styles are corrected based on just the\n     * layout reprojection or the final bounding box.\n     */\n    updateBoxDelta(delta, layoutCorrected, target, transformOrigin);\n}\n\nexport { updateLayoutDeltas };\n","import { addUniqueItem, removeItem } from '../../utils/array.js';\nimport { compareByDepth } from './compare-by-depth.js';\n\nvar FlatTree = /** @class */ (function () {\n    function FlatTree() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    FlatTree.prototype.add = function (child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    };\n    FlatTree.prototype.remove = function (child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    };\n    FlatTree.prototype.forEach = function (callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    };\n    return FlatTree;\n}());\n\nexport { FlatTree };\n","import { __assign, __spreadArray, __read } from 'tslib';\nimport sync, { cancelSync } from 'framesync';\nimport { pipe } from 'popmotion';\nimport { Presence } from '../components/AnimateSharedLayout/types.js';\nimport { eachAxis } from '../utils/each-axis.js';\nimport { axisBox } from '../utils/geometry/index.js';\nimport { removeBoxTransforms, applyBoxTransforms } from '../utils/geometry/delta-apply.js';\nimport { calcRelativeBox, updateBoxDelta } from '../utils/geometry/delta-calc.js';\nimport { motionValue } from '../value/index.js';\nimport { isMotionValue } from '../value/utils/is-motion-value.js';\nimport { buildLayoutProjectionTransform } from './html/utils/build-projection-transform.js';\nimport { variantPriorityOrder } from './utils/animation-state.js';\nimport { createLifecycles } from './utils/lifecycles.js';\nimport { updateMotionValuesFromProps } from './utils/motion-values.js';\nimport { updateLayoutDeltas } from './utils/projection.js';\nimport { createLayoutState, createProjectionState } from './utils/state.js';\nimport { FlatTree } from './utils/flat-tree.js';\nimport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel } from './utils/variants.js';\nimport { setCurrentViewportBox } from './dom/projection/relative-set.js';\nimport { isDraggable } from './utils/is-draggable.js';\n\nvar visualElement = function (_a) {\n    var _b = _a.treeType, treeType = _b === void 0 ? \"\" : _b, build = _a.build, getBaseTarget = _a.getBaseTarget, makeTargetAnimatable = _a.makeTargetAnimatable, measureViewportBox = _a.measureViewportBox, renderInstance = _a.render, readValueFromInstance = _a.readValueFromInstance, resetTransform = _a.resetTransform, restoreTransform = _a.restoreTransform, removeValueFromRenderState = _a.removeValueFromRenderState, sortNodePosition = _a.sortNodePosition, scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps;\n    return function (_a, options) {\n        var parent = _a.parent, props = _a.props, presenceId = _a.presenceId, blockInitialAnimation = _a.blockInitialAnimation, visualState = _a.visualState;\n        if (options === void 0) { options = {}; }\n        var latestValues = visualState.latestValues, renderState = visualState.renderState;\n        /**\n         * The instance of the render-specific node that will be hydrated by the\n         * exposed React ref. So for example, this visual element can host a\n         * HTMLElement, plain object, or Three.js object. The functions provided\n         * in VisualElementConfig allow us to interface with this instance.\n         */\n        var instance;\n        /**\n         * Manages the subscriptions for a visual element's lifecycle, for instance\n         * onRender and onViewportBoxUpdate.\n         */\n        var lifecycles = createLifecycles();\n        /**\n         *\n         */\n        var projection = createProjectionState();\n        /**\n         * A reference to the nearest projecting parent. This is either\n         * undefined if we haven't looked for the nearest projecting parent,\n         * false if there is no parent performing layout projection, or a reference\n         * to the projecting parent.\n         */\n        var projectionParent;\n        /**\n         * This is a reference to the visual state of the \"lead\" visual element.\n         * Usually, this will be this visual element. But if it shares a layoutId\n         * with other visual elements, only one of them will be designated lead by\n         * AnimateSharedLayout. All the other visual elements will take on the visual\n         * appearance of the lead while they crossfade to it.\n         */\n        var leadProjection = projection;\n        var leadLatestValues = latestValues;\n        var unsubscribeFromLeadVisualElement;\n        /**\n         * The latest layout measurements and calculated projections. This\n         * is seperate from the target projection data in visualState as\n         * many visual elements might point to the same piece of visualState as\n         * a target, whereas they might each have different layouts and thus\n         * projection calculations needed to project into the same viewport box.\n         */\n        var layoutState = createLayoutState();\n        /**\n         *\n         */\n        var crossfader;\n        /**\n         * Keep track of whether the viewport box has been updated since the\n         * last time the layout projection was re-calculated.\n         */\n        var hasViewportBoxUpdated = false;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        var values = new Map();\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        var valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        var prevMotionValues = {};\n        /**\n         * x/y motion values that track the progress of initiated layout\n         * animations.\n         *\n         * TODO: Target for removal\n         */\n        var projectionTargetProgress;\n        /**\n         * When values are removed from all animation props we need to search\n         * for a fallback value to animate to. These values are tracked in baseTarget.\n         */\n        var baseTarget = __assign({}, latestValues);\n        // Internal methods ========================\n        /**\n         * On mount, this will be hydrated with a callback to disconnect\n         * this visual element from its parent on unmount.\n         */\n        var removeFromVariantTree;\n        /**\n         *\n         */\n        function render() {\n            if (!instance)\n                return;\n            if (element.isProjectionReady()) {\n                /**\n                 * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n                 * This is the final box that we will then project into by calculating a transform delta and\n                 * applying it to the corrected box.\n                 */\n                applyBoxTransforms(leadProjection.targetFinal, leadProjection.target, leadLatestValues);\n                /**\n                 * Update the delta between the corrected box and the final target box, after\n                 * user-set transforms are applied to it. This will be used by the renderer to\n                 * create a transform style that will reproject the element from its actual layout\n                 * into the desired bounding box.\n                 */\n                updateBoxDelta(layoutState.deltaFinal, layoutState.layoutCorrected, leadProjection.targetFinal, latestValues);\n            }\n            triggerBuild();\n            renderInstance(instance, renderState);\n        }\n        function triggerBuild() {\n            var valuesToRender = latestValues;\n            if (crossfader && crossfader.isActive()) {\n                var crossfadedValues = crossfader.getCrossfadeState(element);\n                if (crossfadedValues)\n                    valuesToRender = crossfadedValues;\n            }\n            build(element, renderState, valuesToRender, leadProjection, layoutState, options, props);\n        }\n        function update() {\n            lifecycles.notifyUpdate(latestValues);\n        }\n        function updateLayoutProjection() {\n            if (!element.isProjectionReady())\n                return;\n            var delta = layoutState.delta, treeScale = layoutState.treeScale;\n            var prevTreeScaleX = treeScale.x;\n            var prevTreeScaleY = treeScale.y;\n            var prevDeltaTransform = layoutState.deltaTransform;\n            updateLayoutDeltas(layoutState, leadProjection, element.path, latestValues);\n            hasViewportBoxUpdated &&\n                element.notifyViewportBoxUpdate(leadProjection.target, delta);\n            hasViewportBoxUpdated = false;\n            var deltaTransform = buildLayoutProjectionTransform(delta, treeScale);\n            if (deltaTransform !== prevDeltaTransform ||\n                // Also compare calculated treeScale, for values that rely on this only for scale correction\n                prevTreeScaleX !== treeScale.x ||\n                prevTreeScaleY !== treeScale.y) {\n                element.scheduleRender();\n            }\n            layoutState.deltaTransform = deltaTransform;\n        }\n        function updateTreeLayoutProjection() {\n            element.layoutTree.forEach(fireUpdateLayoutProjection);\n        }\n        /**\n         *\n         */\n        function bindToMotionValue(key, value) {\n            var removeOnChange = value.onChange(function (latestValue) {\n                latestValues[key] = latestValue;\n                props.onUpdate && sync.update(update, false, true);\n            });\n            var removeOnRenderRequest = value.onRenderRequest(element.scheduleRender);\n            valueSubscriptions.set(key, function () {\n                removeOnChange();\n                removeOnRenderRequest();\n            });\n        }\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't neccessarily a breaking change,\n         * more a reflection of the test.\n         */\n        var initialMotionValues = scrapeMotionValuesFromProps(props);\n        for (var key in initialMotionValues) {\n            var value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key], false);\n            }\n        }\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        var isControllingVariants = checkIfControllingVariants(props);\n        var isVariantNode = checkIfVariantNode(props);\n        var element = __assign(__assign({ treeType: treeType, \n            /**\n             * This is a mirror of the internal instance prop, which keeps\n             * VisualElement type-compatible with React's RefObject.\n             */\n            current: null, \n            /**\n             * The depth of this visual element within the visual element tree.\n             */\n            depth: parent ? parent.depth + 1 : 0, parent: parent, children: new Set(), \n            /**\n             * An ancestor path back to the root visual element. This is used\n             * by layout projection to quickly recurse back up the tree.\n             */\n            path: parent ? __spreadArray(__spreadArray([], __read(parent.path)), [parent]) : [], layoutTree: parent ? parent.layoutTree : new FlatTree(), \n            /**\n             *\n             */\n            presenceId: presenceId,\n            projection: projection, \n            /**\n             * If this component is part of the variant tree, it should track\n             * any children that are also part of the tree. This is essentially\n             * a shadow tree to simplify logic around how to stagger over children.\n             */\n            variantChildren: isVariantNode ? new Set() : undefined, \n            /**\n             * Whether this instance is visible. This can be changed imperatively\n             * by AnimateSharedLayout, is analogous to CSS's visibility in that\n             * hidden elements should take up layout, and needs enacting by the configured\n             * render function.\n             */\n            isVisible: undefined, \n            /**\n             * Normally, if a component is controlled by a parent's variants, it can\n             * rely on that ancestor to trigger animations further down the tree.\n             * However, if a component is created after its parent is mounted, the parent\n             * won't trigger that mount animation so the child needs to.\n             *\n             * TODO: This might be better replaced with a method isParentMounted\n             */\n            manuallyAnimateOnMount: Boolean(parent === null || parent === void 0 ? void 0 : parent.isMounted()), \n            /**\n             * This can be set by AnimatePresence to force components that mount\n             * at the same time as it to mount as if they have initial={false} set.\n             */\n            blockInitialAnimation: blockInitialAnimation, \n            /**\n             * Determine whether this component has mounted yet. This is mostly used\n             * by variant children to determine whether they need to trigger their\n             * own animations on mount.\n             */\n            isMounted: function () { return Boolean(instance); }, mount: function (newInstance) {\n                instance = element.current = newInstance;\n                element.pointTo(element);\n                if (isVariantNode && parent && !isControllingVariants) {\n                    removeFromVariantTree = parent === null || parent === void 0 ? void 0 : parent.addVariantChild(element);\n                }\n                parent === null || parent === void 0 ? void 0 : parent.children.add(element);\n            },\n            /**\n             *\n             */\n            unmount: function () {\n                cancelSync.update(update);\n                cancelSync.render(render);\n                cancelSync.preRender(element.updateLayoutProjection);\n                valueSubscriptions.forEach(function (remove) { return remove(); });\n                element.stopLayoutAnimation();\n                element.layoutTree.remove(element);\n                removeFromVariantTree === null || removeFromVariantTree === void 0 ? void 0 : removeFromVariantTree();\n                parent === null || parent === void 0 ? void 0 : parent.children.delete(element);\n                unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n                lifecycles.clearAllListeners();\n            },\n            /**\n             * Add a child visual element to our set of children.\n             */\n            addVariantChild: function (child) {\n                var _a;\n                var closestVariantNode = element.getClosestVariantNode();\n                if (closestVariantNode) {\n                    (_a = closestVariantNode.variantChildren) === null || _a === void 0 ? void 0 : _a.add(child);\n                    return function () { return closestVariantNode.variantChildren.delete(child); };\n                }\n            },\n            sortNodePosition: function (other) {\n                /**\n                 * If these nodes aren't even of the same type we can't compare their depth.\n                 */\n                if (!sortNodePosition || treeType !== other.treeType)\n                    return 0;\n                return sortNodePosition(element.getInstance(), other.getInstance());\n            }, \n            /**\n             * Returns the closest variant node in the tree starting from\n             * this visual element.\n             */\n            getClosestVariantNode: function () {\n                return isVariantNode ? element : parent === null || parent === void 0 ? void 0 : parent.getClosestVariantNode();\n            }, \n            /**\n             * A method that schedules an update to layout projections throughout\n             * the tree. We inherit from the parent so there's only ever one\n             * job scheduled on the next frame - that of the root visual element.\n             */\n            scheduleUpdateLayoutProjection: parent\n                ? parent.scheduleUpdateLayoutProjection\n                : function () {\n                    return sync.preRender(element.updateTreeLayoutProjection, false, true);\n                }, \n            /**\n             * Expose the latest layoutId prop.\n             */\n            getLayoutId: function () { return props.layoutId; }, \n            /**\n             * Returns the current instance.\n             */\n            getInstance: function () { return instance; }, \n            /**\n             * Get/set the latest static values.\n             */\n            getStaticValue: function (key) { return latestValues[key]; }, setStaticValue: function (key, value) { return (latestValues[key] = value); }, \n            /**\n             * Returns the latest motion value state. Currently only used to take\n             * a snapshot of the visual element - perhaps this can return the whole\n             * visual state\n             */\n            getLatestValues: function () { return latestValues; }, \n            /**\n             * Set the visiblity of the visual element. If it's changed, schedule\n             * a render to reflect these changes.\n             */\n            setVisibility: function (visibility) {\n                if (element.isVisible === visibility)\n                    return;\n                element.isVisible = visibility;\n                element.scheduleRender();\n            },\n            /**\n             * Make a target animatable by Popmotion. For instance, if we're\n             * trying to animate width from 100px to 100vw we need to measure 100vw\n             * in pixels to determine what we really need to animate to. This is also\n             * pluggable to support Framer's custom value types like Color,\n             * and CSS variables.\n             */\n            makeTargetAnimatable: function (target, canMutate) {\n                if (canMutate === void 0) { canMutate = true; }\n                return makeTargetAnimatable(element, target, props, canMutate);\n            },\n            // Motion values ========================\n            /**\n             * Add a motion value and bind it to this visual element.\n             */\n            addValue: function (key, value) {\n                // Remove existing value if it exists\n                if (element.hasValue(key))\n                    element.removeValue(key);\n                values.set(key, value);\n                latestValues[key] = value.get();\n                bindToMotionValue(key, value);\n            },\n            /**\n             * Remove a motion value and unbind any active subscriptions.\n             */\n            removeValue: function (key) {\n                var _a;\n                values.delete(key);\n                (_a = valueSubscriptions.get(key)) === null || _a === void 0 ? void 0 : _a();\n                valueSubscriptions.delete(key);\n                delete latestValues[key];\n                removeValueFromRenderState(key, renderState);\n            }, \n            /**\n             * Check whether we have a motion value for this key\n             */\n            hasValue: function (key) { return values.has(key); }, \n            /**\n             * Get a motion value for this key. If called with a default\n             * value, we'll create one if none exists.\n             */\n            getValue: function (key, defaultValue) {\n                var value = values.get(key);\n                if (value === undefined && defaultValue !== undefined) {\n                    value = motionValue(defaultValue);\n                    element.addValue(key, value);\n                }\n                return value;\n            }, \n            /**\n             * Iterate over our motion values.\n             */\n            forEachValue: function (callback) { return values.forEach(callback); }, \n            /**\n             * If we're trying to animate to a previously unencountered value,\n             * we need to check for it in our state and as a last resort read it\n             * directly from the instance (which might have performance implications).\n             */\n            readValue: function (key) { var _a; return (_a = latestValues[key]) !== null && _a !== void 0 ? _a : readValueFromInstance(instance, key, options); }, \n            /**\n             * Set the base target to later animate back to. This is currently\n             * only hydrated on creation and when we first read a value.\n             */\n            setBaseTarget: function (key, value) {\n                baseTarget[key] = value;\n            },\n            /**\n             * Find the base target for a value thats been removed from all animation\n             * props.\n             */\n            getBaseTarget: function (key) {\n                if (getBaseTarget) {\n                    var target = getBaseTarget(props, key);\n                    if (target !== undefined && !isMotionValue(target))\n                        return target;\n                }\n                return baseTarget[key];\n            } }, lifecycles), { \n            /**\n             * Build the renderer state based on the latest visual state.\n             */\n            build: function () {\n                triggerBuild();\n                return renderState;\n            },\n            /**\n             * Schedule a render on the next animation frame.\n             */\n            scheduleRender: function () {\n                sync.render(render, false, true);\n            }, \n            /**\n             * Synchronously fire render. It's prefered that we batch renders but\n             * in many circumstances, like layout measurement, we need to run this\n             * synchronously. However in those instances other measures should be taken\n             * to batch reads/writes.\n             */\n            syncRender: render, \n            /**\n             * Update the provided props. Ensure any newly-added motion values are\n             * added to our map, old ones removed, and listeners updated.\n             */\n            setProps: function (newProps) {\n                props = newProps;\n                lifecycles.updatePropListeners(newProps);\n                prevMotionValues = updateMotionValuesFromProps(element, scrapeMotionValuesFromProps(props), prevMotionValues);\n            }, getProps: function () { return props; }, \n            // Variants ==============================\n            /**\n             * Returns the variant definition with a given name.\n             */\n            getVariant: function (name) { var _a; return (_a = props.variants) === null || _a === void 0 ? void 0 : _a[name]; }, \n            /**\n             * Returns the defined default transition on this component.\n             */\n            getDefaultTransition: function () { return props.transition; }, \n            /**\n             * Used by child variant nodes to get the closest ancestor variant props.\n             */\n            getVariantContext: function (startAtParent) {\n                if (startAtParent === void 0) { startAtParent = false; }\n                if (startAtParent)\n                    return parent === null || parent === void 0 ? void 0 : parent.getVariantContext();\n                if (!isControllingVariants) {\n                    var context_1 = (parent === null || parent === void 0 ? void 0 : parent.getVariantContext()) || {};\n                    if (props.initial !== undefined) {\n                        context_1.initial = props.initial;\n                    }\n                    return context_1;\n                }\n                var context = {};\n                for (var i = 0; i < numVariantProps; i++) {\n                    var name_1 = variantProps[i];\n                    var prop = props[name_1];\n                    if (isVariantLabel(prop) || prop === false) {\n                        context[name_1] = prop;\n                    }\n                }\n                return context;\n            },\n            // Layout projection ==============================\n            /**\n             * Enable layout projection for this visual element. Won't actually\n             * occur until we also have hydrated layout measurements.\n             */\n            enableLayoutProjection: function () {\n                projection.isEnabled = true;\n                element.layoutTree.add(element);\n            },\n            /**\n             * Lock the projection target, for instance when dragging, so\n             * nothing else can try and animate it.\n             */\n            lockProjectionTarget: function () {\n                projection.isTargetLocked = true;\n            },\n            unlockProjectionTarget: function () {\n                element.stopLayoutAnimation();\n                projection.isTargetLocked = false;\n            }, getLayoutState: function () { return layoutState; }, setCrossfader: function (newCrossfader) {\n                crossfader = newCrossfader;\n            }, isProjectionReady: function () {\n                return projection.isEnabled &&\n                    projection.isHydrated &&\n                    layoutState.isHydrated;\n            }, \n            /**\n             * Start a layout animation on a given axis.\n             */\n            startLayoutAnimation: function (axis, transition, isRelative) {\n                if (isRelative === void 0) { isRelative = false; }\n                var progress = element.getProjectionAnimationProgress()[axis];\n                var _a = isRelative\n                    ? projection.relativeTarget[axis]\n                    : projection.target[axis], min = _a.min, max = _a.max;\n                var length = max - min;\n                progress.clearListeners();\n                progress.set(min);\n                progress.set(min); // Set twice to hard-reset velocity\n                progress.onChange(function (v) {\n                    element.setProjectionTargetAxis(axis, v, v + length, isRelative);\n                });\n                return element.animateMotionValue(axis, progress, 0, transition);\n            },\n            /**\n             * Stop layout animations.\n             */\n            stopLayoutAnimation: function () {\n                eachAxis(function (axis) {\n                    return element.getProjectionAnimationProgress()[axis].stop();\n                });\n            },\n            /**\n             * Measure the current viewport box with or without transforms.\n             * Only measures axis-aligned boxes, rotate and skew must be manually\n             * removed with a re-render to work.\n             */\n            measureViewportBox: function (withTransform) {\n                if (withTransform === void 0) { withTransform = true; }\n                var viewportBox = measureViewportBox(instance, options);\n                if (!withTransform)\n                    removeBoxTransforms(viewportBox, latestValues);\n                return viewportBox;\n            },\n            /**\n             * Get the motion values tracking the layout animations on each\n             * axis. Lazy init if not already created.\n             */\n            getProjectionAnimationProgress: function () {\n                projectionTargetProgress || (projectionTargetProgress = {\n                    x: motionValue(0),\n                    y: motionValue(0),\n                });\n                return projectionTargetProgress;\n            },\n            /**\n             * Update the projection of a single axis. Schedule an update to\n             * the tree layout projection.\n             */\n            setProjectionTargetAxis: function (axis, min, max, isRelative) {\n                if (isRelative === void 0) { isRelative = false; }\n                var target;\n                if (isRelative) {\n                    if (!projection.relativeTarget) {\n                        projection.relativeTarget = axisBox();\n                    }\n                    target = projection.relativeTarget[axis];\n                }\n                else {\n                    projection.relativeTarget = undefined;\n                    target = projection.target[axis];\n                }\n                projection.isHydrated = true;\n                target.min = min;\n                target.max = max;\n                // Flag that we want to fire the onViewportBoxUpdate event handler\n                hasViewportBoxUpdated = true;\n                lifecycles.notifySetAxisTarget();\n            },\n            /**\n             * Rebase the projection target on top of the provided viewport box\n             * or the measured layout. This ensures that non-animating elements\n             * don't fall out of sync differences in measurements vs projections\n             * after a page scroll or other relayout.\n             */\n            rebaseProjectionTarget: function (force, box) {\n                if (box === void 0) { box = layoutState.layout; }\n                var _a = element.getProjectionAnimationProgress(), x = _a.x, y = _a.y;\n                var shouldRebase = !projection.relativeTarget &&\n                    !projection.isTargetLocked &&\n                    !x.isAnimating() &&\n                    !y.isAnimating();\n                if (force || shouldRebase) {\n                    eachAxis(function (axis) {\n                        var _a = box[axis], min = _a.min, max = _a.max;\n                        element.setProjectionTargetAxis(axis, min, max);\n                    });\n                }\n            },\n            /**\n             * Notify the visual element that its layout is up-to-date.\n             * Currently Animate.tsx uses this to check whether a layout animation\n             * needs to be performed.\n             */\n            notifyLayoutReady: function (config) {\n                setCurrentViewportBox(element);\n                element.notifyLayoutUpdate(layoutState.layout, element.prevViewportBox || layoutState.layout, config);\n            }, \n            /**\n             * Temporarily reset the transform of the instance.\n             */\n            resetTransform: function () { return resetTransform(element, instance, props); }, restoreTransform: function () { return restoreTransform(instance, renderState); }, updateLayoutProjection: updateLayoutProjection,\n            updateTreeLayoutProjection: function () {\n                element.layoutTree.forEach(fireResolveRelativeTargetBox);\n                /**\n                 * Schedule the projection updates at the end of the current preRender\n                 * step. This will ensure that all layout trees will first resolve\n                 * relative projection boxes into viewport boxes, and *then*\n                 * update projections.\n                 */\n                sync.preRender(updateTreeLayoutProjection, false, true);\n                // sync.postRender(() => element.scheduleUpdateLayoutProjection())\n            },\n            getProjectionParent: function () {\n                if (projectionParent === undefined) {\n                    var foundParent = false;\n                    // Search backwards through the tree path\n                    for (var i = element.path.length - 1; i >= 0; i--) {\n                        var ancestor = element.path[i];\n                        if (ancestor.projection.isEnabled) {\n                            foundParent = ancestor;\n                            break;\n                        }\n                    }\n                    projectionParent = foundParent;\n                }\n                return projectionParent;\n            },\n            resolveRelativeTargetBox: function () {\n                var relativeParent = element.getProjectionParent();\n                if (!projection.relativeTarget || !relativeParent)\n                    return;\n                calcRelativeBox(projection, relativeParent.projection);\n                if (isDraggable(relativeParent)) {\n                    var target = projection.target;\n                    applyBoxTransforms(target, target, relativeParent.getLatestValues());\n                }\n            },\n            shouldResetTransform: function () {\n                return Boolean(props._layoutResetTransform);\n            },\n            /**\n             *\n             */\n            pointTo: function (newLead) {\n                leadProjection = newLead.projection;\n                leadLatestValues = newLead.getLatestValues();\n                /**\n                 * Subscribe to lead component's layout animations\n                 */\n                unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n                unsubscribeFromLeadVisualElement = pipe(newLead.onSetAxisTarget(element.scheduleUpdateLayoutProjection), newLead.onLayoutAnimationComplete(function () {\n                    var _a;\n                    if (element.isPresent) {\n                        element.presence = Presence.Present;\n                    }\n                    else {\n                        (_a = element.layoutSafeToRemove) === null || _a === void 0 ? void 0 : _a.call(element);\n                    }\n                }));\n            }, \n            // TODO: Clean this up\n            isPresent: true, presence: Presence.Entering });\n        return element;\n    };\n};\nfunction fireResolveRelativeTargetBox(child) {\n    child.resolveRelativeTargetBox();\n}\nfunction fireUpdateLayoutProjection(child) {\n    child.updateLayoutProjection();\n}\nvar variantProps = __spreadArray([\"initial\"], __read(variantPriorityOrder));\nvar numVariantProps = variantProps.length;\n\nexport { visualElement };\n","import { motionValue } from '../../value/index.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    var _a;\n    for (var key in next) {\n        var nextValue = next[key];\n        var prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping to a new motion value, create a new motion value\n             * from that\n             */\n            element.addValue(key, motionValue(nextValue));\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                var existingValue = element.getValue(key);\n                // TODO: Only update values that aren't being animated or even looked at\n                !existingValue.hasAnimated && existingValue.set(nextValue);\n            }\n            else {\n                element.addValue(key, motionValue((_a = element.getStaticValue(key)) !== null && _a !== void 0 ? _a : nextValue));\n            }\n        }\n    }\n    // Handle removed values\n    for (var key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\n\nfunction setCurrentViewportBox(visualElement) {\n    var projectionParent = visualElement.getProjectionParent();\n    if (!projectionParent) {\n        visualElement.rebaseProjectionTarget();\n        return;\n    }\n    var relativeOffset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n    eachAxis(function (axis) {\n        visualElement.setProjectionTargetAxis(axis, relativeOffset[axis].min, relativeOffset[axis].max, true);\n    });\n}\n\nexport { setCurrentViewportBox };\n","import { __assign, __read } from 'tslib';\nimport { number, px } from 'style-value-types';\nimport { isKeyframesTarget } from '../../../animation/utils/is-keyframes-target.js';\nimport { invariant } from 'hey-listen';\nimport { transformProps } from '../../html/utils/transform.js';\nimport { findDimensionValueType } from '../value-types/dimensions.js';\n\nvar positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"x\",\n    \"y\",\n]);\nvar isPositionalKey = function (key) { return positionalKeys.has(key); };\nvar hasPositionalKey = function (target) {\n    return Object.keys(target).some(isPositionalKey);\n};\nvar setAndResetVelocity = function (value, to) {\n    // Looks odd but setting it twice doesn't render, it'll just\n    // set both prev and current to the latest value\n    value.set(to, false);\n    value.set(to);\n};\nvar isNumOrPxType = function (v) {\n    return v === number || v === px;\n};\nvar BoundingBoxDimension;\n(function (BoundingBoxDimension) {\n    BoundingBoxDimension[\"width\"] = \"width\";\n    BoundingBoxDimension[\"height\"] = \"height\";\n    BoundingBoxDimension[\"left\"] = \"left\";\n    BoundingBoxDimension[\"right\"] = \"right\";\n    BoundingBoxDimension[\"top\"] = \"top\";\n    BoundingBoxDimension[\"bottom\"] = \"bottom\";\n})(BoundingBoxDimension || (BoundingBoxDimension = {}));\nvar getPosFromMatrix = function (matrix, pos) {\n    return parseFloat(matrix.split(\", \")[pos]);\n};\nvar getTranslateFromMatrix = function (pos2, pos3) { return function (_bbox, _a) {\n    var transform = _a.transform;\n    if (transform === \"none\" || !transform)\n        return 0;\n    var matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (matrix3d) {\n        return getPosFromMatrix(matrix3d[1], pos3);\n    }\n    else {\n        var matrix = transform.match(/^matrix\\((.+)\\)$/);\n        if (matrix) {\n            return getPosFromMatrix(matrix[1], pos2);\n        }\n        else {\n            return 0;\n        }\n    }\n}; };\nvar transformKeys = new Set([\"x\", \"y\", \"z\"]);\nvar nonTranslationalTransformKeys = transformProps.filter(function (key) { return !transformKeys.has(key); });\nfunction removeNonTranslationalTransform(visualElement) {\n    var removedTransforms = [];\n    nonTranslationalTransformKeys.forEach(function (key) {\n        var value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    // Apply changes to element before measurement\n    if (removedTransforms.length)\n        visualElement.syncRender();\n    return removedTransforms;\n}\nvar positionalValues = {\n    // Dimensions\n    width: function (_a) {\n        var x = _a.x;\n        return x.max - x.min;\n    },\n    height: function (_a) {\n        var y = _a.y;\n        return y.max - y.min;\n    },\n    top: function (_bbox, _a) {\n        var top = _a.top;\n        return parseFloat(top);\n    },\n    left: function (_bbox, _a) {\n        var left = _a.left;\n        return parseFloat(left);\n    },\n    bottom: function (_a, _b) {\n        var y = _a.y;\n        var top = _b.top;\n        return parseFloat(top) + (y.max - y.min);\n    },\n    right: function (_a, _b) {\n        var x = _a.x;\n        var left = _b.left;\n        return parseFloat(left) + (x.max - x.min);\n    },\n    // Transform\n    x: getTranslateFromMatrix(4, 13),\n    y: getTranslateFromMatrix(5, 14),\n};\nvar convertChangedValueTypes = function (target, visualElement, changedKeys) {\n    var originBbox = visualElement.measureViewportBox();\n    var element = visualElement.getInstance();\n    var elementComputedStyle = getComputedStyle(element);\n    var display = elementComputedStyle.display, top = elementComputedStyle.top, left = elementComputedStyle.left, bottom = elementComputedStyle.bottom, right = elementComputedStyle.right, transform = elementComputedStyle.transform;\n    var originComputedStyle = { top: top, left: left, bottom: bottom, right: right, transform: transform };\n    // If the element is currently set to display: \"none\", make it visible before\n    // measuring the target bounding box\n    if (display === \"none\") {\n        visualElement.setStaticValue(\"display\", target.display || \"block\");\n    }\n    // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n    visualElement.syncRender();\n    var targetBbox = visualElement.measureViewportBox();\n    changedKeys.forEach(function (key) {\n        // Restore styles to their **calculated computed style**, not their actual\n        // originally set style. This allows us to animate between equivalent pixel units.\n        var value = visualElement.getValue(key);\n        setAndResetVelocity(value, positionalValues[key](originBbox, originComputedStyle));\n        target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n    });\n    return target;\n};\nvar checkAndConvertChangedValueTypes = function (visualElement, target, origin, transitionEnd) {\n    if (origin === void 0) { origin = {}; }\n    if (transitionEnd === void 0) { transitionEnd = {}; }\n    target = __assign({}, target);\n    transitionEnd = __assign({}, transitionEnd);\n    var targetPositionalKeys = Object.keys(target).filter(isPositionalKey);\n    // We want to remove any transform values that could affect the element's bounding box before\n    // it's measured. We'll reapply these later.\n    var removedTransformValues = [];\n    var hasAttemptedToRemoveTransformValues = false;\n    var changedValueTypeKeys = [];\n    targetPositionalKeys.forEach(function (key) {\n        var value = visualElement.getValue(key);\n        if (!visualElement.hasValue(key))\n            return;\n        var from = origin[key];\n        var to = target[key];\n        var fromType = findDimensionValueType(from);\n        var toType;\n        // TODO: The current implementation of this basically throws an error\n        // if you try and do value conversion via keyframes. There's probably\n        // a way of doing this but the performance implications would need greater scrutiny,\n        // as it'd be doing multiple resize-remeasure operations.\n        if (isKeyframesTarget(to)) {\n            var numKeyframes = to.length;\n            for (var i = to[0] === null ? 1 : 0; i < numKeyframes; i++) {\n                if (!toType) {\n                    toType = findDimensionValueType(to[i]);\n                    invariant(toType === fromType ||\n                        (isNumOrPxType(fromType) && isNumOrPxType(toType)), \"Keyframes must be of the same dimension as the current value\");\n                }\n                else {\n                    invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n                }\n            }\n        }\n        else {\n            toType = findDimensionValueType(to);\n        }\n        if (fromType !== toType) {\n            // If they're both just number or px, convert them both to numbers rather than\n            // relying on resize/remeasure to convert (which is wasteful in this situation)\n            if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n                var current = value.get();\n                if (typeof current === \"string\") {\n                    value.set(parseFloat(current));\n                }\n                if (typeof to === \"string\") {\n                    target[key] = parseFloat(to);\n                }\n                else if (Array.isArray(to) && toType === px) {\n                    target[key] = to.map(parseFloat);\n                }\n            }\n            else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) &&\n                (toType === null || toType === void 0 ? void 0 : toType.transform) &&\n                (from === 0 || to === 0)) {\n                // If one or the other value is 0, it's safe to coerce it to the\n                // type of the other without measurement\n                if (from === 0) {\n                    value.set(toType.transform(from));\n                }\n                else {\n                    target[key] = fromType.transform(to);\n                }\n            }\n            else {\n                // If we're going to do value conversion via DOM measurements, we first\n                // need to remove non-positional transform values that could affect the bbox measurements.\n                if (!hasAttemptedToRemoveTransformValues) {\n                    removedTransformValues = removeNonTranslationalTransform(visualElement);\n                    hasAttemptedToRemoveTransformValues = true;\n                }\n                changedValueTypeKeys.push(key);\n                transitionEnd[key] =\n                    transitionEnd[key] !== undefined\n                        ? transitionEnd[key]\n                        : target[key];\n                setAndResetVelocity(value, to);\n            }\n        }\n    });\n    if (changedValueTypeKeys.length) {\n        var convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys);\n        // If we removed transform values, reapply them before the next render\n        if (removedTransformValues.length) {\n            removedTransformValues.forEach(function (_a) {\n                var _b = __read(_a, 2), key = _b[0], value = _b[1];\n                visualElement.getValue(key).set(value);\n            });\n        }\n        // Reapply original values\n        visualElement.syncRender();\n        return { target: convertedTarget, transitionEnd: transitionEnd };\n    }\n    else {\n        return { target: target, transitionEnd: transitionEnd };\n    }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n    return hasPositionalKey(target)\n        ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd)\n        : { target: target, transitionEnd: transitionEnd };\n}\n\nexport { BoundingBoxDimension, unitConversion };\n","import { resolveCSSVariables } from './css-variables-conversion.js';\nimport { unitConversion } from './unit-conversion.js';\n\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\nvar parseDomVariant = function (visualElement, target, origin, transitionEnd) {\n    var resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n    target = resolved.target;\n    transitionEnd = resolved.transitionEnd;\n    return unitConversion(visualElement, target, origin, transitionEnd);\n};\n\nexport { parseDomVariant };\n","import { __rest, __assign } from 'tslib';\nimport { visualElement } from '../index.js';\nimport { getOrigin, checkTargetForNewValues } from '../utils/setters.js';\nimport { getBoundingBox } from '../dom/projection/measure.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { isCSSVariable } from '../dom/utils/is-css-variable.js';\nimport { parseDomVariant } from '../dom/utils/parse-dom-variant.js';\nimport { isTransformProp } from './utils/transform.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { renderHTML } from './utils/render.js';\nimport { getDefaultValueType } from '../dom/value-types/defaults.js';\nimport { buildLayoutProjectionTransformOrigin, buildLayoutProjectionTransform } from './utils/build-projection-transform.js';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nvar htmlConfig = {\n    treeType: \"dom\",\n    readValueFromInstance: function (domElement, key) {\n        if (isTransformProp(key)) {\n            var defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        else {\n            var computedStyle = getComputedStyle(domElement);\n            return ((isCSSVariable(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0);\n        }\n    },\n    sortNodePosition: function (a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    },\n    getBaseTarget: function (props, key) {\n        var _a;\n        return (_a = props.style) === null || _a === void 0 ? void 0 : _a[key];\n    },\n    measureViewportBox: function (element, _a) {\n        var transformPagePoint = _a.transformPagePoint;\n        return getBoundingBox(element, transformPagePoint);\n    },\n    /**\n     * Reset the transform on the current Element. This is called as part\n     * of a batched process across the entire layout tree. To remove this write\n     * cycle it'd be interesting to see if it's possible to \"undo\" all the current\n     * layout transforms up the tree in the same way this.getBoundingBoxWithoutTransforms\n     * works\n     */\n    resetTransform: function (element, domElement, props) {\n        var transformTemplate = props.transformTemplate;\n        domElement.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        // Ensure that whatever happens next, we restore our transform on the next frame\n        element.scheduleRender();\n    },\n    restoreTransform: function (instance, mutableState) {\n        instance.style.transform = mutableState.style.transform;\n    },\n    removeValueFromRenderState: function (key, _a) {\n        var vars = _a.vars, style = _a.style;\n        delete vars[key];\n        delete style[key];\n    },\n    /**\n     * Ensure that HTML and Framer-specific value types like `px`->`%` and `Color`\n     * can be animated by Motion.\n     */\n    makeTargetAnimatable: function (element, _a, _b, isMounted) {\n        var transformValues = _b.transformValues;\n        if (isMounted === void 0) { isMounted = true; }\n        var transition = _a.transition, transitionEnd = _a.transitionEnd, target = __rest(_a, [\"transition\", \"transitionEnd\"]);\n        var origin = getOrigin(target, transition || {}, element);\n        /**\n         * If Framer has provided a function to convert `Color` etc value types, convert them\n         */\n        if (transformValues) {\n            if (transitionEnd)\n                transitionEnd = transformValues(transitionEnd);\n            if (target)\n                target = transformValues(target);\n            if (origin)\n                origin = transformValues(origin);\n        }\n        if (isMounted) {\n            checkTargetForNewValues(element, target, origin);\n            var parsed = parseDomVariant(element, target, origin, transitionEnd);\n            transitionEnd = parsed.transitionEnd;\n            target = parsed.target;\n        }\n        return __assign({ transition: transition,\n            transitionEnd: transitionEnd }, target);\n    },\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    build: function (element, renderState, latestValues, projection, layoutState, options, props) {\n        if (element.isVisible !== undefined) {\n            renderState.style.visibility = element.isVisible\n                ? \"visible\"\n                : \"hidden\";\n        }\n        var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n        buildHTMLStyles(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform\n            ? buildLayoutProjectionTransformOrigin\n            : undefined);\n    },\n    render: renderHTML,\n};\nvar htmlVisualElement = visualElement(htmlConfig);\n\nexport { getComputedStyle, htmlConfig, htmlVisualElement };\n","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nvar isNumericalString = function (v) { return /^\\-?\\d*\\.?\\d+$/.test(v); };\n\nexport { isNumericalString };\n","import { __assign } from 'tslib';\nimport { visualElement } from '../index.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { htmlConfig } from '../html/visual-element.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { camelToDash } from '../dom/utils/camel-to-dash.js';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.js';\nimport { isTransformProp } from '../html/utils/transform.js';\nimport { renderSVG } from './utils/render.js';\nimport { getDefaultValueType } from '../dom/value-types/defaults.js';\nimport { buildLayoutProjectionTransformOrigin, buildLayoutProjectionTransform } from '../html/utils/build-projection-transform.js';\n\nvar svgVisualElement = visualElement(__assign(__assign({}, htmlConfig), { getBaseTarget: function (props, key) {\n        return props[key];\n    },\n    readValueFromInstance: function (domElement, key) {\n        var _a;\n        if (isTransformProp(key)) {\n            return ((_a = getDefaultValueType(key)) === null || _a === void 0 ? void 0 : _a.default) || 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return domElement.getAttribute(key);\n    },\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    build: function (_element, renderState, latestValues, projection, layoutState, options, props) {\n        var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n        buildSVGAttrs(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform\n            ? buildLayoutProjectionTransformOrigin\n            : undefined);\n    }, render: renderSVG }));\n\nexport { svgVisualElement };\n","import { htmlVisualElement } from '../html/visual-element.js';\nimport { svgVisualElement } from '../svg/visual-element.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\n\nvar createDomVisualElement = function (Component, options) {\n    return isSVGComponent(Component)\n        ? svgVisualElement(options, { enableHardwareAcceleration: false })\n        : htmlVisualElement(options, { enableHardwareAcceleration: true });\n};\n\nexport { createDomVisualElement };\n","import { __assign } from 'tslib';\nimport { createMotionComponent } from '../../motion/index.js';\nimport { createMotionProxy } from './motion-proxy.js';\nimport { createDomMotionConfig } from './utils/create-config.js';\nimport { gestureAnimations } from '../../motion/features/gestures.js';\nimport { animations } from '../../motion/features/animations.js';\nimport { drag } from '../../motion/features/drag.js';\nimport { layoutAnimations } from '../../motion/features/layout/index.js';\nimport { createDomVisualElement } from './create-visual-element.js';\n\nvar featureBundle = __assign(__assign(__assign(__assign({}, animations), gestureAnimations), drag), layoutAnimations);\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nvar motion = /*@__PURE__*/ createMotionProxy(function (Component, config) {\n    return createDomMotionConfig(Component, config, featureBundle, createDomVisualElement);\n});\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n    return createMotionComponent(createDomMotionConfig(key, { forwardMotionProps: false }, featureBundle, createDomVisualElement));\n}\n\nexport { createDomMotionComponent, motion };\n","import { __assign } from 'tslib';\nimport { isSVGComponent } from './is-svg-component.js';\nimport { createUseRender } from '../use-render.js';\nimport { svgMotionConfig } from '../../svg/config-motion.js';\nimport { htmlMotionConfig } from '../../html/config-motion.js';\n\nfunction createDomMotionConfig(Component, _a, preloadedFeatures, createVisualElement) {\n    var _b = _a.forwardMotionProps, forwardMotionProps = _b === void 0 ? false : _b;\n    var baseConfig = isSVGComponent(Component)\n        ? svgMotionConfig\n        : htmlMotionConfig;\n    return __assign(__assign({}, baseConfig), { preloadedFeatures: preloadedFeatures, useRender: createUseRender(forwardMotionProps), createVisualElement: createVisualElement,\n        Component: Component });\n}\n\nexport { createDomMotionConfig };\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar GitHub = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22\"\n  }));\n});\nGitHub.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nGitHub.displayName = 'GitHub';\nexport default GitHub;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Linkedin = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"2\",\n    y: \"9\",\n    width: \"4\",\n    height: \"12\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"4\",\n    cy: \"4\",\n    r: \"2\"\n  }));\n});\nLinkedin.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nLinkedin.displayName = 'Linkedin';\nexport default Linkedin;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Mail = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"22,6 12,13 2,6\"\n  }));\n});\nMail.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nMail.displayName = 'Mail';\nexport default Mail;","import { GitHub, Linkedin, Mail } from 'react-feather';\nimport { cssRule } from 'typestyle';\n\nimport { Link } from '../components/Link';\nimport { OuterPadding } from '../lib/constants';\n\ncssRule('@media print', {\n  footer: { display: 'none !important' },\n});\n\nexport function Footer() {\n  return (\n    <footer style={{ display: 'flex', alignItems: 'center', padding: OuterPadding }}>\n      <div style={{ flex: '1' }} />\n      <Link\n        button\n        external\n        title=\"Github\"\n        href=\"https://github.com/amcolash\"\n        target=\"_blank\"\n        style={{ marginRight: `calc(${OuterPadding} / 2)` }}\n      >\n        <GitHub />\n      </Link>\n      <Link\n        button\n        external\n        title=\"LinkedIn\"\n        href=\"https://linkedin.com/in/andrew-mcolash\"\n        target=\"_blank\"\n        style={{ marginRight: `calc(${OuterPadding} / 2)` }}\n      >\n        <Linkedin />\n      </Link>\n      <Link button external title=\"Email\" href=\"mailto:amcolash@gmail.com\">\n        <Mail />\n      </Link>\n    </footer>\n  );\n}\n","import { useEffect, useRef } from 'react';\nimport { style } from 'typestyle';\n\n// Clever bit of code from: https://stackoverflow.com/a/53446665/2303432\nexport function usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport const fullHeight = style({\n  height: ['100vh', '100svh'],\n});\n","import { motion } from 'framer-motion';\nimport { classes, media, style } from 'typestyle';\nimport useDarkMode from 'use-dark-mode';\n\nimport { Colors } from '../lib/constants';\nimport { fullHeight } from './util';\n\nconst tags = style(\n  {\n    position: 'absolute',\n\n    $nest: {\n      h3: {\n        margin: '0 0 8px',\n      },\n      'h3:last-child': {\n        margin: 0,\n      },\n    },\n  },\n  media({ maxHeight: 600 }, { marginLeft: 'calc(min(50vw, 50vh, 300px) + 200px)' }),\n  media({ minHeight: 601 }, { marginTop: 'calc(min(50vw, 50vh, 300px) + 170px)' })\n);\n\nexport function GreenSlide() {\n  const darkMode = useDarkMode();\n  const borderColor = darkMode.value ? Colors.Black : Colors.White;\n\n  return (\n    <div\n      className={classes('greenSlide', fullHeight)}\n      style={{ overflow: 'hidden', position: 'absolute', top: 0, left: 0, width: '100vw' }}\n    >\n      <motion.div\n        initial={{ x: '-200vw' }}\n        animate={{ x: '-50vw', transition: { duration: 1 } }}\n        exit={{ x: '-200vw', transition: { delay: 0.25, duration: 0.5 } }}\n        key=\"green\"\n        className={fullHeight}\n        style={{\n          width: '200vw',\n          background: `linear-gradient(135deg, ${Colors.Green} 0%, ${Colors.Green} 50%, transparent 50%, transparent 100%)`,\n        }}\n      />\n\n      <div\n        className={fullHeight}\n        style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100vw',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          pointerEvents: 'none',\n        }}\n      >\n        <motion.img\n          src=\"https://www.gravatar.com/avatar/a2821096114f7641f9a304453fa56137?s=300\"\n          initial={{ scale: 0 }}\n          animate={{ scale: 1, transition: { delay: 1, duration: 0.5 } }}\n          exit={{ scale: 0, opacity: 0, transition: { duration: 0.25 } }}\n          key=\"face\"\n          style={{\n            borderRadius: '100%',\n            borderWidth: '7px',\n            borderStyle: 'solid',\n            borderTopColor: borderColor,\n            borderLeftColor: borderColor,\n            borderBottomColor: Colors.Green,\n            borderRightColor: Colors.Green,\n            maxHeight: '50vh',\n            maxWidth: '50vw',\n          }}\n        />\n        <div className={tags}>\n          <motion.h3\n            initial={{ y: -30, opacity: 0 }}\n            animate={{ y: 0, opacity: 1, transition: { duration: 0.35, delay: 1.35 } }}\n            exit={{ opacity: 0, transition: { duration: 0.25 } }}\n          >\n            Developer\n          </motion.h3>\n          <motion.h3\n            initial={{ y: -30, opacity: 0 }}\n            animate={{ y: 0, opacity: 1, transition: { duration: 0.35, delay: 1.6 } }}\n            exit={{ opacity: 0, transition: { duration: 0.25 } }}\n          >\n            Maker\n          </motion.h3>\n          <motion.h3\n            initial={{ y: -30, opacity: 0 }}\n            animate={{ y: 0, opacity: 1, transition: { duration: 0.35, delay: 1.85 } }}\n            exit={{ opacity: 0, transition: { duration: 0.25 } }}\n          >\n            Hacker\n          </motion.h3>\n        </div>\n      </div>\n    </div>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Sun = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"5\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"1\",\n    x2: \"12\",\n    y2: \"3\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"21\",\n    x2: \"12\",\n    y2: \"23\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"4.22\",\n    y1: \"4.22\",\n    x2: \"5.64\",\n    y2: \"5.64\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18.36\",\n    y1: \"18.36\",\n    x2: \"19.78\",\n    y2: \"19.78\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"1\",\n    y1: \"12\",\n    x2: \"3\",\n    y2: \"12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"21\",\n    y1: \"12\",\n    x2: \"23\",\n    y2: \"12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"4.22\",\n    y1: \"19.78\",\n    x2: \"5.64\",\n    y2: \"18.36\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18.36\",\n    y1: \"5.64\",\n    x2: \"19.78\",\n    y2: \"4.22\"\n  }));\n});\nSun.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nSun.displayName = 'Sun';\nexport default Sun;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Moon = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"\n  }));\n});\nMoon.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nMoon.displayName = 'Moon';\nexport default Moon;","import { Moon, Sun } from 'react-feather';\nimport useDarkMode from 'use-dark-mode';\n\nimport { Button } from './Button';\n\nexport function DarkMode(props) {\n  const darkMode = useDarkMode(true);\n\n  return (\n    <div className=\"darkMode\" style={{ ...props.style }}>\n      <Button onClick={darkMode.toggle} title=\"Dark Mode\" style={{ display: 'flex' }}>\n        {darkMode.value && <Sun />}\n        {!darkMode.value && <Moon />}\n      </Button>\n    </div>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Menu = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"12\",\n    x2: \"21\",\n    y2: \"12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"6\",\n    x2: \"21\",\n    y2: \"6\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"18\",\n    x2: \"21\",\n    y2: \"18\"\n  }));\n});\nMenu.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nMenu.displayName = 'Menu';\nexport default Menu;","import { useRouter } from 'next/router';\nimport React, { useEffect, useState } from 'react';\nimport { Wrapper, Button, Menu, closeMenu } from 'react-aria-menubutton';\nimport { Menu as Burger } from 'react-feather';\nimport { cssRule, style } from 'typestyle';\nimport useDarkMode from 'use-dark-mode';\nimport FocusTrap from 'focus-trap-react';\n\nimport { Link } from './Link';\nimport { Colors, interactiveStyle, OuterPadding } from '../lib/constants';\nimport Tooltip from 'the-only-react-tooltip';\n\nconst menuButtonClass = style(interactiveStyle);\nconst menuButtonId = 'MyMenuButton';\n\ncssRule(`#${menuButtonId}-menu li`, {\n  margin: 4,\n});\n\nconst menuList = style({\n  listStyle: 'none',\n  padding: 0,\n  margin: 0,\n  display: 'flex',\n  flexDirection: 'column',\n});\n\nexport const NavMenu = () => {\n  const darkMode = useDarkMode();\n  const router = useRouter();\n\n  const [menuOpen, setMenuOpen] = useState(false);\n\n  useEffect(() => {\n    const handleRouteChange = () => closeMenu(menuButtonId);\n\n    router.events.on('routeChangeStart', handleRouteChange);\n\n    // If the component is unmounted, unsubscribe from the event with the `off` method:\n    return () => router.events.off('routeChangeStart', handleRouteChange);\n  }, []);\n\n  return (\n    <Tooltip body={!menuOpen && 'Site Menu'}>\n      <Wrapper id={menuButtonId} style={{ position: 'relative' }} onMenuToggle={(state) => setMenuOpen(state.isOpen)}>\n        <Button\n          id={`${menuButtonId}-button`}\n          title=\"Site Menu\"\n          className={menuButtonClass}\n          style={{ display: 'flex', color: Colors.Black }}\n        >\n          <Burger />\n        </Button>\n        <Menu\n          id={`${menuButtonId}-menu`}\n          style={{\n            position: 'absolute',\n            top: '100%',\n            right: 0,\n            zIndex: 99,\n            textAlign: 'center',\n            background: darkMode.value ? Colors.Black : Colors.White,\n            padding: `calc(${OuterPadding} / 2)`,\n            border: `1px solid ${darkMode.value ? Colors.White : Colors.Black}`,\n          }}\n        >\n          <FocusTrap focusTrapOptions={{ allowOutsideClick: true }}>\n            <ul className={menuList}>\n              <li>\n                <Link href=\"/about\">About</Link>\n              </li>\n              <li>\n                <Link href=\"/blog\">Blog</Link>\n              </li>\n              <li>\n                <Link href=\"/github\">Github</Link>\n              </li>\n              <li>\n                <Link href=\"/projects\">Projects</Link>\n              </li>\n              <li>\n                <Link href=\"/resume\">Resume</Link>\n              </li>\n            </ul>\n          </FocusTrap>\n        </Menu>\n      </Wrapper>\n    </Tooltip>\n  );\n};\n","import { useRouter } from 'next/router';\nimport { cssRule } from 'typestyle';\nimport useDarkMode from 'use-dark-mode';\n\nimport { DarkMode } from './DarkMode';\nimport { Link } from './Link';\nimport { NavMenu } from './NavMenu';\n\nimport { Colors, OuterPadding } from '../lib/constants';\n\ncssRule('@media print', {\n  header: { display: 'none' },\n});\n\nexport function Header() {\n  const router = useRouter();\n  const darkMode = useDarkMode();\n\n  return (\n    <header style={{ width: '100%' }}>\n      <nav style={{ display: 'flex', alignItems: 'center', padding: OuterPadding }}>\n        {/* Show text on the main page and a link back to home on other pages */}\n        {router.pathname === '/' ? (\n          <div style={{ fontSize: '1.75rem', textShadow: `1px 1px 1px ${darkMode.value ? Colors.Black : Colors.White}` }}>\n            Andrew McOlash\n          </div>\n        ) : (\n          <Link href=\"/\" style={{ fontSize: '1.75rem' }}>\n            Andrew McOlash\n          </Link>\n        )}\n        <div style={{ flex: 1 }} />\n        <DarkMode style={{ marginRight: `calc(${OuterPadding} / 2)` }} />\n        <NavMenu />\n      </nav>\n    </header>\n  );\n}\n","import { AnimatePresence, motion } from 'framer-motion';\nimport { useRouter } from 'next/router';\nimport { cssRule, style } from 'typestyle';\n\nimport { usePrevious } from './util';\nimport { OuterPadding } from '../lib/constants';\n\ncssRule('body', {\n  margin: 0,\n  fontFamily: 'Rubik, sans-serif',\n  fontSize: '1.25rem',\n  overflowX: 'hidden',\n});\n\ncssRule('@media print', {\n  body: {\n    background: 'none !important',\n    color: 'black !important',\n    textShadow: 'none !important',\n  },\n  a: {\n    color: 'black !important',\n    textShadow: 'none !important',\n  },\n  '.mainTitle': {\n    display: 'none',\n  },\n});\n\nconst mainStyle = style({ flex: 1, padding: OuterPadding, width: `calc(100% - ${OuterPadding * 2})` });\n\nexport function Main(props) {\n  const router = useRouter();\n  const prevRoute = usePrevious(router.pathname);\n  const title =\n    router.pathname !== '/' && router.pathname.indexOf('/blog/') === -1 && router.pathname.indexOf('/projects/') === -1\n      ? router.route.replace('/', '')\n      : '';\n\n  return (\n    <AnimatePresence exitBeforeEnter>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1, transition: { duration: 0.25, delay: prevRoute === '/' ? 0.75 : undefined } }}\n        exit={{ opacity: 0, transition: { duration: prevRoute === '/' ? 0 : 0.15 } }}\n        key={router.route}\n        className={`main ${mainStyle}`}\n      >\n        {title && (\n          <h1 style={{ textTransform: 'capitalize', marginTop: '-1rem', marginBottom: '3rem' }} className=\"mainTitle\">\n            {title}\n          </h1>\n        )}\n        {props.children}\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n","import { AnimatePresence, motion } from 'framer-motion';\nimport { useRouter } from 'next/router';\n\nimport { Footer } from '../components/Footer';\nimport { GreenSlide } from '../components/GreenSlide';\nimport { Header } from '../components/Header';\nimport { Main } from '../components/Main';\nimport { fullHeight } from '../components/util';\n\n// Disable SSR (so I can use state easily): https://dev.to/apkoponen/how-to-disable-server-side-rendering-ssr-in-next-js-1563\nfunction SafeHydrate({ children }) {\n  return <div suppressHydrationWarning>{typeof window === 'undefined' ? null : children}</div>;\n}\n\nfunction MyApp({ Component, pageProps }) {\n  const router = useRouter();\n\n  return (\n    <SafeHydrate>\n      <AnimatePresence>{router.pathname === '/' && <GreenSlide />}</AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1, transition: { duration: 0.5, delay: 1 } }}\n        key=\"initialFade\"\n        className={fullHeight}\n        style={{ display: 'flex', flexDirection: 'column', zIndex: 1, position: 'relative' }}\n      >\n        <Header />\n        <Main>\n          <Component {...pageProps} />\n        </Main>\n        <Footer />\n      </motion.div>\n    </SafeHydrate>\n  );\n}\n\nexport default MyApp;\n","module.exports = require('./dist/client/link')\n","module.exports = require('./dist/client/router')\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar PropTypes = require('prop-types');\nvar ManagerContext = require('./ManagerContext');\n\nvar _require = require(\"./propTypes\"),\n    refType = _require.refType;\n\nvar specialAssign = require('./specialAssign');\n\nvar checkedProps = {\n  ambManager: PropTypes.object.isRequired,\n  children: PropTypes.node.isRequired,\n  disabled: PropTypes.bool,\n  forwardedRef: refType,\n  tag: PropTypes.string\n};\n\n// List retrieved from https://www.w3schools.com/tags/att_disabled.asp\nvar disabledSupportedTags = function disabledSupportedTags() {\n  return ['button', 'fieldset', 'input', 'optgroup', 'option', 'select', 'textarea'];\n};\n\nvar AriaMenuButtonButton = function (_React$Component) {\n  _inherits(AriaMenuButtonButton, _React$Component);\n\n  function AriaMenuButtonButton() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AriaMenuButtonButton);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.ref = React.createRef(), _this.handleKeyDown = function (event) {\n      if (_this.props.disabled) return;\n\n      var ambManager = _this.props.ambManager;\n\n      switch (event.key) {\n        case 'ArrowDown':\n          event.preventDefault();\n          if (!ambManager.isOpen) {\n            ambManager.openMenu();\n          } else {\n            ambManager.focusItem(0);\n          }\n          break;\n        case 'Enter':\n        case ' ':\n          event.preventDefault();\n          ambManager.toggleMenu();\n          break;\n        case 'Escape':\n          ambManager.handleMenuKey(event);\n          break;\n        default:\n          // (Potential) letter keys\n          ambManager.handleButtonNonArrowKey(event);\n      }\n    }, _this.handleClick = function () {\n      if (_this.props.disabled) return;\n      _this.props.ambManager.toggleMenu({}, { focusMenu: false });\n    }, _this.setRef = function (instance) {\n      _this.ref.current = instance;\n      if (typeof _this.props.forwardedRef === \"function\") {\n        _this.props.forwardedRef(instance);\n      } else if (_this.props.forwardedRef) {\n        _this.props.forwardedRef.current = instance;\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  AriaMenuButtonButton.prototype.componentDidMount = function componentDidMount() {\n    this.props.ambManager.button = this;\n  };\n\n  AriaMenuButtonButton.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.ambManager.destroy();\n  };\n\n  AriaMenuButtonButton.prototype.render = function render() {\n    var props = this.props;\n    var ambManager = this.props.ambManager;\n\n    var buttonProps = {\n      // \"The menu button itself has a role of button.\"\n      role: 'button',\n      tabIndex: props.disabled ? '' : '0',\n      // \"The menu button has an aria-haspopup property, set to true.\"\n      'aria-haspopup': true,\n      'aria-expanded': ambManager.isOpen,\n      'aria-disabled': props.disabled,\n      onKeyDown: this.handleKeyDown,\n      onClick: this.handleClick\n    };\n\n    var reserved = {};\n    specialAssign(reserved, checkedProps);\n    // The disabled property should be passed down to the Button element\n    // if the tag has support for disabled attribute. So it needs to be removed\n    // from the reserved property object\n    if (disabledSupportedTags().indexOf(props.tag) >= 0) {\n      delete reserved.disabled;\n    }\n    if (ambManager.options.closeOnBlur) {\n      buttonProps.onBlur = ambManager.handleBlur;\n    }\n    specialAssign(buttonProps, props, reserved);\n    specialAssign(buttonProps, { ref: this.setRef });\n\n    return React.createElement(props.tag, buttonProps, props.children);\n  };\n\n  return AriaMenuButtonButton;\n}(React.Component);\n\nAriaMenuButtonButton.propTypes = checkedProps;\nAriaMenuButtonButton.defaultProps = { tag: 'span' };\n\n\nmodule.exports = React.forwardRef(function (props, ref) {\n  return React.createElement(ManagerContext.Consumer, null, function (ambManager) {\n    var buttonProps = { ambManager: ambManager, forwardedRef: ref };\n    specialAssign(buttonProps, props, {\n      ambManager: checkedProps.ambManager,\n      children: checkedProps.children,\n      forwardedRef: checkedProps.forwardedRef\n    });\n    return React.createElement(AriaMenuButtonButton, buttonProps, props.children);\n  });\n});","'use strict';\n\nvar React = require('react');\n\nvar AriaMenuButtonManagerContext = React.createContext();\n\nmodule.exports = AriaMenuButtonManagerContext;","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar PropTypes = require('prop-types');\nvar createTapListener = require('teeny-tap');\nvar ManagerContext = require('./ManagerContext');\n\nvar _require = require(\"./propTypes\"),\n    refType = _require.refType;\n\nvar specialAssign = require('./specialAssign');\n\nvar checkedProps = {\n  ambManager: PropTypes.object.isRequired,\n  children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]).isRequired,\n  forwardedRef: refType,\n  tag: PropTypes.string\n};\n\nvar AriaMenuButtonMenu = function (_React$Component) {\n  _inherits(AriaMenuButtonMenu, _React$Component);\n\n  function AriaMenuButtonMenu() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AriaMenuButtonMenu);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.ref = React.createRef(), _this.addTapListener = function () {\n      var el = _this.ref.current;\n      if (!el) return;\n      var doc = el.ownerDocument;\n      if (!doc) return;\n      _this.tapListener = createTapListener(doc.documentElement, _this.handleTap);\n    }, _this.handleTap = function (event) {\n      if (_this.ref.current.contains(event.target)) return;\n      if (_this.props.ambManager.button.ref.current.contains(event.target)) return;\n      _this.props.ambManager.closeMenu();\n    }, _this.setRef = function (instance) {\n      _this.ref.current = instance;\n      if (typeof _this.props.forwardedRef === \"function\") {\n        _this.props.forwardedRef(instance);\n      } else if (_this.props.forwardedRef) {\n        _this.props.forwardedRef.current = instance;\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  AriaMenuButtonMenu.prototype.componentDidMount = function componentDidMount() {\n    this.props.ambManager.menu = this;\n  };\n\n  AriaMenuButtonMenu.prototype.componentDidUpdate = function componentDidUpdate() {\n    var ambManager = this.props.ambManager;\n    if (!ambManager.options.closeOnBlur) return;\n    if (ambManager.isOpen && !this.tapListener) {\n      this.addTapListener();\n    } else if (!ambManager.isOpen && this.tapListener) {\n      this.tapListener.remove();\n      delete this.tapListener;\n    }\n\n    if (!ambManager.isOpen) {\n      // Clear the ambManager's items, so they\n      // can be reloaded next time this menu opens\n      ambManager.clearItems();\n    }\n  };\n\n  AriaMenuButtonMenu.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.tapListener) this.tapListener.remove();\n    this.props.ambManager.destroy();\n  };\n\n  AriaMenuButtonMenu.prototype.render = function render() {\n    var props = this.props;\n    var ambManager = this.props.ambManager;\n\n    var childrenToRender = function () {\n      if (typeof props.children === 'function') {\n        return props.children({ isOpen: ambManager.isOpen });\n      }\n      if (ambManager.isOpen) return props.children;\n      return false;\n    }();\n\n    if (!childrenToRender) return false;\n\n    var menuProps = {\n      onKeyDown: ambManager.handleMenuKey,\n      role: 'menu',\n      tabIndex: -1\n    };\n\n    if (ambManager.options.closeOnBlur) {\n      menuProps.onBlur = ambManager.handleBlur;\n    }\n\n    specialAssign(menuProps, props, checkedProps);\n    specialAssign(menuProps, { ref: this.setRef });\n\n    return React.createElement(props.tag, menuProps, childrenToRender);\n  };\n\n  return AriaMenuButtonMenu;\n}(React.Component);\n\nAriaMenuButtonMenu.propTypes = checkedProps;\nAriaMenuButtonMenu.defaultProps = { tag: 'div' };\n\n\nmodule.exports = React.forwardRef(function (props, ref) {\n  return React.createElement(ManagerContext.Consumer, null, function (ambManager) {\n    var buttonProps = { ambManager: ambManager, forwardedRef: ref };\n    specialAssign(buttonProps, props, {\n      ambManager: checkedProps.ambManager,\n      children: checkedProps.children,\n      forwardedRef: checkedProps.forwardedRef\n    });\n    return React.createElement(AriaMenuButtonMenu, buttonProps, props.children);\n  });\n});","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar PropTypes = require('prop-types');\nvar ManagerContext = require('./ManagerContext');\n\nvar _require = require(\"./propTypes\"),\n    refType = _require.refType;\n\nvar specialAssign = require('./specialAssign');\n\nvar checkedProps = {\n  ambManager: PropTypes.object.isRequired,\n  children: PropTypes.node.isRequired,\n  forwardedRef: refType,\n  tag: PropTypes.string,\n  text: PropTypes.string,\n  value: PropTypes.any\n};\n\nvar AriaMenuButtonMenuItem = function (_React$Component) {\n  _inherits(AriaMenuButtonMenuItem, _React$Component);\n\n  function AriaMenuButtonMenuItem() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AriaMenuButtonMenuItem);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.ref = React.createRef(), _this.handleKeyDown = function (event) {\n      if (event.key !== 'Enter' && event.key !== ' ') return;\n      if (_this.props.tag === 'a' && _this.props.href) return;\n      event.preventDefault();\n      _this.selectItem(event);\n    }, _this.selectItem = function (event) {\n      // If there's no value, we'll send the child\n      var value = typeof _this.props.value !== 'undefined' ? _this.props.value : _this.props.children;\n      _this.props.ambManager.handleSelection(value, event);\n    }, _this.setRef = function (instance) {\n      _this.ref.current = instance;\n      if (typeof _this.props.forwardedRef === \"function\") {\n        _this.props.forwardedRef(instance);\n      } else if (_this.props.forwardedRef) {\n        _this.props.forwardedRef.current = instance;\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  AriaMenuButtonMenuItem.prototype.componentDidMount = function componentDidMount() {\n    this.props.ambManager.addItem({\n      node: this.ref.current,\n      text: this.props.text\n    });\n  };\n\n  AriaMenuButtonMenuItem.prototype.render = function render() {\n    var menuItemProps = {\n      onClick: this.selectItem,\n      onKeyDown: this.handleKeyDown,\n      role: 'menuitem',\n      tabIndex: '-1',\n      ref: this.setRef\n    };\n\n    specialAssign(menuItemProps, this.props, checkedProps);\n\n    return React.createElement(this.props.tag, menuItemProps, this.props.children);\n  };\n\n  return AriaMenuButtonMenuItem;\n}(React.Component);\n\nAriaMenuButtonMenuItem.propTypes = checkedProps;\nAriaMenuButtonMenuItem.defaultProps = { tag: 'div' };\n\n\nmodule.exports = React.forwardRef(function (props, ref) {\n  return React.createElement(ManagerContext.Consumer, null, function (ambManager) {\n    var buttonProps = { ambManager: ambManager, forwardedRef: ref };\n    specialAssign(buttonProps, props, {\n      ambManager: checkedProps.ambManager,\n      children: checkedProps.children,\n      forwardedRef: checkedProps.forwardedRef\n    });\n    return React.createElement(AriaMenuButtonMenuItem, buttonProps, props.children);\n  });\n});","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar PropTypes = require('prop-types');\nvar createManager = require('./createManager');\nvar ManagerContext = require('./ManagerContext');\n\nvar _require = require(\"./propTypes\"),\n    refType = _require.refType;\n\nvar specialAssign = require('./specialAssign');\n\nvar checkedProps = {\n  children: PropTypes.node.isRequired,\n  forwardedRef: refType,\n  onMenuToggle: PropTypes.func,\n  onSelection: PropTypes.func,\n  closeOnSelection: PropTypes.bool,\n  closeOnBlur: PropTypes.bool,\n  tag: PropTypes.string\n};\n\nvar managerOptionsFromProps = function managerOptionsFromProps(props) {\n  return {\n    onMenuToggle: props.onMenuToggle,\n    onSelection: props.onSelection,\n    closeOnSelection: props.closeOnSelection,\n    closeOnBlur: props.closeOnBlur,\n    id: props.id\n  };\n};\n\nvar AriaMenuButtonWrapper = function (_React$Component) {\n  _inherits(AriaMenuButtonWrapper, _React$Component);\n\n  function AriaMenuButtonWrapper(props) {\n    _classCallCheck(this, AriaMenuButtonWrapper);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.manager = createManager(managerOptionsFromProps(props));\n    return _this;\n  }\n\n  AriaMenuButtonWrapper.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.manager.updateOptions(managerOptionsFromProps(this.props));\n  };\n\n  AriaMenuButtonWrapper.prototype.render = function render() {\n    var wrapperProps = {};\n    specialAssign(wrapperProps, this.props, checkedProps);\n\n    return React.createElement(ManagerContext.Provider, { value: this.manager }, React.createElement(this.props.tag, wrapperProps, this.props.children));\n  };\n\n  return AriaMenuButtonWrapper;\n}(React.Component);\n\nAriaMenuButtonWrapper.propTypes = checkedProps;\nAriaMenuButtonWrapper.defaultProps = { tag: 'div' };\n\n\nmodule.exports = React.forwardRef(function (props, ref) {\n  var wrapperProps = { forwardedRef: ref };\n  specialAssign(wrapperProps, props, { children: checkedProps.children, forwardedRef: checkedProps.forwardedRef });\n  specialAssign(wrapperProps, { forwardedRef: ref });\n  return React.createElement(AriaMenuButtonWrapper, wrapperProps, props.children);\n});","'use strict';\n\nvar createFocusGroup = require('focus-group');\nvar externalStateControl = require('./externalStateControl');\n\nvar focusGroupOptions = {\n  wrap: true,\n  stringSearch: true\n};\n\nvar protoManager = {\n  init: function init(options) {\n    this.updateOptions(options);\n\n    this.handleBlur = handleBlur.bind(this);\n    this.handleSelection = handleSelection.bind(this);\n    this.handleMenuKey = handleMenuKey.bind(this);\n\n    // \"With focus on the drop-down menu, the Up and Down Arrow\n    // keys move focus within the menu items, \"wrapping\" at the top and bottom.\"\n    // \"Typing a letter (printable character) key moves focus to the next\n    // instance of a visible node whose title begins with that printable letter.\"\n    //\n    // All of the above is handled by focus-group.\n    this.focusGroup = createFocusGroup(focusGroupOptions);\n\n    // These component references are added when the relevant components mount\n    this.button = null;\n    this.menu = null;\n\n    // State trackers\n    this.isOpen = false;\n  },\n  updateOptions: function updateOptions(options) {\n    var oldOptions = this.options;\n\n    this.options = options || this.options || {};\n\n    if (typeof this.options.closeOnSelection === 'undefined') {\n      this.options.closeOnSelection = true;\n    }\n\n    if (typeof this.options.closeOnBlur === 'undefined') {\n      this.options.closeOnBlur = true;\n    }\n\n    if (this.options.id) {\n      externalStateControl.registerManager(this.options.id, this);\n    }\n\n    if (oldOptions && oldOptions.id && oldOptions.id !== this.options.id) {\n      externalStateControl.unregisterManager(this.options.id, this);\n    }\n  },\n  focusItem: function focusItem(index) {\n    this.focusGroup.focusNodeAtIndex(index);\n  },\n  addItem: function addItem(item) {\n    this.focusGroup.addMember(item);\n  },\n  clearItems: function clearItems() {\n    this.focusGroup.clearMembers();\n  },\n  handleButtonNonArrowKey: function handleButtonNonArrowKey(event) {\n    this.focusGroup._handleUnboundKey(event);\n  },\n  destroy: function destroy() {\n    this.button = null;\n    this.menu = null;\n    this.focusGroup.deactivate();\n    clearTimeout(this.blurTimer);\n    clearTimeout(this.moveFocusTimer);\n  },\n  update: function update() {\n    this.menu.setState({ isOpen: this.isOpen });\n    this.button.setState({ menuOpen: this.isOpen });\n    this.options.onMenuToggle && this.options.onMenuToggle({ isOpen: this.isOpen });\n  },\n  openMenu: function openMenu(openOptions) {\n    if (this.isOpen) return;\n    openOptions = openOptions || {};\n    if (openOptions.focusMenu === undefined) {\n      openOptions.focusMenu = true;\n    }\n    this.isOpen = true;\n    this.update();\n    this.focusGroup.activate();\n    if (openOptions.focusMenu) {\n      var self = this;\n      this.moveFocusTimer = setTimeout(function () {\n        self.focusItem(0);\n      }, 0);\n    }\n  },\n  closeMenu: function closeMenu(closeOptions) {\n    if (!this.isOpen) return;\n    closeOptions = closeOptions || {};\n    this.isOpen = false;\n    this.update();\n    if (closeOptions.focusButton) {\n      this.button.ref.current.focus();\n    }\n  },\n  toggleMenu: function toggleMenu(closeOptions, openOptions) {\n    closeOptions = closeOptions || {};\n    openOptions = openOptions || {};\n    if (this.isOpen) {\n      this.closeMenu(closeOptions);\n    } else {\n      this.openMenu(openOptions);\n    }\n  }\n};\n\nfunction handleBlur() {\n  var self = this;\n  self.blurTimer = setTimeout(function () {\n    if (!self.button) return;\n    var buttonNode = self.button.ref.current;\n    if (!buttonNode) return;\n    var activeEl = buttonNode.ownerDocument.activeElement;\n    if (buttonNode && activeEl === buttonNode) return;\n    var menuNode = self.menu.ref.current;\n    if (menuNode === activeEl) {\n      self.focusItem(0);\n      return;\n    }\n    if (menuNode && menuNode.contains(activeEl)) return;\n    if (self.isOpen) self.closeMenu({ focusButton: false });\n  }, 0);\n}\n\nfunction handleSelection(value, event) {\n  if (this.options.closeOnSelection) this.closeMenu({ focusButton: true });\n  if (this.options.onSelection) this.options.onSelection(value, event);\n}\n\nfunction handleMenuKey(event) {\n  if (this.isOpen) {\n    switch (event.key) {\n      // With focus on the drop-down menu, pressing Escape closes\n      // the menu and returns focus to the button.\n      case 'Escape':\n        event.preventDefault();\n        this.closeMenu({ focusButton: true });\n        break;\n      case 'Home':\n        event.preventDefault();\n        this.focusGroup.moveFocusToFirst();\n        break;\n      case 'End':\n        event.preventDefault();\n        this.focusGroup.moveFocusToLast();\n        break;\n    }\n  }\n}\n\nmodule.exports = function (options) {\n  var newManager = Object.create(protoManager);\n  newManager.init(options);\n  return newManager;\n};","'use strict';\n\nvar registeredManagers = {};\n\nvar errorCommon = 'a menu outside a mounted Wrapper with an id, or a menu that does not exist';\n\nfunction registerManager(menuId, manager) {\n  registeredManagers[menuId] = manager;\n}\n\nfunction unregisterManager(menuId) {\n  delete registeredManagers[menuId];\n}\n\nfunction openMenu(menuId, openOptions) {\n  var manager = registeredManagers[menuId];\n  if (!manager) throw new Error('Cannot open ' + errorCommon);\n  manager.openMenu(openOptions);\n}\n\nfunction closeMenu(menuId, closeOptions) {\n  var manager = registeredManagers[menuId];\n  if (!manager) throw new Error('Cannot close ' + errorCommon);\n  manager.closeMenu(closeOptions);\n}\n\nmodule.exports = {\n  registerManager: registerManager,\n  unregisterManager: unregisterManager,\n  openMenu: openMenu,\n  closeMenu: closeMenu\n};","'use strict';\n\nvar externalStateControl = require('./externalStateControl');\n\nmodule.exports = {\n  Wrapper: require('./Wrapper'),\n  Button: require('./Button'),\n  Menu: require('./Menu'),\n  MenuItem: require('./MenuItem'),\n  openMenu: externalStateControl.openMenu,\n  closeMenu: externalStateControl.closeMenu\n};","\"use strict\";\n\nvar PropTypes = require(\"prop-types\");\n\nmodule.exports = {\n  refType: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({ current: PropTypes.elementType })])\n};","\"use strict\";\n\nmodule.exports = function (a, b, reserved) {\n  reserved = reserved || {};\n  // This will get id, className, style, etc.\n  for (var x in b) {\n    if (!b.hasOwnProperty(x)) continue;\n    if (reserved[x]) continue;\n    a[x] = b[x];\n  }\n};","/*!\n* tabbable 6.1.1\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\n// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\n// CAREFUL: JSDom does not support `:not([inert] *)` as a selector; using it causes\n//  the entire query to fail, resulting in no nodes found, which will break a lot\n//  of things... so we have to rely on JS to identify nodes inside an inert container\nvar candidateSelectors = ['input:not([inert])', 'select:not([inert])', 'textarea:not([inert])', 'a[href]:not([inert])', 'button:not([inert])', '[tabindex]:not(slot):not([inert])', 'audio[controls]:not([inert])', 'video[controls]:not([inert])', '[contenteditable]:not([contenteditable=\"false\"]):not([inert])', 'details>summary:first-of-type:not([inert])', 'details:not([inert])'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar NoElement = typeof Element === 'undefined';\nvar matches = NoElement ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\nvar getRootNode = !NoElement && Element.prototype.getRootNode ? function (element) {\n  var _element$getRootNode;\n  return element === null || element === void 0 ? void 0 : (_element$getRootNode = element.getRootNode) === null || _element$getRootNode === void 0 ? void 0 : _element$getRootNode.call(element);\n} : function (element) {\n  return element === null || element === void 0 ? void 0 : element.ownerDocument;\n};\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Element} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nvar isInert = function isInert(node, lookUp) {\n  var _node$getAttribute;\n  if (lookUp === void 0) {\n    lookUp = true;\n  }\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  var inertAtt = node === null || node === void 0 ? void 0 : (_node$getAttribute = node.getAttribute) === null || _node$getAttribute === void 0 ? void 0 : _node$getAttribute.call(node, 'inert');\n  var inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  // CAREFUL: JSDom does not appear to support certain selectors like `:not([inert] *)`\n  //  so it likely would not support `:is([inert] *)` either...\n  var result = inert || lookUp && node && isInert(node.parentNode); // recursive\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nvar isContentEditable = function isContentEditable(node) {\n  var _node$getAttribute2;\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  var attValue = node === null || node === void 0 ? void 0 : (_node$getAttribute2 = node.getAttribute) === null || _node$getAttribute2 === void 0 ? void 0 : _node$getAttribute2.call(node, 'contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert, all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nvar getCandidatesIteratively = function getCandidatesIteratively(elements, includeContainer, options) {\n  var candidates = [];\n  var elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    var element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      var assigned = element.assignedElements();\n      var content = assigned.length ? assigned : element.children;\n      var nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push.apply(candidates, nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates\n        });\n      }\n    } else {\n      // check candidate element\n      var validCandidate = matches.call(element, candidateSelector);\n      if (validCandidate && options.filter(element) && (includeContainer || !elements.includes(element))) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      var shadowRoot = element.shadowRoot ||\n      // check for an undisclosed shadow\n      typeof options.getShadowRoot === 'function' && options.getShadowRoot(element);\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      var validShadowRoot = !isInert(shadowRoot, false) && (!options.shadowRootFilter || options.shadowRootFilter(element));\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        var _nestedCandidates = getCandidatesIteratively(shadowRoot === true ? element.children : shadowRoot.children, true, options);\n        if (options.flatten) {\n          candidates.push.apply(candidates, _nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: _nestedCandidates\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift.apply(elementsToCheck, element.children);\n      }\n    }\n  }\n  return candidates;\n};\nvar getTabindex = function getTabindex(node, isScope) {\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    //\n    // isScope is positive for custom element with shadow root or slot that by default\n    // have tabIndex -1, but need to be sorted by document order in order for their\n    // content to be inserted in the correct position\n    if ((isScope || /^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) || isContentEditable(node)) && isNaN(parseInt(node.getAttribute('tabindex'), 10))) {\n      return 0;\n    }\n  }\n  return node.tabIndex;\n};\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n  var radioScope = node.form || getRootNode(node);\n  var queryRadios = function queryRadios(name) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name + '\"]');\n  };\n  var radioSet;\n  if (typeof window !== 'undefined' && typeof window.CSS !== 'undefined' && typeof window.CSS.escape === 'function') {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s', err.message);\n      return false;\n    }\n  }\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nvar isNodeAttached = function isNodeAttached(node) {\n  var _nodeRoot;\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  var nodeRoot = node && getRootNode(node);\n  var nodeRootHost = (_nodeRoot = nodeRoot) === null || _nodeRoot === void 0 ? void 0 : _nodeRoot.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  var attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    var _nodeRootHost, _nodeRootHost$ownerDo, _node$ownerDocument;\n    attached = !!((_nodeRootHost = nodeRootHost) !== null && _nodeRootHost !== void 0 && (_nodeRootHost$ownerDo = _nodeRootHost.ownerDocument) !== null && _nodeRootHost$ownerDo !== void 0 && _nodeRootHost$ownerDo.contains(nodeRootHost) || node !== null && node !== void 0 && (_node$ownerDocument = node.ownerDocument) !== null && _node$ownerDocument !== void 0 && _node$ownerDocument.contains(node));\n    while (!attached && nodeRootHost) {\n      var _nodeRoot2, _nodeRootHost2, _nodeRootHost2$ownerD;\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = (_nodeRoot2 = nodeRoot) === null || _nodeRoot2 === void 0 ? void 0 : _nodeRoot2.host;\n      attached = !!((_nodeRootHost2 = nodeRootHost) !== null && _nodeRootHost2 !== void 0 && (_nodeRootHost2$ownerD = _nodeRootHost2.ownerDocument) !== null && _nodeRootHost2$ownerD !== void 0 && _nodeRootHost2$ownerD.contains(nodeRootHost));\n    }\n  }\n  return attached;\n};\nvar isZeroArea = function isZeroArea(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n    width = _node$getBoundingClie.width,\n    height = _node$getBoundingClie.height;\n  return width === 0 && height === 0;\n};\nvar isHidden = function isHidden(node, _ref) {\n  var displayCheck = _ref.displayCheck,\n    getShadowRoot = _ref.getShadowRoot;\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n  if (!displayCheck || displayCheck === 'full' || displayCheck === 'legacy-full') {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      var originalNode = node;\n      while (node) {\n        var parentElement = node.parentElement;\n        var rootNode = getRootNode(node);\n        if (parentElement && !parentElement.shadowRoot && getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nvar isDisabledFromFieldset = function isDisabledFromFieldset(node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    var parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *') ? true : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {\n  if (node.disabled ||\n  // we must do an inert look up to filter out any elements inside an inert ancestor\n  //  because we're limited in the type of selectors we can use in JSDom (see related\n  //  note related to `candidateSelectors`)\n  isInert(node) || isHiddenInput(node) || isHidden(node, options) ||\n  // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n  return true;\n};\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(options, node) {\n  if (isNonTabbableRadio(node) || getTabindex(node) < 0 || !isNodeMatchingSelectorFocusable(options, node)) {\n    return false;\n  }\n  return true;\n};\nvar isValidShadowRootTabbable = function isValidShadowRootTabbable(shadowHostNode) {\n  var tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nvar sortByOrder = function sortByOrder(candidates) {\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    var isScope = !!item.scopeParent;\n    var element = isScope ? item.scopeParent : item;\n    var candidateTabindex = getTabindex(element, isScope);\n    var elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope ? regularTabbables.push.apply(regularTabbables, elements) : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements\n      });\n    }\n  });\n  return orderedTabbables.sort(sortOrderedTabbables).reduce(function (acc, sortable) {\n    sortable.isScope ? acc.push.apply(acc, sortable.content) : acc.push(sortable.content);\n    return acc;\n  }, []).concat(regularTabbables);\n};\nvar tabbable = function tabbable(el, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot,\n      shadowRootFilter: isValidShadowRootTabbable\n    });\n  } else {\n    candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  }\n  return sortByOrder(candidates);\n};\nvar focusable = function focusable(el, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot\n    });\n  } else {\n    candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  }\n  return candidates;\n};\nvar isTabbable = function isTabbable(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\nvar isFocusable = function isFocusable(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { focusable, isFocusable, isTabbable, tabbable };\n//# sourceMappingURL=index.esm.js.map\n","module.exports = function createTapListener(el, callback, useCapture) {\n  var startX = 0;\n  var startY = 0;\n  var touchStarted = false;\n  var touchMoved = false;\n  // Assume that if a touchstart event initiates, the user is\n  // using touch and click events should be ignored.\n  // If this isn't done, touch-clicks will fire the callback\n  // twice: once on touchend, once on the subsequent \"click\".\n  var usingTouch = false;\n\n  el.addEventListener('click', handleClick, useCapture);\n  el.addEventListener('touchstart', handleTouchstart, useCapture);\n\n  function handleClick(e) {\n    if (usingTouch) return;\n    callback(e);\n  }\n\n  function handleTouchstart(e) {\n    usingTouch = true;\n\n    if (touchStarted) return;\n    touchStarted = true;\n\n    el.addEventListener('touchmove', handleTouchmove, useCapture);\n    el.addEventListener('touchend', handleTouchend, useCapture);\n    el.addEventListener('touchcancel', handleTouchcancel, useCapture);\n\n    touchMoved = false;\n    startX = e.touches[0].clientX;\n    startY = e.touches[0].clientY;\n  }\n\n  function handleTouchmove(e) {\n    if (touchMoved) return;\n\n    if (\n      Math.abs(e.touches[0].clientX - startX) <= 10\n      && Math.abs(e.touches[0].clientY - startY) <= 10\n    ) return;\n\n    touchMoved = true;\n  }\n\n  function handleTouchend(e) {\n    touchStarted = false;\n    removeSecondaryTouchListeners();\n    if (!touchMoved) {\n      callback(e);\n    }\n  }\n\n  function handleTouchcancel() {\n    touchStarted = false;\n    touchMoved = false;\n    startX = 0;\n    startY = 0;\n  }\n\n  function removeSecondaryTouchListeners() {\n    el.removeEventListener('touchmove', handleTouchmove, useCapture);\n    el.removeEventListener('touchend', handleTouchend, useCapture);\n    el.removeEventListener('touchcancel', handleTouchcancel, useCapture);\n  }\n\n  function removeTapListener() {\n    el.removeEventListener('click', handleClick, useCapture);\n    el.removeEventListener('touchstart', handleTouchstart, useCapture);\n    removeSecondaryTouchListeners();\n  }\n\n  return {\n    remove: removeTapListener,\n  };\n};\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Tooltip_1=require(\"./package/Tooltip\");exports.default=Tooltip_1.Tooltip;","\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,\"__esModule\",{value:!0});var react_1=__importDefault(require(\"react\")),TooltipBase=react_1.default.forwardRef(function(t,e){var r=t.children,o=t.id,a=t.role,i=t.visible,s=t.transform,n=t.position,p=react_1.default.useMemo(function(){var t={position:\"absolute\",zIndex:1,cursor:\"initial\",visibility:i?\"visible\":\"hidden\",top:s.top+\"px\",left:s.left+\"px\"};switch(n){case\"bottom\":t.marginTop=\"5px\";break;case\"top\":t.marginTop=\"-5px\";break;case\"left\":t.marginRight=\"5px\";break;case\"right\":t.marginLeft=\"5px\"}return t},[n,s,i]);return react_1.default.createElement(\"span\",{ref:e,id:o,style:p,role:a},r)});exports.TooltipBase=TooltipBase;var TooltipArrow=function(t){var e=t.position,r=react_1.default.useMemo(function(){var t={marginTop:\"-5px\",position:\"absolute\",width:0,height:0,borderColor:\"transparent\",borderStyle:\"solid\"};switch(e){case\"bottom\":t=__assign(__assign({},t),{top:0,left:\"50%\",marginLeft:\"-5px\",borderWidth:\"0 5px 5px\",borderBottomColor:\"#000\"});break;case\"top\":t=__assign(__assign({},t),{top:\"auto\",left:\"50%\",bottom:\"-5px\",marginLeft:\"-5px\",borderWidth:\"5px 5px 0\",borderTopColor:\"#000\"});break;case\"left\":t=__assign(__assign({},t),{top:\"50%\",marginTop:\"-5px\",borderWidth:\"5px 0 5px 5px\",borderLeftColor:\"#000\",right:\"-5px\",left:\"auto\"});break;case\"right\":t=__assign(__assign({},t),{top:\"50%\",left:\"auto\",marginLeft:\"-5px\",borderWidth:\"5px 5px 5px 0\",borderRightColor:\"#000\"})}return t},[e]);return react_1.default.createElement(\"span\",{style:r})};exports.TooltipArrow=TooltipArrow;var TooltipBody=function(t){var e=t.children,r=react_1.default.useMemo(function(){return{maxWidth:\"200px\",padding:\"3px 8px\",color:\"#fff\",textAlign:\"center\",backgroundColor:\"#000\",borderRadius:\"4px\",display:\"block\"}},[]);return react_1.default.createElement(\"span\",{style:r},e)};exports.TooltipBody=TooltipBody;","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importDefault(require(\"react\"));\nvar helpers_1 = require(\"./helpers\");\nvar Tooltip_components_1 = require(\"./Tooltip.components\");\nvar Tooltip = function (_a) {\n    var children = _a.children, body = _a.body, position = _a.position, title = _a.title, _b = _a.tooltipId, tooltipId = _b === void 0 ? \"tooltip\" : _b, _c = _a.ariaEssential, ariaEssential = _c === void 0 ? false : _c;\n    var thisRef = react_1.default.useRef(null);\n    var childrenRef = react_1.default.useRef(null);\n    var _d = react_1.default.useState({\n        visible: false,\n        transform: { top: 0, left: 0 },\n        position: 'none',\n    }), state = _d[0], setState = _d[1];\n    var deriveTooltipPosition = function (hoverRect, hoverRectFixedParentRect) {\n        var _a, _b, _c, _d, _e;\n        if (thisRef.current !== null) {\n            var top_1 = 0;\n            var left = 0;\n            var newState = __assign(__assign({}, state), { visible: false, position: 'none' });\n            var ttRect = thisRef.current.getBoundingClientRect();\n            var hoverRectStyles = window.getComputedStyle(childrenRef.current || thisRef.current);\n            if (position) {\n                (_a = helpers_1.calculatePosition[position](ttRect, hoverRect, hoverRectStyles, hoverRectFixedParentRect), top_1 = _a.top, left = _a.left);\n                newState.position = position;\n                newState.visible = true;\n            }\n            else {\n                var docWidth = document.documentElement.clientWidth;\n                var docHeight = document.documentElement.clientHeight;\n                var rx = hoverRect.x + hoverRect.width;\n                var lx = hoverRect.x;\n                var ty = hoverRect.y;\n                var by = hoverRect.y + hoverRect.height;\n                var bBelow = by + ttRect.height <= docHeight;\n                var bRight = rx + ttRect.width <= docWidth;\n                var bLeft = lx - ttRect.width >= 0;\n                var bAbove = ty - ttRect.height >= 0;\n                var fitsBelow = bBelow;\n                var fitsRight = bRight && bBelow && bAbove;\n                var fitsLeft = bLeft && bBelow && bAbove;\n                var fitsAbove = bAbove;\n                if (fitsBelow) {\n                    (_b = helpers_1.calculatePosition.bottom(ttRect, hoverRect, hoverRectStyles, hoverRectFixedParentRect), top_1 = _b.top, left = _b.left);\n                    newState.position = 'bottom';\n                    newState.visible = true;\n                }\n                else if (fitsLeft) {\n                    (_c = helpers_1.calculatePosition.left(ttRect, hoverRect, hoverRectStyles, hoverRectFixedParentRect), top_1 = _c.top, left = _c.left);\n                    newState.position = 'left';\n                    newState.visible = true;\n                }\n                else if (fitsRight) {\n                    (_d = helpers_1.calculatePosition.right(ttRect, hoverRect, hoverRectStyles, hoverRectFixedParentRect), top_1 = _d.top, left = _d.left);\n                    newState.position = 'right';\n                    newState.visible = true;\n                }\n                else if (fitsAbove) {\n                    (_e = helpers_1.calculatePosition.top(ttRect, hoverRect, hoverRectStyles, hoverRectFixedParentRect), top_1 = _e.top, left = _e.left);\n                    newState.position = 'top';\n                    newState.visible = true;\n                }\n            }\n            setState(__assign(__assign({}, newState), { transform: { top: top_1, left: left } }));\n        }\n    };\n    var handleEventTarget = function (target) {\n        if (target !== null && body !== null) {\n            var rect = target.getBoundingClientRect();\n            deriveTooltipPosition(rect, helpers_1.hasFixedAncestor(target));\n            document.addEventListener('keydown', function (_a) {\n                var key = _a.key;\n                if (key === 'Escape' || key === 'Esc') {\n                    hide();\n                }\n            });\n        }\n    };\n    var onHoverEnter = function (e) {\n        handleEventTarget(e.currentTarget);\n    };\n    var onHoverLeave = function (_) { return hide(); };\n    var hide = function () {\n        setState({\n            visible: false,\n            transform: { top: 0, left: 0 },\n            position: 'none',\n        });\n        document.removeEventListener('touchstart', hide);\n        document.removeEventListener('focusout', hide);\n        document.removeEventListener('keydown', hide);\n    };\n    var onTouch = function (e) {\n        handleEventTarget(e.currentTarget);\n        document.addEventListener('touchstart', hide);\n    };\n    var onFocus = function (e) {\n        handleEventTarget(e.currentTarget);\n        document.addEventListener('focusout', hide);\n    };\n    var showNativeTitle = react_1.default.useMemo(function () { return (body === null || state.position === 'none'); }, [body, state.position]);\n    var ariaAttrs = react_1.default.useMemo(function () {\n        var obj = {};\n        if (ariaEssential) {\n            obj['aria-labelledby'] = tooltipId;\n        }\n        else {\n            obj['aria-describedby'] = tooltipId;\n        }\n        return obj;\n    }, [ariaEssential]);\n    var safeChildren = react_1.default.useMemo(function () {\n        if (typeof children === 'string') {\n            return children;\n        }\n        return react_1.default.cloneElement(children, { ref: childrenRef });\n    }, [children]);\n    return (react_1.default.createElement(\"span\", __assign({}, ariaAttrs, { title: showNativeTitle ? title : undefined, onMouseLeave: onHoverLeave, onMouseEnter: onHoverEnter, onTouchStart: onTouch, onFocus: onFocus, style: { display: 'inline-block' } }),\n        safeChildren,\n        react_1.default.createElement(Tooltip_components_1.TooltipBase, __assign({ id: tooltipId, ref: thisRef, \"aria-hidden\": !state.visible, role: 'tooltip' }, state),\n            react_1.default.createElement(Tooltip_components_1.TooltipArrow, { position: state.position }),\n            react_1.default.createElement(Tooltip_components_1.TooltipBody, null, body))));\n};\nexports.Tooltip = Tooltip;\n//# sourceMappingURL=Tooltip.js.map","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.hasFixedAncestor=function(t){var e=t;do{if(\"fixed\"===getComputedStyle(e).position)return e.getBoundingClientRect()}while(e=e.offsetParent)};var calculateFixedParentOffset=function(t){return{top:t.top,left:t.left}},calculateTop=function(t,e,a,o){var f=0;a.marginTop&&(f=parseFloat(a.marginTop));var i={top:0,left:0};return o&&(i=calculateFixedParentOffset(o)),{top:e.top+window.pageYOffset-t.height+f-i.top,left:e.left-t.width/2+e.width/2+window.pageXOffset-i.left}},calculateBottom=function(t,e,a,o){var f=0;a.marginBottom&&(f=parseFloat(a.marginBottom));var i={top:0,left:0};return o&&(i=calculateFixedParentOffset(o)),{top:e.top+e.height+window.pageYOffset-f-i.top,left:e.left-t.width/2+e.width/2+window.pageXOffset-i.left}},calculateRight=function(t,e,a,o){var f=0;a.marginRight&&(f=parseFloat(a.marginRight));var i={top:0,left:0};return o&&(i=calculateFixedParentOffset(o)),{top:e.top-t.height/2+e.height/2+window.pageYOffset-i.top,left:e.left+e.width-f+window.pageXOffset-i.left}},calculateLeft=function(t,e,a,o){var f=0;a.marginLeft&&(f=parseFloat(a.marginLeft));var i={top:0,left:0};return o&&(i=calculateFixedParentOffset(o)),{top:e.top-t.height/2+e.height/2+window.pageYOffset-i.top,left:e.left-t.width+f+window.pageXOffset-i.left-5}};exports.calculatePosition={top:calculateTop,bottom:calculateBottom,left:calculateLeft,right:calculateRight};","/**\n * The unique id is used for unique hashes.\n */\nlet uniqueId = 0;\n/**\n * Quick dictionary lookup for unit-less numbers.\n */\nconst CSS_NUMBER = Object.create(null);\n/**\n * CSS properties that are valid unit-less numbers.\n *\n * Ref: https://github.com/facebook/react/blob/master/packages/react-dom/src/shared/CSSProperty.js\n */\nconst CSS_NUMBER_KEYS = [\n    \"animation-iteration-count\",\n    \"border-image-outset\",\n    \"border-image-slice\",\n    \"border-image-width\",\n    \"box-flex\",\n    \"box-flex-group\",\n    \"box-ordinal-group\",\n    \"column-count\",\n    \"columns\",\n    \"counter-increment\",\n    \"counter-reset\",\n    \"flex\",\n    \"flex-grow\",\n    \"flex-positive\",\n    \"flex-shrink\",\n    \"flex-negative\",\n    \"flex-order\",\n    \"font-weight\",\n    \"grid-area\",\n    \"grid-column\",\n    \"grid-column-end\",\n    \"grid-column-span\",\n    \"grid-column-start\",\n    \"grid-row\",\n    \"grid-row-end\",\n    \"grid-row-span\",\n    \"grid-row-start\",\n    \"line-clamp\",\n    \"line-height\",\n    \"opacity\",\n    \"order\",\n    \"orphans\",\n    \"tab-size\",\n    \"widows\",\n    \"z-index\",\n    \"zoom\",\n    // SVG properties.\n    \"fill-opacity\",\n    \"flood-opacity\",\n    \"stop-opacity\",\n    \"stroke-dasharray\",\n    \"stroke-dashoffset\",\n    \"stroke-miterlimit\",\n    \"stroke-opacity\",\n    \"stroke-width\"\n];\n// Add vendor prefixes to all unit-less properties.\nfor (const property of CSS_NUMBER_KEYS) {\n    for (const prefix of [\"-webkit-\", \"-ms-\", \"-moz-\", \"-o-\", \"\"]) {\n        CSS_NUMBER[prefix + property] = true;\n    }\n}\n/**\n * Escape a CSS class name.\n */\nfunction escape(str) {\n    return str.replace(/[ !#$%&()*+,./;<=>?@[\\]^`{|}~\"'\\\\]/g, \"\\\\$&\");\n}\n/**\n * Transform a JavaScript property into a CSS property.\n */\nfunction hyphenate(propertyName) {\n    return propertyName\n        .replace(/[A-Z]/g, (m) => `-${m.toLowerCase()}`)\n        .replace(/^ms-/, \"-ms-\"); // Internet Explorer vendor prefix.\n}\n/**\n * Generate a hash value from a string.\n */\nfunction stringHash(str) {\n    let value = 5381;\n    let len = str.length;\n    while (len--)\n        value = (value * 33) ^ str.charCodeAt(len);\n    return (value >>> 0).toString(36);\n}\n/**\n * Transform a style string to a CSS string.\n */\nfunction styleToString(key, value) {\n    if (value && typeof value === \"number\" && !CSS_NUMBER[key]) {\n        return `${key}:${value}px`;\n    }\n    return `${key}:${value}`;\n}\n/**\n * Sort an array of tuples by first value.\n */\nfunction sortTuples(value) {\n    return value.sort((a, b) => (a[0] > b[0] ? 1 : -1));\n}\n/**\n * Categorize user styles.\n */\nfunction parseStyles(styles, hasNestedStyles) {\n    const properties = [];\n    const nestedStyles = [];\n    // Sort keys before adding to styles.\n    for (const key of Object.keys(styles)) {\n        const name = key.trim();\n        const value = styles[key];\n        if (name.charCodeAt(0) !== 36 /* $ */ && value != null) {\n            if (typeof value === \"object\" && !Array.isArray(value)) {\n                nestedStyles.push([name, value]);\n            }\n            else {\n                properties.push([hyphenate(name), value]);\n            }\n        }\n    }\n    return {\n        style: stringifyProperties(sortTuples(properties)),\n        nested: hasNestedStyles ? nestedStyles : sortTuples(nestedStyles),\n        isUnique: !!styles.$unique\n    };\n}\n/**\n * Stringify an array of property tuples.\n */\nfunction stringifyProperties(properties) {\n    return properties\n        .map(([name, value]) => {\n        if (!Array.isArray(value))\n            return styleToString(name, value);\n        return value.map(x => styleToString(name, x)).join(\";\");\n    })\n        .join(\";\");\n}\n/**\n * Interpolate CSS selectors.\n */\nfunction interpolate(selector, parent) {\n    if (selector.indexOf(\"&\") === -1)\n        return `${parent} ${selector}`;\n    return selector.replace(/&/g, parent);\n}\n/**\n * Recursive loop building styles with deferred selectors.\n */\nfunction stylize(selector, styles, rulesList, stylesList, parent) {\n    const { style, nested, isUnique } = parseStyles(styles, selector !== \"\");\n    let pid = style;\n    if (selector.charCodeAt(0) === 64 /* @ */) {\n        const child = {\n            selector,\n            styles: [],\n            rules: [],\n            style: parent ? \"\" : style\n        };\n        rulesList.push(child);\n        // Nested styles support (e.g. `.foo > @media > .bar`).\n        if (style && parent) {\n            child.styles.push({ selector: parent, style, isUnique });\n        }\n        for (const [name, value] of nested) {\n            pid += name + stylize(name, value, child.rules, child.styles, parent);\n        }\n    }\n    else {\n        const key = parent ? interpolate(selector, parent) : selector;\n        if (style)\n            stylesList.push({ selector: key, style, isUnique });\n        for (const [name, value] of nested) {\n            pid += name + stylize(name, value, rulesList, stylesList, key);\n        }\n    }\n    return pid;\n}\n/**\n * Transform `stylize` tree into style objects.\n */\nfunction composeStylize(cache, pid, rulesList, stylesList, className, isStyle) {\n    for (const { selector, style, isUnique } of stylesList) {\n        const key = isStyle ? interpolate(selector, className) : selector;\n        const id = isUnique\n            ? `u\\0${(++uniqueId).toString(36)}`\n            : `s\\0${pid}\\0${style}`;\n        const item = new Style(style, id);\n        item.add(new Selector(key, `k\\0${pid}\\0${key}`));\n        cache.add(item);\n    }\n    for (const { selector, style, rules, styles } of rulesList) {\n        const item = new Rule(selector, style, `r\\0${pid}\\0${selector}\\0${style}`);\n        composeStylize(item, pid, rules, styles, className, isStyle);\n        cache.add(item);\n    }\n}\n/**\n * Cache to list to styles.\n */\nfunction join(arr) {\n    let res = \"\";\n    for (let i = 0; i < arr.length; i++)\n        res += arr[i];\n    return res;\n}\n/**\n * Noop changes.\n */\nconst noopChanges = {\n    add: () => undefined,\n    change: () => undefined,\n    remove: () => undefined\n};\n/**\n * Implement a cache/event emitter.\n */\nexport class Cache {\n    constructor(changes = noopChanges) {\n        this.changes = changes;\n        this.sheet = [];\n        this.changeId = 0;\n        this._keys = [];\n        this._children = Object.create(null);\n        this._counters = Object.create(null);\n    }\n    add(style) {\n        const count = this._counters[style.id] || 0;\n        const item = this._children[style.id] || style.clone();\n        this._counters[style.id] = count + 1;\n        if (count === 0) {\n            this._children[item.id] = item;\n            this._keys.push(item.id);\n            this.sheet.push(item.getStyles());\n            this.changeId++;\n            this.changes.add(item, this._keys.length - 1);\n        }\n        else if (item instanceof Cache && style instanceof Cache) {\n            const curIndex = this._keys.indexOf(style.id);\n            const prevItemChangeId = item.changeId;\n            item.merge(style);\n            if (item.changeId !== prevItemChangeId) {\n                this.sheet.splice(curIndex, 1, item.getStyles());\n                this.changeId++;\n                this.changes.change(item, curIndex, curIndex);\n            }\n        }\n    }\n    remove(style) {\n        const count = this._counters[style.id];\n        if (count) {\n            this._counters[style.id] = count - 1;\n            const item = this._children[style.id];\n            const index = this._keys.indexOf(item.id);\n            if (count === 1) {\n                delete this._counters[style.id];\n                delete this._children[style.id];\n                this._keys.splice(index, 1);\n                this.sheet.splice(index, 1);\n                this.changeId++;\n                this.changes.remove(item, index);\n            }\n            else if (item instanceof Cache && style instanceof Cache) {\n                const prevChangeId = item.changeId;\n                item.unmerge(style);\n                if (item.changeId !== prevChangeId) {\n                    this.sheet.splice(index, 1, item.getStyles());\n                    this.changeId++;\n                    this.changes.change(item, index, index);\n                }\n            }\n        }\n    }\n    values() {\n        return this._keys.map(key => this._children[key]);\n    }\n    merge(cache) {\n        for (const item of cache.values())\n            this.add(item);\n        return this;\n    }\n    unmerge(cache) {\n        for (const item of cache.values())\n            this.remove(item);\n        return this;\n    }\n    clone() {\n        return new Cache().merge(this);\n    }\n}\n/**\n * Selector is a dumb class made to represent nested CSS selectors.\n */\nexport class Selector {\n    constructor(selector, id) {\n        this.selector = selector;\n        this.id = id;\n    }\n    getStyles() {\n        return this.selector;\n    }\n    clone() {\n        return this;\n    }\n}\n/**\n * The style container registers a style string with selectors.\n */\nexport class Style extends Cache {\n    constructor(style, id) {\n        super();\n        this.style = style;\n        this.id = id;\n    }\n    getStyles() {\n        return `${this.sheet.join(\",\")}{${this.style}}`;\n    }\n    clone() {\n        return new Style(this.style, this.id).merge(this);\n    }\n}\n/**\n * Implement rule logic for style output.\n */\nexport class Rule extends Cache {\n    constructor(rule, style, id) {\n        super();\n        this.rule = rule;\n        this.style = style;\n        this.id = id;\n    }\n    getStyles() {\n        return `${this.rule}{${this.style}${join(this.sheet)}}`;\n    }\n    clone() {\n        return new Rule(this.rule, this.style, this.id).merge(this);\n    }\n}\nfunction key(pid, styles) {\n    const key = `f${stringHash(pid)}`;\n    if (process.env.NODE_ENV === \"production\" || !styles.$displayName)\n        return key;\n    return `${styles.$displayName}_${key}`;\n}\n/**\n * The FreeStyle class implements the API for everything else.\n */\nexport class FreeStyle extends Cache {\n    constructor(id, changes) {\n        super(changes);\n        this.id = id;\n    }\n    registerStyle(styles) {\n        const rulesList = [];\n        const stylesList = [];\n        const pid = stylize(\"&\", styles, rulesList, stylesList);\n        const id = key(pid, styles);\n        const selector = `.${process.env.NODE_ENV === \"production\" ? id : escape(id)}`;\n        composeStylize(this, pid, rulesList, stylesList, selector, true);\n        return id;\n    }\n    registerKeyframes(keyframes) {\n        return this.registerHashRule(\"@keyframes\", keyframes);\n    }\n    registerHashRule(prefix, styles) {\n        const rulesList = [];\n        const stylesList = [];\n        const pid = stylize(\"\", styles, rulesList, stylesList);\n        const id = key(pid, styles);\n        const selector = `${prefix} ${process.env.NODE_ENV === \"production\" ? id : escape(id)}`;\n        const rule = new Rule(selector, \"\", `h\\0${pid}\\0${prefix}`);\n        composeStylize(rule, pid, rulesList, stylesList, \"\", false);\n        this.add(rule);\n        return id;\n    }\n    registerRule(rule, styles) {\n        const rulesList = [];\n        const stylesList = [];\n        const pid = stylize(rule, styles, rulesList, stylesList);\n        composeStylize(this, pid, rulesList, stylesList, \"\", false);\n    }\n    registerCss(styles) {\n        return this.registerRule(\"\", styles);\n    }\n    getStyles() {\n        return join(this.sheet);\n    }\n    clone() {\n        return new FreeStyle(this.id, this.changes).merge(this);\n    }\n}\n/**\n * Exports a simple function to create a new instance.\n */\nexport function create(changes) {\n    return new FreeStyle(`f${(++uniqueId).toString(36)}`, changes);\n}\n//# sourceMappingURL=index.js.map","/**\n * We need to do the following to *our* objects before passing to freestyle:\n * - For any `$nest` directive move up to FreeStyle style nesting\n * - For any `$unique` directive map to FreeStyle Unique\n * - For any `$debugName` directive return the debug name\n */\nexport function convertToStyles(object) {\n    /** The final result we will return */\n    var styles = {};\n    for (var key in object) {\n        /** Grab the value upfront */\n        var val = object[key];\n        /** TypeStyle configuration options */\n        if (key === '$nest') {\n            var nested = val;\n            for (var selector in nested) {\n                var subproperties = nested[selector];\n                styles[selector] = convertToStyles(subproperties);\n            }\n        }\n        else if (key === '$debugName') {\n            styles.$displayName = val;\n        }\n        else {\n            styles[key] = val;\n        }\n    }\n    return styles;\n}\n// todo: better name here\nexport function convertToKeyframes(frames) {\n    var result = {};\n    for (var offset in frames) {\n        if (offset !== '$debugName') {\n            result[offset] = frames[offset];\n        }\n    }\n    if (frames.$debugName) {\n        result.$displayName = frames.$debugName;\n    }\n    return result;\n}\n","/** Raf for node + browser */\nexport var raf = typeof requestAnimationFrame === 'undefined'\n    /**\n     * Make sure setTimeout is always invoked with\n     * `this` set to `window` or `global` automatically\n     **/\n    ? function (cb) { return setTimeout(cb); }\n    /**\n     * Make sure window.requestAnimationFrame is always invoked with `this` window\n     * We might have raf without window in case of `raf/polyfill` (recommended by React)\n     **/\n    : typeof window === 'undefined'\n        ? requestAnimationFrame\n        : requestAnimationFrame.bind(window);\n/**\n * Utility to join classes conditionally\n */\nexport function classes() {\n    var classes = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        classes[_i] = arguments[_i];\n    }\n    return classes\n        .map(function (c) { return c && typeof c === 'object' ? Object.keys(c).map(function (key) { return !!c[key] && key; }) : [c]; })\n        .reduce(function (flattened, c) { return flattened.concat(c); }, [])\n        .filter(function (c) { return !!c; })\n        .join(' ');\n}\n/**\n * Merges various styles into a single style object.\n * Note: if two objects have the same property the last one wins\n */\nexport function extend() {\n    var objects = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        objects[_i] = arguments[_i];\n    }\n    /** The final result we will return */\n    var result = {};\n    for (var _a = 0, objects_1 = objects; _a < objects_1.length; _a++) {\n        var object = objects_1[_a];\n        if (object == null || object === false) {\n            continue;\n        }\n        for (var key in object) {\n            /** Falsy values except a explicit 0 is ignored */\n            var val = object[key];\n            if (!val && val !== 0) {\n                continue;\n            }\n            /** if nested media or pseudo selector */\n            if (key === '$nest' && val) {\n                result[key] = result['$nest'] ? extend(result['$nest'], val) : val;\n            }\n            /** if freestyle sub key that needs merging. We come here due to our recursive calls */\n            else if ((key.indexOf('&') !== -1 || key.indexOf('@media') === 0)) {\n                result[key] = result[key] ? extend(result[key], val) : val;\n            }\n            else {\n                result[key] = val;\n            }\n        }\n    }\n    return result;\n}\n/**\n * Utility to help customize styles with media queries. e.g.\n * ```\n * style(\n *  media({maxWidth:500}, {color:'red'})\n * )\n * ```\n */\nexport var media = function (mediaQuery) {\n    var _a;\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    var mediaQuerySections = [];\n    if (mediaQuery.type)\n        mediaQuerySections.push(mediaQuery.type);\n    if (mediaQuery.orientation)\n        mediaQuerySections.push(\"(orientation: \" + mediaQuery.orientation + \")\");\n    if (mediaQuery.minWidth)\n        mediaQuerySections.push(\"(min-width: \" + mediaLength(mediaQuery.minWidth) + \")\");\n    if (mediaQuery.maxWidth)\n        mediaQuerySections.push(\"(max-width: \" + mediaLength(mediaQuery.maxWidth) + \")\");\n    if (mediaQuery.minHeight)\n        mediaQuerySections.push(\"(min-height: \" + mediaLength(mediaQuery.minHeight) + \")\");\n    if (mediaQuery.maxHeight)\n        mediaQuerySections.push(\"(max-height: \" + mediaLength(mediaQuery.maxHeight) + \")\");\n    if (mediaQuery.prefersColorScheme)\n        mediaQuerySections.push(\"(prefers-color-scheme: \" + mediaQuery.prefersColorScheme + \")\");\n    var stringMediaQuery = \"@media \" + mediaQuerySections.join(' and ');\n    var object = {\n        $nest: (_a = {},\n            _a[stringMediaQuery] = extend.apply(void 0, objects),\n            _a)\n    };\n    return object;\n};\nvar mediaLength = function (value) {\n    return typeof value === 'string' ? value : value + \"px\";\n};\n","import * as FreeStyle from \"free-style\";\nimport { convertToStyles, convertToKeyframes } from './formatting';\nimport { extend, raf } from './utilities';\n/**\n * Creates an instance of free style with our options\n */\nvar createFreeStyle = function () { return FreeStyle.create(); };\n/**\n * Maintains a single stylesheet and keeps it in sync with requested styles\n */\nvar TypeStyle = /** @class */ (function () {\n    function TypeStyle(_a) {\n        var _this = this;\n        var autoGenerateTag = _a.autoGenerateTag;\n        /**\n         * Insert `raw` CSS as a string. This is useful for e.g.\n         * - third party CSS that you are customizing with template strings\n         * - generating raw CSS in JavaScript\n         * - reset libraries like normalize.css that you can use without loaders\n         */\n        this.cssRaw = function (mustBeValidCSS) {\n            if (!mustBeValidCSS) {\n                return;\n            }\n            _this._raw += mustBeValidCSS || '';\n            _this._pendingRawChange = true;\n            _this._styleUpdated();\n        };\n        /**\n         * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n         */\n        this.cssRule = function (selector) {\n            var objects = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                objects[_i - 1] = arguments[_i];\n            }\n            var styles = convertToStyles(extend.apply(void 0, objects));\n            _this._freeStyle.registerRule(selector, styles);\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Renders styles to the singleton tag imediately\n         * NOTE: You should only call it on initial render to prevent any non CSS flash.\n         * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n         **/\n        this.forceRenderStyles = function () {\n            var target = _this._getTag();\n            if (!target) {\n                return;\n            }\n            target.textContent = _this.getStyles();\n        };\n        /**\n         * Utility function to register an @font-face\n         */\n        this.fontFace = function () {\n            var fontFace = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                fontFace[_i] = arguments[_i];\n            }\n            var freeStyle = _this._freeStyle;\n            for (var _a = 0, _b = fontFace; _a < _b.length; _a++) {\n                var face = _b[_a];\n                freeStyle.registerRule('@font-face', face);\n            }\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Allows use to use the stylesheet in a node.js environment\n         */\n        this.getStyles = function () {\n            return (_this._raw || '') + _this._freeStyle.getStyles();\n        };\n        /**\n         * Takes keyframes and returns a generated animationName\n         */\n        this.keyframes = function (frames) {\n            var keyframes = convertToKeyframes(frames);\n            // TODO: replace $debugName with display name\n            var animationName = _this._freeStyle.registerKeyframes(keyframes);\n            _this._styleUpdated();\n            return animationName;\n        };\n        /**\n         * Helps with testing. Reinitializes FreeStyle + raw\n         */\n        this.reinit = function () {\n            /** reinit freestyle */\n            var freeStyle = createFreeStyle();\n            _this._freeStyle = freeStyle;\n            _this._lastFreeStyleChangeId = freeStyle.changeId;\n            /** reinit raw */\n            _this._raw = '';\n            _this._pendingRawChange = false;\n            /** Clear any styles that were flushed */\n            var target = _this._getTag();\n            if (target) {\n                target.textContent = '';\n            }\n        };\n        /** Sets the target tag where we write the css on style updates */\n        this.setStylesTarget = function (tag) {\n            /** Clear any data in any previous tag */\n            if (_this._tag) {\n                _this._tag.textContent = '';\n            }\n            _this._tag = tag;\n            /** This special time buffer immediately */\n            _this.forceRenderStyles();\n        };\n        /**\n         * Takes an object where property names are ideal class names and property values are CSSProperties, and\n         * returns an object where property names are the same ideal class names and the property values are\n         * the actual generated class names using the ideal class name as the $debugName\n         */\n        this.stylesheet = function (classes) {\n            var classNames = Object.getOwnPropertyNames(classes);\n            var result = {};\n            for (var _i = 0, classNames_1 = classNames; _i < classNames_1.length; _i++) {\n                var className = classNames_1[_i];\n                var classDef = classes[className];\n                if (classDef) {\n                    classDef.$debugName = className;\n                    result[className] = _this.style(classDef);\n                }\n            }\n            return result;\n        };\n        var freeStyle = createFreeStyle();\n        this._autoGenerateTag = autoGenerateTag;\n        this._freeStyle = freeStyle;\n        this._lastFreeStyleChangeId = freeStyle.changeId;\n        this._pending = 0;\n        this._pendingRawChange = false;\n        this._raw = '';\n        this._tag = undefined;\n        // rebind prototype to TypeStyle.  It might be better to do a function() { return this.style.apply(this, arguments)}\n        this.style = this.style.bind(this);\n    }\n    /**\n     * Only calls cb all sync operations settle\n     */\n    TypeStyle.prototype._afterAllSync = function (cb) {\n        var _this = this;\n        this._pending++;\n        var pending = this._pending;\n        raf(function () {\n            if (pending !== _this._pending) {\n                return;\n            }\n            cb();\n        });\n    };\n    TypeStyle.prototype._getTag = function () {\n        if (this._tag) {\n            return this._tag;\n        }\n        if (this._autoGenerateTag) {\n            var tag = typeof window === 'undefined'\n                ? { textContent: '' }\n                : document.createElement('style');\n            if (typeof document !== 'undefined') {\n                document.head.appendChild(tag);\n            }\n            this._tag = tag;\n            return tag;\n        }\n        return undefined;\n    };\n    /** Checks if the style tag needs updating and if so queues up the change */\n    TypeStyle.prototype._styleUpdated = function () {\n        var _this = this;\n        var changeId = this._freeStyle.changeId;\n        var lastChangeId = this._lastFreeStyleChangeId;\n        if (!this._pendingRawChange && changeId === lastChangeId) {\n            return;\n        }\n        this._lastFreeStyleChangeId = changeId;\n        this._pendingRawChange = false;\n        this._afterAllSync(function () { return _this.forceRenderStyles(); });\n    };\n    TypeStyle.prototype.style = function () {\n        var className = this._freeStyle.registerStyle(convertToStyles(extend.apply(undefined, arguments)));\n        this._styleUpdated();\n        return className;\n    };\n    return TypeStyle;\n}());\nexport { TypeStyle };\n","import { TypeStyle } from './internal/typestyle';\nexport { TypeStyle };\n/**\n * All the CSS types in the 'types' namespace\n */\nimport * as types from './types';\nexport { types };\n/**\n * Export certain utilities\n */\nexport { extend, classes, media } from './internal/utilities';\n/** Zero configuration, default instance of TypeStyle */\nvar ts = new TypeStyle({ autoGenerateTag: true });\n/** Sets the target tag where we write the css on style updates */\nexport var setStylesTarget = ts.setStylesTarget;\n/**\n * Insert `raw` CSS as a string. This is useful for e.g.\n * - third party CSS that you are customizing with template strings\n * - generating raw CSS in JavaScript\n * - reset libraries like normalize.css that you can use without loaders\n */\nexport var cssRaw = ts.cssRaw;\n/**\n * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n */\nexport var cssRule = ts.cssRule;\n/**\n * Renders styles to the singleton tag imediately\n * NOTE: You should only call it on initial render to prevent any non CSS flash.\n * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n **/\nexport var forceRenderStyles = ts.forceRenderStyles;\n/**\n * Utility function to register an @font-face\n */\nexport var fontFace = ts.fontFace;\n/**\n * Allows use to use the stylesheet in a node.js environment\n */\nexport var getStyles = ts.getStyles;\n/**\n * Takes keyframes and returns a generated animationName\n */\nexport var keyframes = ts.keyframes;\n/**\n * Helps with testing. Reinitializes FreeStyle + raw\n */\nexport var reinit = ts.reinit;\n/**\n * Takes CSSProperties and return a generated className you can use on your component\n */\nexport var style = ts.style;\n/**\n * Takes an object where property names are ideal class names and property values are CSSProperties, and\n * returns an object where property names are the same ideal class names and the property values are\n * the actual generated class names using the ideal class name as the $debugName\n */\nexport var stylesheet = ts.stylesheet;\n/**\n * Creates a new instance of TypeStyle separate from the default instance.\n *\n * - Use this for creating a different typestyle instance for a shadow dom component.\n * - Use this if you don't want an auto tag generated and you just want to collect the CSS.\n *\n * NOTE: styles aren't shared between different instances.\n */\nexport function createTypeStyle(target) {\n    var instance = new TypeStyle({ autoGenerateTag: false });\n    if (target) {\n        instance.setStylesTarget(target);\n    }\n    return instance;\n}\n","import{useRef as e,useEffect as n}from\"react\";export default function(t,r,i,o){void 0===i&&(i=global),void 0===o&&(o={});var c=e(),u=o.capture,a=o.passive,v=o.once;n(function(){c.current=r},[r]),n(function(){if(i&&i.addEventListener){var e=function(e){return c.current(e)},n={capture:u,passive:a,once:v};return i.addEventListener(t,e,n),function(){i.removeEventListener(t,e,n)}}},[t,i,u,a,v])}\n","import{useRef as e,useState as n,useEffect as t,useCallback as o}from\"react\";import r from\"@use-it/event-listener\";var l={},a=function(e,n,t){return l[e]||(l[e]={callbacks:[],value:t}),l[e].callbacks.push(n),{deregister:function(){var t=l[e].callbacks,o=t.indexOf(n);o>-1&&t.splice(o,1)},emit:function(t){l[e].value!==t&&(l[e].value=t,l[e].callbacks.forEach(function(e){n!==e&&e(t)}))}}};export default function(l,u){if(void 0===u&&(u=\"undefined\"!=typeof global&&global.localStorage?global.localStorage:\"undefined\"!=typeof globalThis&&globalThis.localStorage?globalThis.localStorage:\"undefined\"!=typeof window&&window.localStorage?window.localStorage:\"undefined\"!=typeof localStorage?localStorage:null),u){var i=function(e){return{get:function(n,t){var o=e.getItem(n);return null==o?\"function\"==typeof t?t():t:JSON.parse(o)},set:function(n,t){e.setItem(n,JSON.stringify(t))}}}(u);return function(u){return function(l,u,i){var c=i.get,f=i.set,g=e(null),s=n(function(){return c(u,l)}),d=s[0],p=s[1];r(\"storage\",function(e){if(e.key===u){var n=JSON.parse(e.newValue);d!==n&&p(n)}}),t(function(){return g.current=a(u,p,l),function(){g.current.deregister()}},[l,u]);var v=o(function(e){var n=\"function\"==typeof e?e(d):e;f(u,n),p(n),g.current.emit(e)},[d,f,u]);return[d,v]}(u,l,i)}}return n}\n","import e from\"@use-it/event-listener\";import{useState as t,useEffect as r,useCallback as n,useMemo as a}from\"react\";import o from\"use-persisted-state\";var i=function(){},u={classList:{add:i,remove:i}},d=function(e,r,n){void 0===n&&(n=global);var a=e?o(e,r):t,i=n.matchMedia?n.matchMedia(\"(prefers-color-scheme: dark)\"):{},d={addEventListener:function(e,t){return i.addListener&&i.addListener(t)},removeEventListener:function(e,t){return i.removeListener&&i.removeListener(t)}},s=\"(prefers-color-scheme: dark)\"===i.media,c=n.document&&n.document.body||u;return{usePersistedDarkModeState:a,getDefaultOnChange:function(e,t,r){return void 0===e&&(e=c),void 0===t&&(t=\"dark-mode\"),void 0===r&&(r=\"light-mode\"),function(n){e.classList.add(n?t:r),e.classList.remove(n?r:t)}},mediaQueryEventTarget:d,getInitialValue:function(e){return s?i.matches:e}}};export default function(t,o){void 0===t&&(t=!1),void 0===o&&(o={});var i=o.element,u=o.classNameDark,s=o.classNameLight,c=o.onChange,m=o.storageKey;void 0===m&&(m=\"darkMode\");var l=o.storageProvider,f=o.global,v=a(function(){return d(m,l,f)},[m,l,f]),g=v.getDefaultOnChange,h=v.mediaQueryEventTarget,L=(0,v.usePersistedDarkModeState)((0,v.getInitialValue)(t)),k=L[0],p=L[1],b=a(function(){return c||g(i,u,s)},[c,i,u,s,g]);return r(function(){b(k)},[b,k]),e(\"change\",function(e){return p(e.matches)},h),{value:k,enable:n(function(){return p(!0)},[p]),disable:n(function(){return p(!1)},[p]),toggle:n(function(){return p(function(e){return!e})},[p])}}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import defineProperty from './_define_property.mjs';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}"],"names":["reactPropsRegex","fn","cache","arg","undefined","prop","test","charCodeAt","FocusGroup","options","action","eventMatchers","userKeybindings","keybindings","this","_settings","next","keyCode","prev","first","last","wrap","stringSearch","stringSearchDelay","_keybindingsLookup","concat","forEach","eventMatcher","metaKey","ctrlKey","altKey","shiftKey","push","bind","_searchString","_members","members","setMembers","_boundHandleKeydownEvent","_handleKeydownEvent","focusNode","node","focus","tagName","toLowerCase","select","prototype","activate","document","addEventListener","deactivate","removeEventListener","_clearSearchStringRefreshTimer","event","_getActiveElementIndex","eventBound","keybinding","matcher","key","matchesEvent","preventDefault","moveFocusForward","moveFocusBack","moveFocusToFirst","moveFocusToLast","_handleUnboundKey","targetIndex","activeElementIndex","length","focusNodeAtIndex","_addToSearchString","String","fromCharCode","_runStringSearch","_clearSearchString","letter","_startSearchStringRefreshTimer","self","_stringSearchTimer","setTimeout","clearTimeout","moveFocusByString","str","member","i","l","text","indexOf","_findIndexOfNode","searchNode","activeElement","index","addMember","memberData","nodeText","getAttribute","textContent","_checkNode","replace","splice","removeMember","removalIndex","clearMembers","nextMembers","getMembers","nodeType","window","Node","ELEMENT_NODE","Error","module","exports","_typeof","obj","Symbol","iterator","constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","call","e","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","arguments","apply","_possibleConstructorReturn","TypeError","_assertThisInitialized","ReferenceError","getPrototypeOf","input","hint","prim","toPrimitive","res","Number","_toPrimitive","React","PropTypes","createFocusTrap","isFocusable","FocusTrap","_React$Component","subClass","superClass","create","value","_inherits","Constructor","protoProps","staticProps","_super","_this","instance","_classCallCheck","optionName","_this$internalOptions","optionValue","internalOptions","originalOptions","_len","params","Array","_key","_this$getDocument","getDocument","querySelector","handleDeactivate","handlePostDeactivate","handleClickOutsideDeactivates","returnFocusOnDeactivate","checkCanReturnFocus","onDeactivate","onPostDeactivate","clickOutsideDeactivates","focusTrapOptions","hasOwnProperty","outsideClick","focusTrapElements","containerElements","updatePreviousElement","getNodeForOption","previouslyFocusedElement","currentDocument","focusTrap","active","returnFocus","allowDeactivation","deactivateTrap","_this2","finishDeactivation","returnFocusNode","getReturnFocusNode","canReturnFocus","tabbableOptions","_this2$internalOption","preventScroll","then","paused","pause","some","_createFocusTrap","setupFocusTrap","prevProps","updateContainerElements","hasActivated","hasDeactivated","hasPaused","hasUnpaused","unpause","_this3","child","children","Children","only","type","Fragment","cloneElement","ref","element","current","Component","ElementType","Element","Function","propTypes","bool","shape","object","onActivate","func","onPostActivate","checkCanFocusTrap","onPause","onPostPause","onUnpause","onPostUnpause","initialFocus","oneOfType","instanceOf","string","fallbackFocus","escapeDeactivates","setReturnFocus","allowOutsideClick","displayCheck","oneOf","getShadowRoot","trapStack","array","isKeyForward","isKeyBackward","arrayOf","defaultProps","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","activeFocusTraps","trap","activeTrap","trapIndex","isTabEvent","delay","findIndex","arr","idx","every","valueOrHandler","getActualTarget","shadowRoot","composedPath","internalTrapStack","elements","userOptions","doc","config","delayInitialFocus","state","containers","containerGroups","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","delayInitialFocusTimer","getOption","configOverrideOptions","configOptionName","findContainerIndex","_ref","container","tabbableNodes","contains","find","_len2","_key2","getInitialFocusNode","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","map","tabbable","focusableNodes","focusable","lastTabbableNode","nextTabbableNode","forward","nodeIdx","n","slice","isTabbable","reverse","group","tryFocus","isSelectableInput","previousActiveElement","checkPointerDown","checkFocusIn","targetContained","Document","stopImmediatePropagation","checkKey","isBackward","destinationNode","containerIndex","containerGroup","startOfGroupIndex","_ref2","destinationGroupIndex","lastOfGroupIndex","_ref3","_destinationGroupIndex","checkKeyNav","checkClick","addListeners","capture","passive","removeListeners","activateOptions","finishActivation","deactivateOptions","pauseOptions","unpauseOptions","elementsAsArray","__NEXT_P","buttonClass","style","interactiveStyle","Button","inner","button","className","title","Tooltip","body","_objectSpreadProps","cssRule","textShadow","Colors","color","buttonLinkClass","Link","external","a","display","href","NextLink","Black","Charcoal","Grey","White","Green","OuterPadding","background","border","padding","borderRadius","cursor","$nest","getDomainLocale","path","locale","locales","domainLocales","default","__esModule","assign","_interop_require_default","require","_object_without_properties_loose","_react","_router","_addLocale","_routerContext","_appRouterContext","_useIntersection","_getDomainLocale","_addBasePath","prefetched","prefetch","router","as","isLocalURL","Promise","resolve","catch","err","process","curLocale","_default","forwardRef","forwardedRef","passHref","shallow","scroll","onClick","onMouseEnter","onTouchStart","legacyBehavior","restProps","childrenProp","createElement","prefetchProp","useContext","RouterContext","appRouter","AppRouterContext","useMemo","resolveHref","hrefProp","resolvedHref","resolvedAs","asProp","previousHref","useRef","previousAs","childRef","useIntersection","rootMargin","setIntersectionRef","isVisible","resetVisible","setRef","useCallback","el","useEffect","shouldPrefetch","isPrefetched","childProps","defaultPrevented","isAppRouter","prefetchEnabled","currentTarget","nodeName","toUpperCase","nativeEvent","which","isModifiedEvent","navigate","forceOptimisticNavigation","startTransition","linkClicked","priority","localeDomain","isLocaleDomain","addBasePath","addLocale","defaultLocale","rootRef","isDisabled","disabled","hasIntersectionObserver","useState","visible","setVisible","setElement","unobserve","callback","createObserver","id","root","margin","existing","idList","observers","get","Map","observer","IntersectionObserver","entries","entry","isIntersecting","intersectionRatio","set","observe","delete","size","disconnect","idleCallback","_requestIdleCallback","requestIdleCallback","cancelIdleCallback","TemplateContext","GlobalLayoutRouterContext","LayoutRouterContext","createContext","useUnmountEffect","useConstant","init","presenceId","getPresenceId","PresenceChild","_a","initial","isPresent","onExitComplete","custom","presenceAffectsLayout","presenceChildren","newChildrenMap","context","childId","allComplete","isComplete","register","_","defaultTimestep","getCurrentTime","performance","now","Date","onNextFrame","requestAnimationFrame","useDefaultElapsed","runNextFrame","isProcessing","delta","timestamp","stepsOrder","steps","reduce","acc","toRun","toRunNextFrame","numToRun","toKeepAlive","WeakSet","step","schedule","keepAlive","immediate","addToCurrentFrame","buffer","add","cancel","frameData","has","createRenderStep","sync","startLoop","cancelSync","flushSync","processStep","stepId","processFrame","Math","max","min","getFrameData","noop","any","convertBoundingBoxToAxisBox","top","x","left","right","y","bottom","zeroDelta","translate","scale","origin","originPoint","__assign","compareByDepth","b","depth","isProjecting","visualElement","projection","isEnabled","shouldResetTransform","collectProjectingAncestors","ancestors","parent","updateLayoutMeasurement","box","layoutState","getLayoutState","notifyBeforeLayoutMeasure","layout","isHydrated","measureViewportBox","layoutCorrected","notifyLayoutMeasure","prevViewportBox","rebaseProjectionTarget","unresolvedJobs","Set","pushJob","stack","job","pointer","batchLayout","flushLayout","reads","writes","setRead","setWrite","clear","numStacks","executeJob","Presence","VisibilityAction","defaultHandler","layoutReady","notifyLayoutReady","createBatcher","queue","flush","_b","read","write","order","from","sort","__spreadArray","__read","resetTransform","restoreTransform","presence","Present","preRender","render","assignProjectionToSnapshot","SharedLayoutContext","FramerTreeLayoutContext","isSharedLayout","forceUpdate","getChildKey","AnimatePresence","exitBeforeEnter","_c","forceRender","unloadingRef","forcedRenderCount","setForcedRenderCount","useForceUpdate","layoutContext","isInitialRender","filteredChildren","filtered","isValidElement","onlyElements","presentChildren","allChildren","exiting","updateChildLookup","childrenToRender","presentKeys","targetKeys","numPresent","insertionIndex","removeIndex","presentChild","createDefinition","propNames","name","featureDefinitions","measureLayout","animation","exit","drag","hover","tap","pan","layoutAnimation","LazyContext","strict","featureNames","numFeatures","MotionConfigContext","transformPagePoint","isStatic","MotionContext","usePresence","useUniqueId","counter","incrementId","LayoutGroupContext","isBrowser","useIsomorphicLayoutEffect","useLayoutEffect","useVisualElement","visualState","createVisualElement","lazyContext","presenceContext","layoutId","layoutGroupId","useLayoutId","visualElementRef","renderer","blockInitialAnimation","setProps","isPresenceRoot","syncRender","animationState","animateChanges","notifyUnmount","isRefObject","isVariantLabels","v","isArray","isVariantLabel","resolveVariantFromProps","definition","currentValues","currentVelocity","variants","resolveVariant","getProps","forEachValue","getCurrent","velocity","getVelocity","checkIfControllingVariants","animate","start","whileHover","whileDrag","whileTap","whileFocus","checkIfVariantNode","useCreateMotionContext","inherit","getCurrentTreeVariants","variantLabelsAsDependency","join","preloadedFeatures","useRender","useVisualState","features","loadFeatures","externalRef","name_1","useFeatures","Provider","mount","unmount","useMotionRef","createMotionProxy","createConfig","customMotionComponentConfig","componentCache","_target","lowercaseSVGElements","isSVGComponent","includes","valueScaleCorrection","transformAxes","transformProps","sortTransformProps","operationKey","axesKey","transformPropSet","isTransformProp","transformOriginProps","isTransformOriginProp","isForcedMotionValue","isMotionValue","translateAlias","z","transformPerspective","isCSSVariable","startsWith","getValueAsType","transform","clamp","sanitize","toFixed","floatRegex","colorRegex","singleColorRegex","isString","createUnitType","unit","endsWith","split","parse","parseFloat","degrees","percent","px","vh","vw","progressPercentage","number","alpha","round","numberValueTypes","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","paddingTop","paddingRight","paddingBottom","paddingLeft","marginTop","marginRight","marginBottom","marginLeft","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skew","skewX","skewY","distance","translateX","translateY","translateZ","perspective","opacity","originX","originY","originZ","zIndex","fillOpacity","strokeOpacity","numOctaves","buildHTMLStyles","latestValues","transformTemplate","buildProjectionTransform","buildProjectionTransformOrigin","vars","transformKeys","transformOrigin","hasTransform","hasTransformOrigin","transformIsNone","valueType","valueAsType","correctedValue","applyTo","num","deltaFinal","treeScale","transformIsDefault","enableHardwareAcceleration","_d","allowTransformNone","transformString","transformHasZ","numTransformKeys","trim","buildTransform","buildTransformOrigin","createHtmlRenderState","copyRawValuesOnly","useStyle","useInitialMotionValues","transformValues","useHTMLProps","htmlProps","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","validMotionProps","isValidMotionProp","shouldForward","emotionIsPropValid_1","calcOrigin","offset","progressToPixels","progress","dashKeys","camelKeys","buildSVGAttrs","attrX","attrY","pathLength","pathSpacing","pathOffset","__rest","attrs","dimensions","totalPathLength","calcSVGTransformOrigin","totalLength","spacing","useDashCase","buildSVGPath","createSvgRenderState","useSVGProps","visualProps","rawStyles","createUseRender","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","CAMEL_CASE_PATTERN","camelToDash","renderHTML","setProperty","camelCaseAttributes","renderSVG","renderState","setAttribute","scrapeMotionValuesFromProps","newValues","isAnimationControls","isKeyframesTarget","resolveMotionValue","unwrappedValue","mix","toValue","makeState","createRenderState","onMount","makeLatestValues","makeUseVisualState","scrapeMotionValues","values","motionValues","isControllingVariants","isVariantNode","variantToSet","resolved","transitionEnd","transition","svgMotionConfig","getBBox","getBoundingClientRect","getTotalLength","AnimationType","htmlMotionConfig","addDomEvent","eventName","handler","useDomEvent","isMouseEvent","PointerEvent","pointerType","MouseEvent","isTouchEvent","touches","defaultPagePoint","pageX","pageY","pointFromTouch","pointType","point","changedTouches","pointFromMouse","extractEventInfo","wrapHandler","shouldFilterPrimaryPointer","eventHandler","listener","mouseEventNames","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","pointerenter","pointerleave","touchEventNames","getPointerEventName","onpointerdown","ontouchstart","onmousedown","addPointerEvent","usePointerEvent","createLock","lock","globalHorizontalLock","globalVerticalLock","getGlobalLock","openHorizontal_1","openVertical_1","isDragActive","openGestureLock","createHoverEvent","isActive","info","setActive","Hover","isNodeOrChild","parentElement","combineFunctions","pipe","transformers","_i","makeRenderlessComponent","hook","gestureAnimations","onTap","onTapStart","onTapCancel","hasPressListeners","isPressing","cancelPointerEndListeners","removePointerEndListener","checkPointerEnd","Tap","onPointerUp","getInstance","onPointerCancel","Focus","onHoverStart","onHoverEnd","shallowCompare","prevLength","safeMin","findSpring","envelope","derivative","duration","bounce","_e","mass","dampingRatio","undampedFreq","exponentialDecay","calcAngularFreq","c","exp","d","pow","f","g","initialGuess","approximateRoot","isNaN","stiffness","damping","sqrt","durationKeys","physicsKeys","isSpringType","spring","to","restSpeed","restDelta","done","springOptions","isResolvedFromDuration","derived","getSpringOptions","resolveSpring","zero","resolveVelocity","createSpring","initialVelocity","initialDelta","undampedAngularFreq","abs","angularFreq_1","t","sin","cos","dampedAngularFreq_1","freqForT","sinh","cosh","isBelowVelocityThreshold","isBelowDisplacementThreshold","flipTarget","needsInterpolation","_t","toFromDifference","isColorString","testProp","splitColor","aName","bName","cName","match","clampRgbUnit","rgbUnit","rgba","red","green","blue","alpha$1","hex","r","substr","parseInt","hsla","hue","saturation","lightness","mixLinearColor","fromExpo","toExpo","colorTypes","getColorType","notAnimatable","mixColor","fromColorType","toColorType","fromColor","toColor","blended","mixFunc","colorToken","numberToken","analyse","numColors","colors","numbers","tokenised","createTransformer","numValues","output","convertNumbersToZero","complex","getAnimatableNone","parsed","transformer","isNum","getMixer","mixComplex","mixArray","blendValue","fromThis","mixObject","numNumbers","numRGB","numHSL","template","originStats","targetStats","mixNumber","createMixers","ease","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","interpolate","isClamp","inputLength","interpolator","fastInterpolate","lastInputIndex","mixerIndex","foundMixerIndex","progressInRange","slowInterpolate","power","reverseEasing","easing","mirrorEasing","createBackIn","linear","easeIn","easeOut","easeInOut","circIn","acos","circOut","circInOut","backIn","backOut","backInOut","anticipate","backEasing","createAnticipate","bounceOut","p2","bounceIn","defaultEasing","keyframes","times","convertOffsetToTimes","_value","defaultOffset","createInterpolator","types","decay","timeConstant","_f","modifyTarget","amplitude","ideal","loopElapsed","elapsed","framesync","update","passTimestamp","stop","driverControls","latest","interpolateFromNumber","autoplay","driver","_g","repeat","repeatMax","_h","repeatType","_j","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate","repeatCount","computedDuration","isForwardPlayback","animator","detectAnimationFromOptions","reverseElapsed","hasRepeatDelayElapsed","velocityPerSecond","frameDuration","secondsToMilliseconds","seconds","a1","a2","calcBezier","getSlope","kSampleStepSize","cubicBezier","mX1","mY1","mX2","mY2","sampleValues","Float32Array","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","easingLookup","bounceInOut","easingDefinitionToFunction","isAnimatable","underDampedSpring","criticallyDampedSpring","linearTween","defaultTransitions","backgroundColor","maxDefaults","applyDefaultFilter","defaultValue","functionRegex","functions","defaultValueTypes","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","WebkitFilter","getDefaultValueType","defaultValueType","convertTransitionToAnimationOptions","yoyo","flip","loop","isEasingArray","getPopmotionAnimationOptions","hydrateKeyframes","when","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","valueKey","transitionFactory","getDefaultTransition","getAnimation","valueTransition","getValueTransition","isTargetAnimatable","isZero","getZeroUnit","isOriginAnimatable","currentAnimation","bounceStiffness","bounceDamping","isOutOfBounds","boundaryNearest","startAnimation","startSpring","prev_1","current_1","boundary_1","heading_1","inertia","potentialUnitType","delayTimer","controls","getDelayFromTransition","addUniqueItem","item","removeItem","SubscriptionManager","subscriptions","notify","numSubscriptions","getSize","MotionValue","timeDelta","lastUpdated","updateSubscribers","velocityUpdateSubscribers","renderSubscribers","canTrackVelocity","updateAndNotify","scheduleVelocityCheck","velocityCheck","hasAnimated","onChange","subscription","clearListeners","onRenderRequest","attach","passiveEffect","getPrevious","stopAnimation","clearAnimation","isAnimating","destroy","motionValue","testValueType","dimensionValueTypes","findDimensionValueType","valueTypes","findValueType","setMotionValue","hasValue","getValue","addValue","setTarget","makeTargetAnimatable","getOriginFromTransition","animateVariant","variant","transitionOverride","animateTarget","getChildAnimations","variantChildren","forwardDelay","animations","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","notifyAnimationComplete","all","animateChildren","animationTypeState","getState","valueTarget","shouldBlockAnimation","sortNodePosition","protectedKeys","needsAnimating","shouldBlock","variantPriorityOrder","Animate","Drag","Exit","reversePriorityOrder","numAnimationTypes","animateList","notifyAnimationStart","resolvedDefinition","animateVisualElement","createAnimationState","createTypeState","createState","allAnimatedKeys","buildResolvedTypeValues","changedActiveType","getVariantContext","removedKeys","encounteredKeys","removedVariantIndex","Infinity","_loop_1","typeState","propIsVariant","activeDelta","isInherited","manuallyAnimateOnMount","prevProp","shouldAnimateType","variantsHaveChanged","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","fallbackAnimation_1","fallbackTarget","getBaseTarget","shouldAnimate","isAnimated","setAnimateFunction","makeAnimator","subscribe","isPoint","isPoint3D","distance1D","xDelta","yDelta","zDelta","PanSession","handlers","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","getPanInfo","history","isPanStarted","isDistancePastThreshold","onStart","onMove","handlePointerMove","transformPoint","buttons","handlePointerUp","end","onEnd","onSessionEnd","panInfo","initialInfo","onSessionStart","updateHandlers","subtractPoint","lastDevicePoint","startDevicePoint","timestampedPoint","lastPoint","time","eachAxis","applyConstraints","elastic","calcRelativeAxisConstraints","axis","calcViewportAxisConstraints","layoutAxis","constraintsAxis","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","label","getBoundingBox","topLeft","bottomRight","transformBoundingBox","isNear","maxDistance","calcLength","sourceLength","targetLength","updateAxisDelta","updateBoxDelta","defaultOrigin","calcRelativeAxis","relative","calcRelativeOffsetAxis","calcRelativeOffset","checkIfParentHasChanged","prevId","getLayoutId","nextId","isDraggable","_dragX","resetAxis","originAxis","scalePoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","applyAxisTransforms","final","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","applyBoxTransforms","finalBox","removePointDelta","removeAxisTransforms","removeAxisDelta","removeBoxTransforms","lastPointerEvent","elementDragControls","WeakMap","VisualElementDragControls","isDragging","currentDirection","constraints","hasMutatedConstraints","cursorProgress","openGlobalLock","panSession","enableLayoutProjection","originEvent","snapToCursor","stopMotion","initialPoint","getViewportPointFromEvent","cancelLayout","addChild","collectProjectingChildren","tree","hasManuallySetCursorOrigin","isLayoutDrag","lockProjectionTarget","getAxisMotionValue","isExternalDrag","scheduleUpdateLayoutProjection","axisValue","postRender","resolveDragConstraints","dragPropagation","onDragStart","dragDirectionLock","lockThreshold","direction","getCurrentDirection","onDirectionLock","updateAxis","onDrag","dragConstraints","resolveRefConstraints","layoutBox","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","measuredConstraints","calcViewportConstraints","userConstraints","convertAxisBoxToBoundingBox","cancelDrag","unlockProjectionTarget","animateDragEnd","onDragEnd","shouldDrag","length_1","center","updateAxisMotionValue","updateVisualElementAxis","nextValue","axisLayout","axisLength","axisProgress","calcConstrainedMinPoint","setProjectionTargetAxis","dragMomentum","remainingProps","dragKey","_dragY","dragTransition","isRelative","projectionParent","getProjectionParent","getLatestValues","convertToRelativeProjection","relativeConstraints_1","targetFinal","momentumAnimations","startAxisValueAnimation","startLayoutAnimation","onDragTransitionEnd","stopLayoutAnimation","currentValue","boxProgress","updateConstraints","calcPositionFromProgress","onReady","stopPointerListener","dragListener","stopResizeListener","stopLayoutUpdateListener","onLayoutUpdate","prevDragCursor","onPan","onPanStart","onPanEnd","onPanSessionStart","hasPanEvents","groupDragControls","dragControls","cssVariableRegex","getVariableValue","exec","parseCSSVariable","token","fallback","getComputedStyle","getPropertyValue","pixelsToPercent","pixels","varToken","borderCorrectionDefinition","_layoutState","defaultScaleCorrectors","boxShadow","original","containsCSSVariables","cssVariables","shadow","xScale","yScale","averageScale","i_1","cssVariable","frameTarget","currentAnimationTarget","stopAxisAnimation","isAnimatingTree","originBox","targetBox","visibilityAction","shouldStackAnimate","prevParent","safeToRemove","prevParentViewportBox","parentLayout","isProvidedCorrectDataForRelativeSharedLayout","boxHasMoved","hasMoved","isTargetLocked","animateAxis","setVisibility","Show","notifyLayoutAnimationComplete","__extends","componentDidMount","animateMotionValue","unsubLayoutReady","layoutSafeToRemove","correctors","addScaleCorrection","componentWillUnmount","axisIsEqual","layoutProgress","getProjectionAnimationProgress","frame","tweenAxis","unsubscribeProgress","layoutTransition","defaultLayoutTransition","isZeroBox","zeroAxis","Measure","syncLayout","framerSyncLayout","onUnmount","remove","getSnapshotBeforeUpdate","syncUpdate","snapshotViewportBox","componentDidUpdate","layoutAnimations","createLayoutState","deltaTransform","zeroLayout","buildLayoutProjectionTransform","latestTransform","identityProjection","buildLayoutProjectionTransformOrigin","names","updateLayoutDeltas","treePath","treeLength","applyTreeDeltas","FlatTree","isDirty","treeType","build","renderInstance","readValueFromInstance","removeValueFromRenderState","unsubscribeFromLeadVisualElement","crossfader","projectionTargetProgress","removeFromVariantTree","lifecycles","managers","propSubscriptions","clearAllListeners","manager","updatePropListeners","on","propListener","args","createLifecycles","leadProjection","leadLatestValues","hasViewportBoxUpdated","valueSubscriptions","prevMotionValues","baseTarget","isProjectionReady","triggerBuild","valuesToRender","crossfadedValues","getCrossfadeState","notifyUpdate","updateTreeLayoutProjection","layoutTree","fireUpdateLayoutProjection","initialMotionValues","isMounted","newInstance","pointTo","addVariantChild","updateLayoutProjection","closestVariantNode","getClosestVariantNode","other","getStaticValue","setStaticValue","visibility","scheduleRender","canMutate","removeValue","removeOnChange","latestValue","removeOnRenderRequest","bindToMotionValue","readValue","setBaseTarget","newProps","prevValue","existingValue","updateMotionValuesFromProps","getVariant","startAtParent","context_1","numVariantProps","variantProps","setCrossfader","newCrossfader","relativeTarget","withTransform","viewportBox","notifySetAxisTarget","force","shouldRebase","relativeOffset","setCurrentViewportBox","notifyLayoutUpdate","prevTreeScaleX","prevTreeScaleY","prevDeltaTransform","notifyViewportBoxUpdate","fireResolveRelativeTargetBox","foundParent","ancestor","resolveRelativeTargetBox","relativeParent","parentProjection","calcRelativeBox","_layoutResetTransform","newLead","onSetAxisTarget","onLayoutAnimationComplete","Entering","BoundingBoxDimension","positionalKeys","isPositionalKey","setAndResetVelocity","isNumOrPxType","getPosFromMatrix","matrix","pos","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","nonTranslationalTransformKeys","positionalValues","checkAndConvertChangedValueTypes","targetPositionalKeys","removedTransformValues","hasAttemptedToRemoveTransformValues","changedValueTypeKeys","toType","fromType","numKeyframes","removedTransforms","removeNonTranslationalTransform","convertedTarget","changedKeys","originBbox","elementComputedStyle","originComputedStyle","targetBbox","convertChangedValueTypes","unitConversion","hasPositionalKey","parseDomVariant","HTMLElement","resolveCSSVariables","htmlConfig","domElement","defaultType","computedStyle","compareDocumentPosition","mutableState","getOrigin","newValueKeys","numNewValues","targetValue","checkTargetForNewValues","isProjectionTranform","htmlVisualElement","svgVisualElement","_element","featureBundle","motion","baseConfig","_extends","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","GitHub","_ref$color","_ref$size","rest","xmlns","viewBox","strokeWidth","strokeLinecap","strokeLinejoin","displayName","Linkedin","cx","cy","Mail","points","Footer","footer","alignItems","div","flex","fullHeight","tags","position","h3","media","minHeight","GreenSlide","useDarkMode","classes","overflow","flexDirection","justifyContent","pointerEvents","img","src","borderStyle","Sun","x1","y1","x2","y2","Moon","DarkMode","darkMode","toggle","Menu","menuButtonClass","menuButtonId","menuList","listStyle","NavMenu","useRouter","menuOpen","setMenuOpen","handleRouteChange","closeMenu","events","off","Wrapper","onMenuToggle","isOpen","Burger","textAlign","ul","li","Header","header","nav","pathname","fontSize","fontFamily","overflowX","mainStyle","Main","prevRoute","usePrevious","route","h1","textTransform","SafeHydrate","suppressHydrationWarning","pageProps","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","getShim","isRequired","ReactPropTypes","bigint","symbol","elementType","objectOf","exact","checkPropTypes","ManagerContext","refType","specialAssign","checkedProps","ambManager","tag","AriaMenuButtonButton","_temp","createRef","handleKeyDown","focusItem","openMenu","toggleMenu","handleMenuKey","handleButtonNonArrowKey","handleClick","focusMenu","buttonProps","role","tabIndex","onKeyDown","reserved","closeOnBlur","onBlur","handleBlur","Consumer","AriaMenuButtonManagerContext","createTapListener","AriaMenuButtonMenu","addTapListener","ownerDocument","tapListener","documentElement","handleTap","menu","clearItems","menuProps","AriaMenuButtonMenuItem","selectItem","handleSelection","addItem","menuItemProps","createManager","onSelection","closeOnSelection","managerOptionsFromProps","AriaMenuButtonWrapper","updateOptions","wrapperProps","createFocusGroup","externalStateControl","focusGroupOptions","protoManager","focusGroup","oldOptions","registerManager","unregisterManager","blurTimer","moveFocusTimer","setState","openOptions","closeOptions","focusButton","buttonNode","activeEl","menuNode","newManager","registeredManagers","errorCommon","menuId","MenuItem","candidateSelectors","candidateSelector","NoElement","matches","msMatchesSelector","webkitMatchesSelector","getRootNode","_element$getRootNode","isInert","lookUp","_node$getAttribute","inertAtt","parentNode","getCandidates","includeContainer","candidates","querySelectorAll","unshift","getCandidatesIteratively","elementsToCheck","shift","assigned","assignedElements","nestedCandidates","flatten","scopeParent","validShadowRoot","shadowRootFilter","_nestedCandidates","getTabindex","isScope","_node$getAttribute2","attValue","isContentEditable","sortOrderedTabbables","documentOrder","isInput","isNonTabbableRadio","isRadio","radioSet","radioScope","form","queryRadios","CSS","escape","console","error","message","checked","nodes","getCheckedRadio","isTabbableRadio","isZeroArea","_node$getBoundingClie","isHidden","nodeUnderDetails","originalNode","rootNode","assignedSlot","host","_nodeRoot","_nodeRootHost","_nodeRootHost$ownerDo","_node$ownerDocument","nodeRoot","nodeRootHost","attached","_nodeRoot2","_nodeRootHost2","_nodeRootHost2$ownerD","isNodeAttached","getClientRects","isNodeMatchingSelectorFocusable","isHiddenInput","isDetailsWithSummary","isDisabledFromFieldset","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","content","sortable","focusableCandidateSelector","useCapture","startX","startY","touchStarted","touchMoved","usingTouch","handleTouchstart","handleTouchmove","handleTouchend","handleTouchcancel","clientX","clientY","removeSecondaryTouchListeners","Tooltip_1","__importDefault","react_1","TooltipBase","s","TooltipArrow","TooltipBody","mod","helpers_1","Tooltip_components_1","tooltipId","ariaEssential","thisRef","childrenRef","handleEventTarget","hoverRect","hoverRectFixedParentRect","top_1","newState","ttRect","hoverRectStyles","calculatePosition","docWidth","clientWidth","docHeight","clientHeight","rx","lx","ty","bBelow","bRight","bLeft","bAbove","fitsRight","fitsLeft","fitsAbove","deriveTooltipPosition","hasFixedAncestor","hide","showNativeTitle","ariaAttrs","safeChildren","onMouseLeave","onFocus","offsetParent","calculateFixedParentOffset","pageYOffset","pageXOffset","uniqueId","CSS_NUMBER","CSS_NUMBER_KEYS","property","prefix","styleToString","sortTuples","stringifyProperties","properties","selector","stylize","styles","rulesList","stylesList","nested","isUnique","hasNestedStyles","nestedStyles","propertyName","m","$unique","parseStyles","pid","rules","composeStylize","isStyle","toString","Style","Selector","Rule","noopChanges","change","Cache","changes","sheet","changeId","_keys","_children","_counters","count","clone","getStyles","curIndex","prevItemChangeId","merge","prevChangeId","unmerge","super","rule","len","stringHash","FreeStyle","registerStyle","registerKeyframes","registerHashRule","registerRule","registerCss","convertToStyles","val","subproperties","$displayName","raf","cb","flattened","extend","objects","objects_1","mediaQuery","mediaQuerySections","orientation","minWidth","mediaLength","prefersColorScheme","stringMediaQuery","createFreeStyle","TypeStyle","autoGenerateTag","cssRaw","mustBeValidCSS","_raw","_pendingRawChange","_styleUpdated","_freeStyle","forceRenderStyles","_getTag","fontFace","freeStyle","face","frames","$debugName","convertToKeyframes","animationName","reinit","_lastFreeStyleChangeId","setStylesTarget","_tag","stylesheet","classNames_1","getOwnPropertyNames","classDef","_autoGenerateTag","_pending","_afterAllSync","pending","head","appendChild","lastChangeId","ts","u","once","callbacks","deregister","emit","localStorage","globalThis","getItem","JSON","setItem","stringify","newValue","classList","matchMedia","addListener","removeListener","usePersistedDarkModeState","getDefaultOnChange","mediaQueryEventTarget","getInitialValue","classNameDark","classNameLight","storageKey","storageProvider","global","h","L","k","enable","disable","_objectSpread"],"sourceRoot":""}